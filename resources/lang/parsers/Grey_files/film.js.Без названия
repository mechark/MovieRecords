(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+1kG":function(e,t){},"+6sO":function(e,t,i){e.exports={dropdownMenu:"styles_dropdownMenu__2cZkM"}},"1vmJ":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return o}));var n=i("0D0S"),a=i.n(n),r=i("5QFK"),o="user-reviews",l=a()().publicRuntimeConfig,s="filmPage",c=l.isTouchMoviePageEnabled?[r.PagePlatforms.Desktop,r.PagePlatforms.Touch]:[r.PagePlatforms.Desktop]},"8n7h":function(e,t,i){e.exports={controlContainer:"styles_controlContainer__1ixcB",foldersMenu:"styles_foldersMenu__2GYEz",watchedButton:"styles_watchedButton__1iTwq",share:"styles_share__2dB6D",feedbackButtons:"styles_feedbackButtons__gdjI7",mainTrailerPreviewInfo:"styles_mainTrailerPreviewInfo__2t1CC"}},B277:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"g",(function(){return l})),i.d(t,"e",(function(){return s})),i.d(t,"h",(function(){return c})),i.d(t,"b",(function(){return v})),i.d(t,"i",(function(){return f})),i.d(t,"k",(function(){return b})),i.d(t,"f",(function(){return g})),i.d(t,"j",(function(){return O})),function(e){e.FetchInitialProps="film-page/FETCH_INITIAL_PROPS",e.AddBlocksConfig="film-page/ADD_BLOCKS_CONFIG",e.SetFolderEffect="film-page/SET_FOLDER_EFFECT",e.SetUserReviewVoteEffect="film-page/SET_USER_REVIEW_VOTE_EFFECT",e.SetUserRatingEffect="film-page/SET_USER_RATING_EFFECT",e.SetExpectationReactionEffect="film-page/SET_EXPECTATION_REACTION_EFFECT",e.FilmNoteSubmitEffect="film-page/SUBMIT_FILM_NOTE_EFFECT"}(n||(n={}));var a=i("kdn0"),r=Object(a.a)(n.FetchInitialProps),o=Object(a.a)(n.AddBlocksConfig),l=Object(a.a)(n.SetFolderEffect),s=Object(a.a)(n.SetUserReviewVoteEffect),c=Object(a.a)(n.SetUserRatingEffect),d=i("zjfJ");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var v=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){Object(d.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:-1}))};function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var f=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){Object(d.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:0}))};function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var b=function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){Object(d.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:-1}))},g=Object(a.a)(n.SetExpectationReactionEffect),O=Object(a.a)(n.FilmNoteSubmitEffect)},CMsO:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return xn}));var n,a=i("cxan"),r=i("HbGN"),o=i("cDcd"),l=i.n(o),s=i("uDfI"),c=i("MRcq"),d=i("dUAz"),u=i("IEND"),v=i("YfWb"),m=i("VtSi"),f=i.n(m),p=i("5QFK"),b=i("GaWJ"),g=i("ZmC0"),O=i("dOIt"),k=i("xNSc"),y=i("34P0"),I=function(e){var t,i=Object(k.d)({errors:null===e||void 0===e?void 0:e.errors,errorType:y.GraphqlErrorsTypes.NotFound,path:"tvSeries"});return Boolean((null===e||void 0===e?void 0:null===(t=e.data.tvSeries)||void 0===t?void 0:t.id)&&!i)},j=i("wZH4"),S=i("sYvi"),h=i("3J3H"),w=i("H/7H"),R=i("fGyu"),_=i("zygG"),T=i("6BAR"),N=i("w++g"),E=i("2o2g"),F=i("C9RK"),C=function(e){var t,i=Object(E.a)(F.FILM_TRIVIAS_QUERY,{variables:e}),n=Object(_.a)(i,2),a=n[0],r=n[1],o=r.data,s=r.fetchMore;return[a,l.a.useCallback((function(){var e,t;r.fetchMore({variables:{triviasOffset:(null===o||void 0===o?void 0:null===(e=o.film)||void 0===e?void 0:null===(t=e.trivias.items)||void 0===t?void 0:t.length)||0,triviasLimit:N.TRIVIAS_CHUNK_SIZE},updateQuery:function(e,t){var i,n=t.fetchMoreResult;return(null===n||void 0===n?void 0:null===(i=n.film)||void 0===i?void 0:i.trivias.items)?Object(T.a)(n,(function(t){var i,n;(null===(i=t.film)||void 0===i?void 0:i.trivias.items)&&(t.film.trivias.items=[].concat(Object(R.a)((null===(n=e.film)||void 0===n?void 0:n.trivias.items)||[]),Object(R.a)(t.film.trivias.items)))})):e}})}),[s,null===o||void 0===o?void 0:null===(t=o.film)||void 0===t?void 0:t.trivias.offset]),r]},M=function(e){return e&&function(e){return Boolean(e&&(e<1970||e>(new Date).getFullYear()-5))}(e)?e.toString():void 0},P=function(e){var t=e.title,i=e.isAvailableOnline,n=e.hasReviews,a=e.year,r=Object(o.useMemo)((function(){return M(a)}),[a]),l=Object(o.useMemo)((function(){return(null===t||void 0===t?void 0:t.russian)||(null===t||void 0===t?void 0:t.original)}),[t]),s=Object(o.useMemo)((function(){return function(e,t){var i=[];return e&&i.push("\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d"),t||i.push("\u0442\u0440\u0435\u0439\u043b\u0435\u0440\u044b, \u0434\u0430\u0442\u044b \u043f\u0440\u0435\u043c\u044c\u0435\u0440"),i.length?i.join(", "):void 0}(i,n)}),[i,n]);if(l)return[r?"".concat(l," (").concat(r,")"):"".concat(l),s,"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a"].filter(Boolean).join(" \u2013 ")},x=i("LLMW"),B=i("+3Fg"),D=i("DYnI");!function(e){e.Page="page",e.BaseFilmInfo="baseFilmInfo",e.MainSection="mainSection",e.SideSection="sideSection",e.AdditionalInformation="additionalInformation"}(n||(n={}));var A,U=i("zjfJ"),L=i("O94r"),V=i.n(L),q=i("7JmY"),z="\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0430\u043a\u0442\u043e\u0432 \u043e \u0444\u0438\u043b\u044c\u043c\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b. \u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b.",W="\u041e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435",Y="\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0444\u0438\u043b\u044c\u043c\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b. \u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b.",K="\u0424\u0438\u043b\u044c\u043c\xa0\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",H="\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u043c",Z="\u041f\u043e\u0445\u043e\u0436\u0438\u0435",Q="\u0412 \u0422\u043e\u043f 250 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",G=i("V2y5"),J=i("b6uz"),$=i("CeW+"),X=i("YhMw"),ee=i("GGMx"),te=i("9T5q");!function(e){e.OnlyIcon="onlyIcon",e.Compact="darkCompact",e.Full="full"}(A||(A={}));var ie,ne,ae,re,oe,le="\u0411\u0438\u043b\u0435\u0442\u044b",se="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u0431\u0438\u043b\u0435\u0442\u044b",ce=i("ESI9"),de=i.n(ce),ue=l.a.createElement,ve=(ie={},Object(U.a)(ie,q.BlocksColorSchemes.Dark,de.a.rootInDark),Object(U.a)(ie,q.BlocksColorSchemes.Light,de.a.rootInLight),Object(U.a)(ie,q.BlocksColorSchemes.Grey,de.a.rootInLight),ie),me=(ne={},Object(U.a)(ne,A.OnlyIcon,null),Object(U.a)(ne,A.Compact,le),Object(U.a)(ne,A.Full,se),ne),fe=function(e){var t=e.className,i=e.buttonType,n=e.url,a=e.colorScheme;return ue("a",{href:n,className:V()(t,ve[a],i===A.OnlyIcon&&de.a.onlyIcon),"data-tid":"225d8e88"},ue("i",{className:de.a.ticketIcon}),me[i])},pe=i("rQ1F"),be=function(e){return l.a.useMemo((function(){return e?e.reduce((function(e,t){return(null===t||void 0===t?void 0:t.person)?(e.push(t.person),e):e}),[]):[]}),[e])},ge=l.a.createElement,Oe=Object(o.memo)(N.MovieCrew),ke=function(e){var t=e.filmId,i=e.className,n=e.actors,a=e.voiceOverActors,r=be(null===n||void 0===n?void 0:n.items),o=be(null===a||void 0===a?void 0:a.items),s=l.a.useMemo((function(){return b.routes.getUrl(b.FilmRoutesName.Cast,{id:t})}),[t]),c=l.a.useMemo((function(){return b.routes.getUrl(b.RoutesNames.VoiceOverCast,{id:t})}),[t]),d=Object(q.useElementColorScheme)(),u=Object(pe.usePreviewCardPopover)({entityType:"Person",colorScheme:d}),v=u.handleOpenPopover,m=u.handleClosePopover;return ge(Oe,{className:i,actors:r,actorsTotal:null===n||void 0===n?void 0:n.total,moreActorsUrl:s,voiceOverActors:o,voiceOverActorsTotal:null===a||void 0===a?void 0:a.total,moreVoiceOverActorsUrl:c,onActorMouseEnter:v,onActorMouseLeave:m})},ye=i("j/kK"),Ie=l.a.createElement,je=Object(o.memo)(ye.b),Se=function(e){var t=Object(q.useColorScheme)();return Ie(je,Object(a.a)({},e,{colorScheme:t}))},he=i("H7E3"),we=i("d/yK"),Re=l.a.createElement,_e=function(e){var t=function(e){var t,i,n,a,r,o,l,s,c,d,u,v,m;return e?[{id:"year",title:N.tableDictionary.year,renderer:q.SingleLinkColumnRenderer,value:Object(ye.d)(e.productionYear)},{id:"countries",title:N.tableDictionary.countries,renderer:q.LinkArrayColumnRenderer,value:Object(N.transformCountries)("films",e.countries)},{id:"genres",title:N.tableDictionary.genres,renderer:N.GenresColumnRenderer,value:Object(N.transformGenres)(e.id,e.genres,Boolean((null===(t=e.keywords)||void 0===t?void 0:t.total)&&(null===(i=e.keywords)||void 0===i?void 0:i.total)>0),"films")},{id:"tagline",title:N.tableDictionary.tagline,renderer:q.PlainTextColumnRenderer,value:Object(N.transformTagLine)(e.tagline)},{id:"directors",title:N.tableDictionary.directors,renderer:pe.MembersColumnRendererWithPopoverContainer,value:Object(N.transformMember)(e.id,e.directors,"director")},{id:"writers",title:N.tableDictionary.writers,renderer:pe.MembersColumnRendererWithPopoverContainer,value:Object(N.transformMember)(e.id,e.writers,"writer")},{id:"producers",title:Object(N.presentProducerTitle)(e.countries),renderer:pe.MembersColumnRendererWithPopoverContainer,value:Object(N.transformMember)(e.id,e.producers,"producer")},{id:"operators",title:N.tableDictionary.operators,renderer:pe.MembersColumnRendererWithPopoverContainer,value:Object(N.transformMember)(e.id,e.operators,"operator"),degradationIfEmpty:!0},{id:"composers",title:N.tableDictionary.composers,renderer:pe.MembersColumnRendererWithPopoverContainer,value:Object(N.transformMember)(e.id,e.composers,"composer")},{id:"designers",title:N.tableDictionary.designers,renderer:pe.MembersColumnRendererWithPopoverContainer,degradationIfEmpty:!0,value:Object(N.transformUniqueMember)(e.id,e.designers,"design")},{id:"filmEditors",title:N.tableDictionary.filmEditors,renderer:pe.MembersColumnRendererWithPopoverContainer,degradationIfEmpty:!0,value:Object(N.transformMember)(e.id,e.filmEditors,"editor")},{id:"budget",title:N.tableDictionary.budget,renderer:q.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformBudget)(e.id,null===(n=e.boxOffice)||void 0===n?void 0:n.budget)},{id:"marketing",title:N.tableDictionary.marketing,renderer:q.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformBudget)(e.id,null===(a=e.boxOffice)||void 0===a?void 0:a.marketing)},{id:"usaBox",title:N.tableDictionary.usaBox,renderer:q.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformBudget)(e.id,null===(r=e.boxOffice)||void 0===r?void 0:r.usaBox)},{id:"worldBox",title:N.tableDictionary.worldBox,renderer:N.WorldBoxColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformWorldBox)(e.id,null===(o=e.boxOffice)||void 0===o?void 0:o.worldBox,null===(l=e.boxOffice)||void 0===l?void 0:l.usaBox)},{id:"audience",title:N.tableDictionary.audience,renderer:N.AudienceColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformAudience)(e.id,e.audience)},{id:"rusBox",title:N.tableDictionary.rusBox,renderer:q.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformBudget)(e.id,null===(s=e.boxOffice)||void 0===s?void 0:s.rusBox)},{id:"ruPremiere",title:N.tableDictionary.ruPremiereDate,renderer:N.ReleaseOptionsRenderer,degradationIfEmpty:!0,value:Object(N.transformRuPremiere)(e.id,e.distribution.rusRelease,e.releaseOptions)},{id:"worldPremieres",title:N.tableDictionary.worldPremieres,renderer:q.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformWorldPremieres)(e.id,null===(c=e.premieres)||void 0===c?void 0:c.total,e.worldPremiere)},{id:"reRelease",title:N.tableDictionary.reRelease,renderer:q.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformReReleasePremiere)(e.id,null===(d=e.distribution)||void 0===d?void 0:d.reRelease)},{id:"digitalRelease",title:N.tableDictionary.digitalRelease,renderer:q.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformDigitalPremiere)(e.id,null===(u=e.distribution)||void 0===u?void 0:u.digitalRelease)},{id:"dvdRelease",title:N.tableDictionary.dvdRelease,renderer:q.PlainTextColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformRelease)(e.releases,we.n.Dvd)},{id:"blueRayRelease",title:N.tableDictionary.blueRayRelease,renderer:q.PlainTextColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformRelease)(e.releases,we.n.Bluray)},{id:"ageRestriction",title:N.tableDictionary.ageRestriction,renderer:q.RestrictionColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformAgeRestriction)(null===(v=e.restriction)||void 0===v?void 0:v.age)},{id:"ratingMPAA",title:N.tableDictionary.ratingMPAA,renderer:q.RestrictionColumnRenderer,degradationIfEmpty:!0,value:Object(N.transformMpaaRestriction)(e.id,null===(m=e.restriction)||void 0===m?void 0:m.mpaa)},{id:"duration",title:N.tableDictionary.duration,renderer:q.PlainTextColumnRenderer,value:Object(N.transformDuration)(e.duration)}]:[]}(e.film);return Re(q.EncyclopedicTableContainer,{rowData:t})},Te=i("92Fn"),Ne=i("aJtV"),Ee=i("bLRs"),Fe=i("AJtZ"),Ce=i("QYI6"),Me=l.a.createElement,Pe=function(e){var t,i=e.filmId,n=e.userData,a=Object(q.useColorScheme)(),r=Object(s.useDispatch)(),c=Object(o.useCallback)((function(e){r(Object(O.setFilmUserRatingEffect)({filmId:i,value:e,rollbackVote:null===n||void 0===n?void 0:n.voting}))}),[r,i,null===n||void 0===n?void 0:n.voting]),d=l.a.useCallback((function(){r(Object(O.deleteFilmUserRatingEffect)({filmId:i,rollbackVote:null===n||void 0===n?void 0:n.voting}))}),[r,i,null===n||void 0===n?void 0:n.voting]);return Me(Fe.e,{colorScheme:a,userVotingValue:null===n||void 0===n?void 0:null===(t=n.voting)||void 0===t?void 0:t.value,onVote:c,onVoteDelete:d})},xe=i("OMzU"),Be=i("1vmJ"),De=l.a.createElement,Ae=function(e){var t=e.userReviewsTotal,i=Object(q.useColorScheme)(),n=Object(xe.a)({id:Be.c,isSmooth:!1});return De(Fe.n,{colorScheme:i,userReviewsTotal:t,onReviewClick:n})},Ue=i("mGvo"),Le=i.n(Ue),Ve=l.a.createElement,qe=function(e){var t=e.filmId,i=e.activeText,n=e.notActiveText,o=e.voting,c=Object(r.a)(e,["filmId","activeText","notActiveText","voting"]),d=Object(s.useDispatch)(),u=Le()(null===o||void 0===o?void 0:o.value),v=Boolean(null===o||void 0===o?void 0:o.value),m=l.a.useMemo((function(){return u&&i?i:!u&&n?n:void 0}),[u,i,n]),f=l.a.useCallback((function(){d(Object(O.setFilmWatchedEffect)({filmId:t,rollbackVote:o}))}),[d,o]),p=l.a.useCallback((function(){d(Object(O.unsetFilmWatchedEffect)({filmId:t,rollbackVote:o}))}),[d,o]);return Ve(te.MovieWatchedButtonContainer,Object(a.a)({onWatch:f,onUnwatch:p,buttonText:m,isFilmWatched:u,hasUserRating:v},c))},ze=l.a.createElement,We=function(e){var t=e.className,i=e.filmId,n=e.rating,a=e.userData,r=e.userReviewsTotal,o=Object(q.useColorScheme)(),l=Object(Fe.o)(n);return ze(N.MovieHeaderRatingBlock,{className:t,renderRating:function(){return l&&ze(Ce.a,{movieId:i,type:l.type,rating:l.rating,size:Fe.b.Md,valueDigits:1})},renderRatingLabel:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Expectation?ze(Fe.c,{colorScheme:o}):null},renderWatchedButton:function(e){var t=e.className;return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk&&ze(qe,{filmId:i,className:t,voting:null===a||void 0===a?void 0:a.voting})},renderKinopoiskRatingSnippet:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk?ze(Pe,{filmId:i,userData:a}):null},renderReviewsLink:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk?ze(Ae,{userReviewsTotal:r}):null}})},Ye=l.a.createElement,Ke=function(e){var t=e.filmId,i=e.className,n=e.buttonType,a=Object(q.useColorScheme)(),r=b.routes.getUrl(b.AfishaRoutes.BuyTicket,{filmId:t});return Ye(fe,{url:r,className:i,buttonType:n,colorScheme:a})},He=l.a.createElement,Ze=function(e){var t=e.film,i=Object(q.useColorScheme)();return He(N.ContentProductionStatus,{status:t.productionStatus,updateDate:t.productionStatusUpdateDate,colorScheme:i})},Qe=i("B277"),Ge=i("c4hu"),Je=i("yW1d"),$e=i("WZ32"),Xe=l.a.createElement,et=function(e){var t=e.movieId,i=Object(q.useColorScheme)(),n=Object(s.useSelector)((function(e){return Object($e.e)(e,{entityId:t})}));if(!(null===n||void 0===n?void 0:n.isAvailableOnline))return null;var a=n.descriptionText,r=n.descriptionSubtext,o=n.descriptionIconsUrls;return Xe(Je.WatchOnlineButtonDescription,{text:a,subtext:r,iconsUrls:o,colorScheme:Ge.a[i],alignment:Je.WatchOnlineButtonDescriptionAlignments.Left})},tt=i("azYU"),it=i("u40r"),nt=i("VJ21"),at=i.n(nt),rt=l.a.createElement,ot=Object(B.withZone)(n.MainSection)((function(e){var t,i,n,a,r,o,s,c,d,u,v=e.className,m=e.film,f=Object(q.useColorScheme)();return rt(N.MovieBasicInfoLayout,{className:v,header:rt(l.a.Fragment,null,rt("div",{className:at.a.productionStatus,"data-tid":"7e60689c"},rt(Ze,{film:m})),rt(Se,{className:at.a.title,film:m}),rt("div",{className:at.a.hdContainer,"data-tid":"7e60689c"},rt("div",{className:at.a.buttonsAndDescriptionContainer},(null===(t=m.onlineViewOptions)||void 0===t?void 0:t.isAvailableOnline)?rt(tt.a,null,m.shortDescription):null,rt("div",{className:at.a.buttonsContainer},rt(Ne.a,{className:at.a.watchOnlineButton,ott:null===m||void 0===m?void 0:m.ott,onlineViewOptions:null===m||void 0===m?void 0:m.onlineViewOptions}),m.isTicketsAvailable?rt(Ke,{filmId:m.id,buttonType:f===q.BlocksColorSchemes.Dark?A.Compact:A.Full}):null),rt("div",{className:at.a.watchOnlineDescription},rt(et,{movieId:m.id})),rt(Te.a,{streamItems:null===(i=m.ott)||void 0===i?void 0:null===(n=i.preview)||void 0===n?void 0:null===(a=n.streams)||void 0===a?void 0:a.items})))),rating:rt(We,{className:at.a.filmRating,filmId:m.id,rating:m.rating,userReviewsTotal:null===(r=m.userReviews)||void 0===r?void 0:r.total,userData:m.userData}),table:rt(l.a.Fragment,null,rt(q.SectionTitleContainer,{className:at.a.tableHeader,title:te.dictionary.aboutFilm,size:q.SectionTitleSizes.Sm}),rt(_e,{film:m})),crew:rt(ke,{className:at.a.filmCrew,filmId:m.id,actors:m.actors,voiceOverActors:m.voiceOverActors}),awards:(null===(o=m.filmMainAward)||void 0===o?void 0:o.items)?rt(Ee.a,{className:at.a.awards,movieId:m.id,items:m.filmMainAward.items,total:(null===(s=m.filmAwardWins)||void 0===s?void 0:s.total)||m.filmMainAward.total,isWinner:Boolean(null===(c=m.filmAwardWins)||void 0===c?void 0:c.total)}):null,sequelsPrequels:rt(it.a,{className:at.a.sequelsPrequels,movieId:m.id,movie:m,moviesTotal:(null===(d=m.sequelsPrequels)||void 0===d?void 0:d.total)||0}),userNote:rt(he.a,{movieId:m.id,note:null===m||void 0===m?void 0:null===(u=m.userData)||void 0===u?void 0:u.note,className:at.a.userNote,onSubmitEffect:Qe.j})})})),lt=i("4qUK"),st=i("3ANj"),ct=i("7xIC"),dt=l.a.createElement,ut=function(e){var t=function(t){var i=Object(ct.useRouter)(),n=Number(i.query.id);return n?dt(e,Object(a.a)({},t,{filmId:n})):null},i=e.displayName||e.name||"Component";return t.displayName="WithFilmId(".concat(i,")"),t},vt=i("3+Un"),mt=i("vPLW"),ft=i("B6j3"),pt=l.a.createElement,bt=Object(o.memo)(ft.c),gt=function(e){var t,i,n,o=e.filmId,l=e.blockMeta,s=l.index,c=l.type,d=e.className,u=Object(r.a)(e,["filmId","blockMeta","className"]),v=C({filmId:o,triviasType:we.o.Fact,triviasLimit:N.TRIVIAS_INITIAL_CHUNK_SIZE}),m=Object(_.a)(v,3),f=m[0],p=m[1],b=m[2],g=b.data,O=b.error,k=Object(vt.b)(null===g||void 0===g?void 0:null===(t=g.film)||void 0===t?void 0:null===(i=t.trivias)||void 0===i?void 0:i.items);return pt(mt.a,{placeholder:pt(ft.d,null),onLoad:f,isLoaded:Boolean(g||O)},k&&Boolean(k.length)&&pt(lt.BlockAnalyticsContainer,{blockId:c,position:s+1},pt(bt,Object(a.a)({},u,{spoilerWarningPlateText:z,className:d,onClick:p,facts:k,factsTotal:null===g||void 0===g?void 0:null===(n=g.film)||void 0===n?void 0:n.trivias.total}))))},Ot=l.a.createElement,kt=Object(o.memo)(ft.b),yt=function(e){var t,i,n,o=e.filmId,l=e.blockMeta,s=l.index,c=l.type,d=e.className,u=Object(r.a)(e,["filmId","blockMeta","className"]),v=C({filmId:o,triviasType:we.o.Blooper,triviasLimit:N.TRIVIAS_INITIAL_CHUNK_SIZE}),m=Object(_.a)(v,3),f=m[0],p=m[1],b=m[2],g=b.data,O=b.error,k=Object(vt.b)(null===g||void 0===g?void 0:null===(t=g.film)||void 0===t?void 0:null===(i=t.trivias)||void 0===i?void 0:i.items);return Ot(mt.a,{placeholder:Ot(ft.d,null),onLoad:f,isLoaded:Boolean(g||O)},k&&Boolean(k.length)&&Ot(lt.BlockAnalyticsContainer,{blockId:c,position:s+1},Ot(kt,Object(a.a)({},u,{title:W,spoilerWarningPlateText:Y,className:d,onClick:p,bloopers:k,bloopersTotal:null===g||void 0===g?void 0:null===(n=g.film)||void 0===n?void 0:n.trivias.total}))))},It=i("0D0S"),jt=i.n(It),St=i("eowz"),ht=i("iGtG"),wt=l.a.createElement,Rt=jt()().publicRuntimeConfig,_t=function(e){var t,i,n,a,r,l=e.filmId,c=e.className,d=e.blockMeta,u=d.type,v=d.index,m=Object(s.useSelector)(w.selectIsAuthorized),f=Object(s.useDispatch)(),g=Object(o.useCallback)((function(){return f(Object(St.loginEffect)())}),[f,m]),O=Object(E.a)(ht.a,{variables:{filmId:l,similarMoviesLimit:N.SIMILAR_MOVIES_LIMIT,withUserData:m}}),k=Object(_.a)(O,2),y=k[0],I=k[1],j=I.data,S=I.error,h=Object(q.useViewportSize)(),R=(null!==(t=Object(vt.b)(null===j||void 0===j?void 0:null===(i=j.film)||void 0===i?void 0:null===(n=i.userRecommendations)||void 0===n?void 0:n.items))&&void 0!==t?t:[]).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.movie)})),T=Object(te.transformUserRecomendationsToMoviePoster)(R),F=Object(o.useMemo)((function(){return"".concat(Rt.kinopoiskApiHost).concat(b.routes.getUrl(b.FilmRoutesName.RecommendMoreMovies,{id:l}))}),[l]);return h===p.ViewportSizes.Small&&0===T.length?null:wt(mt.a,{onLoad:y,isLoaded:Boolean(j||S),placeholder:wt(te.MovieCarouselSkeleton,{itemsCount:5,viewportSize:h})},wt(lt.BlockAnalyticsContainer,{blockId:u,position:v+1},wt(N.SimilarMoviesBlock,{movieId:l,className:c,viewportSize:h,total:(null===j||void 0===j?void 0:null===(a=j.film)||void 0===a?void 0:null===(r=a.userRecommendations)||void 0===r?void 0:r.total)||0,movies:T,isAuthorized:m,onUnauthorizedRecommendMoreClick:g,recommendModalIframeSrc:F,title:h===p.ViewportSizes.Small?Z:H})))},Tt=l.a.createElement,Nt=function(e){var t=function(e){var t,i,n,a,r,o,l,s,c,d;return e?[{id:"about",title:N.dictionary.navigationMenuAbout,status:q.NavigationTabsMenuItemStatus.Active},{id:"awards",title:N.dictionary.navigationMenuAwards,url:b.routes.getUrl(b.FilmRoutesName.AwardsPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(t=e.awards)||void 0===t?void 0:t.total)},{id:"premieres",title:N.dictionary.navigationMenuPremieres,url:b.routes.getUrl(b.FilmRoutesName.PremieresPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(i=e.premieres)||void 0===i?void 0:i.total)},{id:"studios",title:N.dictionary.navigationMenuStudios,url:b.routes.getUrl(b.FilmRoutesName.StudiosPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(n=e.production)||void 0===n?void 0:n.total)},{id:"relatedMovies",title:N.dictionary.navigationMenuRelatedMovies,url:b.routes.getUrl(b.FilmRoutesName.RelatedMoviesPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(a=e.relatedMovies)||void 0===a?void 0:a.total)},{id:"trailers",title:N.dictionary.navigationMenuTrailers,url:b.routes.getUrl(b.FilmRoutesName.TrailersPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(r=e.trailers)||void 0===r?void 0:r.total)},{id:"images",title:N.dictionary.navigationMenuImages,url:b.routes.getUrl(b.FilmRoutesName.ImagesPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(o=e.images)||void 0===o?void 0:o.total)},{id:"reviews",title:N.dictionary.navigationMenuReviews,url:b.routes.getUrl(b.FilmRoutesName.ReviewsPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(l=e.rating)||void 0===l?void 0:null===(s=l.reviewCount)||void 0===s?void 0:s.count)},{id:"sites",title:N.dictionary.navigationMenuSites,url:b.routes.getUrl(b.FilmRoutesName.SitesPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(c=e.sites)||void 0===c?void 0:c.total)},{id:"soundtracks",title:N.dictionary.navigationMenuSoundtracks,url:b.routes.getUrl(b.FilmRoutesName.SoundtracksPage,{id:e.id}),status:Object(N.getNavigationMenuItemStatusByTotal)(null===(d=e.soundtrack)||void 0===d?void 0:d.total)},{id:"subscribeToUpdates",title:N.dictionary.subscribeToUpdatesMenuSoundtracks,url:b.routes.getUrl(b.FilmRoutesName.SubscribeToUpdatesPage,{id:e.id}),status:q.NavigationTabsMenuItemStatus.Default}]:[]}(e.film);return Tt(q.NavigationTabs,{items:t})},Et=l.a.createElement,Ft=function(e){var t=e.film;return(null===t||void 0===t?void 0:t.synopsis)?Et(N.Synopsis,{synopsis:t.synopsis}):null},Ct=l.a.createElement,Mt=function(e){var t=e.filmId,i=e.currentReaction,n=Object(r.a)(e,["filmId","currentReaction"]),l=Object(s.useDispatch)(),c=Object(o.useCallback)((function(){l(Object(O.setFilmExpectationReactionEffect)({filmId:t,expectation:we.j.Yes,discard:i===we.j.Yes,rollbackExpectation:i||null}))}),[i]),d=Object(o.useCallback)((function(){l(Object(O.setFilmExpectationReactionEffect)({filmId:t,expectation:we.j.No,discard:i===we.j.No,rollbackExpectation:i||null}))}),[i]);return Ct(Fe.d,Object(a.a)({},n,{onLikeClick:c,onDislikeClick:d,currentReaction:i}))},Pt=l.a.createElement,xt=function(e){var t=e.className,i=e.filmId,n=e.positionInTop,a=e.expectationRating,r=e.userExpectation,o=l.a.useMemo((function(){return b.routes.getUrl(b.ComingSoonRoutes.Movies)}),[]);return Pt(N.MovieExpectationRatingBlock,{className:t,renderRating:function(e){var t=e.className;return Pt(Ce.a,{className:t,movieId:i,type:p.RatingTypes.Expectation,rating:a,size:Fe.b.Sm})},renderRatingBar:function(e){var t=e.className;return Pt(Fe.h,{className:t,positivePercent:a.value})},renderUserReactions:function(e){var t=e.className;return Pt(Mt,{filmId:i,className:t,currentReaction:null===r||void 0===r?void 0:r.value})},mostExpectationUrl:o,mostExpectationTitle:te.dictionary.mostExpectationFilms,positionInTop:n,positionInTopUrl:o})},Bt=l.a.createElement,Dt=function(e){var t=e.className,i=e.filmId,n=e.ratingValue,a=e.userVoting,r=Object(s.useDispatch)(),l=Object(o.useRef)(),c=Object(o.useCallback)((function(e){var t=e.value;l.current=t,r(Object(O.setFilmUserRatingEffect)({filmId:i,value:t,rollbackVote:a}))}),[r,i,a]);return Bt(Fe.f,{className:t,ratingValue:n||0,userRatingValue:null===(null===a||void 0===a?void 0:a.value)?void 0:null===a||void 0===a?void 0:a.value,onSubmit:c,isSubmitFailed:l.current!==a})},At=i("eMbe"),Ut=l.a.createElement,Lt=function(e){var t=e.filmId,i=e.value,n=e.votedAt,o=Object(r.a)(e,["filmId","value","votedAt"]),c=Object(s.useDispatch)(),d=l.a.useCallback((function(){c(Object(O.deleteFilmUserRatingEffect)({filmId:t,rollbackVote:{value:i,votedAt:n}}))}),[c,i,n,t]);return Ut(Fe.k,Object(a.a)({},o,{value:i,votedAt:n||void 0,onDeleteButtonClick:d}))},Vt=l.a.createElement,qt=function(e){var t=e.className,i=e.filmId,n=e.kinopoiskRating,a=e.imdbRating,r=e.userData,l=e.top250Position,s=e.filmTitle,c=Object(o.useMemo)((function(){return b.routes.getUrl(b.ListsRoutes.FilmTop250)}),[]);return Vt(N.MovieRatingBlock,{className:t,title:Fe.q.ratingBlockTitle,renderRateForm:function(e){var t=e.className;return Vt(Dt,{filmId:i,className:t,ratingValue:n.value,userVoting:null===r||void 0===r?void 0:r.voting})},renderRating:function(e){var t=e.className;return Vt(Ce.a,{movieId:i,className:t,rating:n,type:p.RatingTypes.Kinopoisk,valueDigits:3,countDigits:7,isLink:!0})},renderSubRating:function(e){var t=e.className;return a&&Vt(Fe.j,{className:t,type:p.RatingTypes.Imdb,value:a.value,count:a.count})},renderListPosition:l?function(e){var t=e.className;return Vt(te.MovieListPositionBadge,{className:t,href:c,listName:Q,position:l})}:void 0,renderWatchedButton:function(e){var t=e.className;return Vt(qe,{filmId:i,className:t,voting:null===r||void 0===r?void 0:r.voting,activeText:te.dictionary.watchedFilm})},renderAddReviewButton:function(e){var t=e.className;return Vt(At.a,{className:t})},renderUserRating:function(e){var t,n,a=e.className;return(null===r||void 0===r?void 0:null===(t=r.voting)||void 0===t?void 0:t.value)?Vt(Lt,{filmId:i,movieTitle:(null===s||void 0===s?void 0:s.russian)||(null===s||void 0===s?void 0:s.original),className:a,value:null===r||void 0===r?void 0:null===(n=r.voting)||void 0===n?void 0:n.value,votedAt:r.voting.votedAt}):null}})},zt=l.a.createElement,Wt=function(e){var t,i=e.className,n=e.film,a=n.rating.kinopoisk,r=n.rating.expectation;return a&&Object(Fe.p)(a)?zt(qt,{filmId:n.id,className:i,kinopoiskRating:a,imdbRating:n.rating.imdb,userData:n.userData,top250Position:n.top250,filmTitle:n.title}):r&&Object(Fe.p)(r)?zt(xt,{filmId:n.id,className:i,expectationRating:r,userExpectation:null===(t=n.userData)||void 0===t?void 0:t.expectation}):null},Yt=i("csgz"),Kt=i.n(Yt),Ht=l.a.createElement,Zt=function(e){var t,i,n,a,r,o,s,c=e.className,d=e.film,u=l.a.useMemo((function(){return b.routes.getUrl(b.FilmRoutesName.CriticReviewsPage,{id:d.id})}),[d.id]),v=Boolean((null===(t=d.criticReviews)||void 0===t?void 0:t.total)&&(null===(i=d.rating.russianCritics)||void 0===i?void 0:i.isActive)),m=Boolean(null===(n=d.rating.worldwideCritics)||void 0===n?void 0:n.isActive);return v||m?Ht("div",{className:V()(c,Kt.a.root,Object(U.a)({},Kt.a.rootSingleRating,!m||!v)),"data-tid":"166cbcc6"},d.rating.worldwideCritics&&m&&Ht(N.MovieRatingBarBlock,{className:Kt.a.ratingBar,sectionTitle:Fe.q.worldwideCriticsRatingBlockTitle,negativeTotal:null===(a=d.rating.worldwideCritics)||void 0===a?void 0:a.negativeCount,positiveTotal:null===(r=d.rating.worldwideCritics)||void 0===r?void 0:r.positiveCount,rating:Ht(Ce.a,{movieId:d.id,rating:d.rating.worldwideCritics,type:p.RatingTypes.WorldwideCritics,size:Fe.b.Sm,isLink:!0})}),d.rating.russianCritics&&v&&Ht(N.MovieRatingBarBlock,{className:Kt.a.ratingBar,sectionTitle:m?Fe.q.shortRussiaRatingBlockTitle:Fe.q.russiaRatingBlockTitle,sectionTitleUrl:u,negativeTotal:null===(o=d.negativeCriticReviews)||void 0===o?void 0:o.total,positiveTotal:null===(s=d.positiveCriticReviews)||void 0===s?void 0:s.total,rating:Ht(Ce.a,{movieId:d.id,rating:d.rating.russianCritics,type:p.RatingTypes.RussianCritics,size:Fe.b.Sm,isLink:!0})})):null},Qt=l.a.createElement,Gt=i("MQ1I"),Jt=i("5H1t"),$t=l.a.createElement,Xt=function(e){var t=e.className,i=e.userAvatarBaseUrl,n=e.userAvatarFallBackUrl,l=e.currentUserVoting,c=e.userId,d=e.reviewId,u=e.filmId,v=e.votes,m=Object(r.a)(e,["className","userAvatarBaseUrl","userAvatarFallBackUrl","currentUserVoting","userId","reviewId","filmId","votes"]),f=Object(Jt.i)(i,{mds:{x1:Jt.b.orig,x2:Jt.b.orig},fallback:n||""}),p=Object(s.useDispatch)(),b=l?Object(Gt.getReactionTypeByUserVoting)(l):void 0,g=Object(o.useCallback)((function(e){var t=Object(Gt.getUserVotingByReactionType)(e);t&&p(Object(O.filmPageSetUserReviewVoteEffect)({userVoting:t,userId:c,userReviewId:d,filmId:u,rollbackUserVoting:l,rollbackVotes:v}))}),[p,c,d,u,l,v]);return $t(Gt.MovieUserReview,Object(a.a)({},m,{userId:c,className:t,reviewId:d,userImg:f,votes:v,userAvatarBaseUrl:i,userReactionType:b,onUserReaction:g}))},ei=i("SCjx"),ti=i.n(ei),ii=l.a.createElement,ni=Object(o.memo)((function(e){var t,i,n,a,r,o,c,d,u,v,m,f=e.filmId,p=Object(s.useSelector)(w.selectIsAuthorized),b=Object(E.a)(F.FILM_USERS_REVIEWS_QUERY,{variables:{filmId:f,userReviewsOrderBy:N.REVIEWS_PAGINATED_LIST_DEFAULT_ORDER,userReviewsLimit:N.REVIEWS_PAGINATED_LIST_SIZE,withUserData:p}}),g=Object(_.a)(b,2),O=g[0],k=g[1],y=k.data,I=k.error;l.a.useEffect((function(){O()}),[O]);var j=(null===y||void 0===y?void 0:null===(t=y.film)||void 0===t?void 0:null===(i=t.usersReviewsPaginatedList)||void 0===i?void 0:i.items)||[],S=(null===y||void 0===y?void 0:null===(n=y.film)||void 0===n?void 0:null===(a=n.usersReviewsPaginatedList)||void 0===a?void 0:a.total)||0;return ii(mt.a,{placeholder:ii(Gt.MovieUsersReviewsSkeleton,{className:ti.a.root}),isLoaded:Boolean(y||I)},Boolean(S)&&Boolean(null===j||void 0===j?void 0:j.length)&&ii(Gt.MovieUsersReviews,{id:Be.c,filmId:null===y||void 0===y?void 0:null===(r=y.film)||void 0===r?void 0:r.id,negativeTotal:null===y||void 0===y?void 0:null===(o=y.film)||void 0===o?void 0:null===(c=o.usersReviewsNegative)||void 0===c?void 0:c.total,positiveTotal:null===y||void 0===y?void 0:null===(d=y.film)||void 0===d?void 0:null===(u=d.usersReviewsPositive)||void 0===u?void 0:u.total,neutralTotal:null===y||void 0===y?void 0:null===(v=y.film)||void 0===v?void 0:null===(m=v.usersReviewsNeutral)||void 0===m?void 0:m.total,total:S,navBar:ii(At.a,null),userReviews:j.map((function(e){var t,i,n;return(null===e||void 0===e?void 0:e.text)?ii(Xt,{key:e.id,filmId:f,className:ti.a.review,createdAt:e.createdAt,reviewId:e.id,text:e.text,title:e.title,type:e.type,votes:e.votes,userId:e.author.id,userReviewsCount:e.author.reviewsCount,userName:e.author.login,userAvatarBaseUrl:null===(t=e.author.avatar)||void 0===t?void 0:t.avatarsUrl,userAvatarFallBackUrl:null===(i=e.author.avatar)||void 0===i?void 0:i.fallbackUrl,currentUserVoting:null===(n=e.userData)||void 0===n?void 0:n.voting}):null}))}))})),ai=i("Y/if"),ri=i("gnpC"),oi=i.n(ri),li=l.a.createElement,si=i("VUoP"),ci=i("DeaZ"),di=l.a.createElement,ui=(ae={},Object(U.a)(ae,we.k.Article,p.MediaPostTypes.article),Object(U.a)(ae,we.k.Game,p.MediaPostTypes.game),Object(U.a)(ae,we.k.Interview,p.MediaPostTypes.interview),Object(U.a)(ae,we.k.News,p.MediaPostTypes.news),Object(U.a)(ae,we.k.Photostory,p.MediaPostTypes.photostory),Object(U.a)(ae,we.k.Podcast,p.MediaPostTypes.podcast),Object(U.a)(ae,we.k.Video,p.MediaPostTypes.video),ae),vi=i("x79q"),mi=l.a.createElement,fi={x1:Jt.c.w300h192,x2:Jt.c.w768h489},pi=l.a.createElement,bi=l.a.createElement,gi=(re={},Object(U.a)(re,p.BlocksTypes.MovieFacts,ut(gt)),Object(U.a)(re,p.BlocksTypes.MovieBloopers,ut(yt)),Object(U.a)(re,p.BlocksTypes.MovieDetails,ut((function(e){var t=e.className,i=e.filmId,n=e.blockMeta,a=n.index,r=n.type,o=Object(s.useSelector)(w.selectIsAuthorized),l=Object(s.useSelector)(w.selectUserKpCityId),c=Object(E.b)(F.FILM_BASE_INFO_QUERY,{variables:{filmId:i,withUserData:o,kpCityId:l||null}}).data;return(null===c||void 0===c?void 0:c.film)?Qt(lt.BlockAnalyticsContainer,{blockId:r,position:a+1},Qt(N.MovieDetailsBlock,{className:t,tabs:Qt(Nt,{film:c.film}),synopsis:Qt(Ft,{film:c.film}),filmRating:Qt(Wt,{film:c.film}),criticRating:Qt(Zt,{film:c.film})})):null}))),Object(U.a)(re,p.BlocksTypes.MovieUserReviews,ut((function(e){var t,i=e.filmId,n=e.blockMeta,a=n.index,r=n.type,o=Object(E.b)(F.FILM_KINOPOISK_RATING_QUERY,{variables:{filmId:i}}).data,l=Object(Fe.p)(null===o||void 0===o?void 0:null===(t=o.film)||void 0===t?void 0:t.rating.kinopoisk),c=Object(s.useSelector)(w.selectIsAuthorized);return li("div",{className:oi.a.root,"data-tid":"ef14cc89"},li(lt.BlockAnalyticsContainer,{blockId:r,position:a+1},li(ni,{filmId:i}),l&&c&&li(ai.a,{filmId:i})))}))),Object(U.a)(re,p.BlocksTypes.MovieSimilarFilms,ut(_t)),Object(U.a)(re,p.BlocksTypes.MovieMediaPosts,ut((function(e){var t,i,n,a,r=e.filmId,l=e.blockMeta,s=l.index,c=l.type,d=Object(E.a)(ci.a,{variables:{filmId:r,mediaPostsLimit:N.MEDIA_POSTS_CHUNK_SIZE}}),u=Object(_.a)(d,2),v=u[0],m=u[1],f=m.data,g=m.error,O=Object(q.useViewportSize)(),k=Object(o.useMemo)((function(){return b.routes.getUrl(b.FilmRoutesName.MediaPostsPage,{id:r})}),[r]),y=Object(vt.b)(null===f||void 0===f?void 0:null===(t=f.film)||void 0===t?void 0:null===(i=t.mediaPosts)||void 0===i?void 0:i.items);return di(mt.a,{onLoad:v,isLoaded:Boolean(f||g),placeholder:di(si.b,{itemsCount:3})},y&&Boolean(y.length)&&di(lt.BlockAnalyticsContainer,{blockId:c,position:s+1},di(si.a,{moreItemsLink:k,blockTitle:ye.c.mediaPostsBlockTitle,postsTotal:(null===f||void 0===f?void 0:null===(n=f.film)||void 0===n?void 0:null===(a=n.mediaPosts)||void 0===a?void 0:a.total)||0,viewportSize:O,showButtonsPermanently:O!==p.ViewportSizes.Small,posts:y.map((function(e){return{id:e.id,title:e.title,commentsCount:e.commentsCount,commentable:e.commentable,publishedAt:e.publishedAt,type:ui[e.type],thumbImage:e.thumbImage}}))})))}))),Object(U.a)(re,p.BlocksTypes.MovieTrailersAndTeasers,ut((function(e){e.className;var t,i,n,o,l=e.filmId,s=e.blockMeta,c=s.type,d=s.index,u=Object(r.a)(e,["className","filmId","blockMeta"]),v=Object(E.a)(F.FILM_TRAILERS_QUERY,{variables:{filmId:l,trailersLimit:N.TRAILERS_CHUNK_SIZE}}),m=Object(_.a)(v,2),f=m[0],p=m[1],b=p.data,g=p.error,O=Object(q.useViewportSize)(),k=Object(vt.b)(null===b||void 0===b?void 0:null===(t=b.film)||void 0===t?void 0:null===(i=t.trailers)||void 0===i?void 0:i.items),y=null===b||void 0===b?void 0:null===(n=b.film)||void 0===n?void 0:null===(o=n.trailers)||void 0===o?void 0:o.total;return mi(mt.a,{placeholder:mi(N.MovieTrailersBlockSkeleton,null),onLoad:f,isLoaded:Boolean(b||g)},Boolean(k.length)&&mi(lt.BlockAnalyticsContainer,{blockId:c,position:d+1},mi(N.MovieTrailersBlock,Object(a.a)({},u,{movieId:l,viewportSize:O,trailers:k.map((function(e){return{id:e.id,createdAt:e.createdAt,duration:e.duration,isEmbedded:e.isEmbedded,isMain:!1,preview:e.preview,title:e.title}})),trailersTotal:y,renderTrailer:function(e){var t=e.trailer,i=e.isLoaded,n=e.className,a=e.index;return t&&mi(vi.a,{movieId:l,trailer:t,previewMdsSizes:fi,isLoaded:i,className:n,index:a})}}))))}))),Object(U.a)(re,p.BlocksTypes.MovieCriticReviews,ut((function(e){var t,i,n,a,r=e.filmId,o=e.blockMeta,l=o.index,s=o.type,c=Object(E.a)(F.FILM_CRITICS_REVIEWS_QUERY,{variables:{filmId:r,criticReviewsLimit:N.MOVIE_PAGE_CRITIC_REVIEWS_CHUNK_SIZE}}),d=Object(_.a)(c,2),u=d[0],v=d[1],m=v.data,f=v.error,p=Object(q.useViewportSize)(),b=null===m||void 0===m?void 0:null===(t=m.film)||void 0===t?void 0:null===(i=t.criticReviews)||void 0===i?void 0:i.items,g=null===m||void 0===m?void 0:null===(n=m.film)||void 0===n?void 0:null===(a=n.criticReviews)||void 0===a?void 0:a.total;return pi(mt.a,{placeholder:pi(N.MovieCriticsReviewsBlockSkeleton,null),onLoad:u,isLoaded:Boolean(m||f)},b&&Boolean(b.length)&&g&&pi(lt.BlockAnalyticsContainer,{blockId:s,position:l+1},pi(N.MovieCriticsReviewsBlock,{movieId:r,items:b,total:g,viewportSize:p})))}))),Object(U.a)(re,p.BlocksTypes.MovieSuperBanner,N.MovieSuperBanner),Object(U.a)(re,p.BlocksTypes.MovieTodayInCinema,st.a),re),Oi=Object(B.withZone)(n.AdditionalInformation)((function(){var e=Object(s.useSelector)((function(e){return Object(O.selectFilmPageAdditionalInformationBlockConfig)(e)}));return e?bi(lt.BlocksRenderer,{config:e,componentsMap:gi,shouldSendShowAnalyticsEvent:!0}):null})),ki=l.a.createElement,yi=Object(o.memo)((function(e){var t=e.className,i=e.filmId,n=e.poster,a=e.title,r=e.soundtrack,o=e.filmUserFolders,c=e.postersTotal,d=Object(s.useDispatch)(),u=Object(q.useColorScheme)(),v=Object(s.useSelector)((function(e){return Object($e.f)(e,{movieId:i})})),m=Object(N.useCopyrightHolderSrcSet)({baseUrl:v}),f=Object(te.useIsMoviePlannedToWatch)(o),g=l.a.useCallback((function(){d(Object(O.setFilmFolderEffect)({filmId:i,folderId:p.DefaultFolders.WatchList,operation:f?p.FolderOperation.Remove:p.FolderOperation.Add}))}),[i,d,f]),k=Object(N.usePosterSrcSet)({avatarsUrl:null===n||void 0===n?void 0:n.avatarsUrl,fallbackUrl:null===n||void 0===n?void 0:n.fallbackUrl}),y=Object(N.usePostersUrl)({movieId:i,postersTotal:c}),I=Object(N.usePosterAlt)({russian:a.russian,original:a.original}),j=l.a.useMemo((function(){return(null===r||void 0===r?void 0:r.total)?b.routes.getUrl(b.FilmRoutesName.SoundtracksPage,{id:i}):void 0}),[null===r||void 0===r?void 0:r.total]);return ki(N.MoviePosterWithControls,{className:t,colorScheme:u,imgSrcSet:k,imgAlt:I,postersUrl:y,soundtrackUrl:j,copyrightImgSrcSet:m,isToWatchButtonActive:f,onToWatchButtonClick:g})})),Ii=i("gOV+"),ji=i("Ag3s"),Si=i("+6sO"),hi=i.n(Si),wi=l.a.createElement,Ri=function(e){var t=e.className,i=e.filmId,n=e.filmUserFolders,a=Object(s.useDispatch)(),r=Object(Ii.useFolderMenuColorScheme)(),o=Object(s.useSelector)(ji.e),c=Object(s.useSelector)(w.selectIsAuthorized),d=Object(Ii.useFolderLinksDecorator)(o,i),u=l.a.useCallback((function(){c||a(Object(St.loginEffect)())}),[a,c]),v=l.a.useCallback((function(e){var t=e.folderId;a(Object(O.setFilmFolderEffect)({filmId:i,folderId:t,operation:p.FolderOperation.Add}))}),[a,i]),m=l.a.useCallback((function(e){var t=e.folderId;a(Object(O.setFilmFolderEffect)({filmId:i,folderId:t,operation:p.FolderOperation.Remove}))}),[a,i]),f=l.a.useMemo((function(){return null===n||void 0===n?void 0:n.reduce((function(e,t){return(null===t||void 0===t?void 0:t.id)&&e.push(t.id),e}),[])}),[n]);return wi(Ii.FoldersMenu,{className:t,colorScheme:r,folders:d,onFolderSelect:v,onFolderUnselect:m,onDropdownButtonClick:u,selectedFoldersIds:f,dropdownMenuClassName:hi.a.dropdownMenu})},_i=i("EgEk"),Ti=i("fDEn"),Ni=i("TVy6"),Ei=i("8n7h"),Fi=i.n(Ei),Ci=l.a.createElement,Mi=Object(B.withZone)(n.SideSection)((function(e){var t,i,n,a,r=e.className,o=e.film,s=Object(Fe.p)(o.rating.kinopoisk),c=null===(t=o.userData)||void 0===t?void 0:t.folders;return Ci(N.MovieBasicMediaLayout,{className:r,poster:Ci(yi,{filmId:o.id,poster:null===o||void 0===o?void 0:o.poster,postersTotal:null!==(i=null===o||void 0===o?void 0:null===(n=o.posters)||void 0===n?void 0:n.total)&&void 0!==i?i:0,title:o.title,soundtrack:o.soundtrack,filmUserFolders:c}),socialControls:Ci(l.a.Fragment,null,Ci(N.MovieShare,{className:Fi.a.share}),Ci(Ti.a,{movieId:o.id,className:Fi.a.feedbackButtons})),trailer:Ci(Ni.a,{movieId:o.id,mainTrailer:null===o||void 0===o?void 0:o.mainTrailer,previewInfoClassName:Fi.a.mainTrailerPreviewInfo}),userControls:Ci(l.a.Fragment,null,Ci("div",{className:Fi.a.controlContainer,"data-tid":"bb5fc559"},Ci(Ri,{filmId:o.id,className:Fi.a.foldersMenu,filmUserFolders:c}),s&&Ci(qe,{filmId:o.id,className:Fi.a.watchedButton,voting:null===(a=o.userData)||void 0===a?void 0:a.voting})),Ci(_i.a,{movieId:o.id,filmUserFolders:c}))})})),Pi=i("aJna"),xi=i("oEWk"),Bi=l.a.createElement,Di=l.a.createElement,Ai=i("fUZK"),Ui=i("+uNs"),Li=i("ndTU"),Vi=i.n(Li),qi=l.a.createElement,zi=l.a.createElement,Wi=(oe={},Object(U.a)(oe,p.BlocksTypes.MovieListsRelations,ut((function(e){var t,i,n,a,r,l=function(e){var t,i,n=Object(E.a)(F.FILM_LIST_RELATIONS_QUERY,{variables:e,notifyOnNetworkStatusChange:!0}),a=Object(_.a)(n,2),r=a[0],l=a[1],s=l.data,c=l.fetchMore;return[r,Object(o.useCallback)((function(){var e,t,i,n;return c({variables:{movieListsRelationsOffset:null!==(e=null===s||void 0===s?void 0:null===(t=s.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:null===(n=i.items)||void 0===n?void 0:n.length)&&void 0!==e?e:0},updateQuery:function(e,t){var i,n,a=t.fetchMoreResult;return(null===a||void 0===a?void 0:null===(i=a.film)||void 0===i?void 0:null===(n=i.movieListsRelationsPaginatedList)||void 0===n?void 0:n.items)?Object(T.a)(a,(function(t){var i,n,a,r;(null===t||void 0===t?void 0:null===(i=t.film)||void 0===i?void 0:null===(n=i.movieListsRelationsPaginatedList)||void 0===n?void 0:n.items)&&(t.film.movieListsRelationsPaginatedList.items=[].concat(Object(R.a)((null===(a=e.film)||void 0===a?void 0:null===(r=a.movieListsRelationsPaginatedList)||void 0===r?void 0:r.items)||[]),Object(R.a)(t.film.movieListsRelationsPaginatedList.items)))})):e}})}),[null===s||void 0===s?void 0:null===(t=s.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:i.items,c]),l]}({filmId:e.filmId,movieListsRelationsLimit:N.MOVIE_LIST_RELATION_CHUNK_SIZE}),s=Object(_.a)(l,3),c=s[0],d=s[1],u=s[2],v=u.data,m=u.error,f=u.loading,p=Object(vt.b)(null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:i.items),b=null!==(n=null===v||void 0===v?void 0:null===(a=v.film)||void 0===a?void 0:null===(r=a.movieListsRelationsPaginatedList)||void 0===r?void 0:r.total)&&void 0!==n?n:0;return Bi(mt.a,{onLoad:c,isLoaded:Boolean(v||m),placeholder:Bi(N.MovieListsBlockSkeleton,null)},p&&p.length>0&&Bi(N.MovieListsBlock,{items:p,loading:f,total:b,onFetchMore:d}))}))),Object(U.a)(oe,p.BlocksTypes.MovieSoundtrack,ut((function(e){var t,i,n,a,r,o=e.filmId,l=Object(E.a)(F.FILM_SOUNDTRACK_QUERY,{variables:{filmId:o,soundtrackLimit:N.FILM_LIST_SOUNDTRACK_CHUNK_SIZE}}),s=Object(_.a)(l,2),c=s[0],d=s[1],u=d.data,v=d.error,m=null===u||void 0===u?void 0:null===(t=u.film)||void 0===t?void 0:null===(i=t.soundtrack)||void 0===i?void 0:null===(n=i.items)||void 0===n?void 0:n[0];return Di(mt.a,{onLoad:c,isLoaded:Boolean(u||v),placeholder:Di(N.MovieSoundtrackSkeleton,null)},m&&Di(N.MovieSoundtrack,{movieId:o,soundtrack:m,count:(null===u||void 0===u?void 0:null===(a=u.film)||void 0===a?void 0:null===(r=a.soundtrack)||void 0===r?void 0:r.total)||0}))}))),Object(U.a)(oe,p.BlocksTypes.MovieFriends,ut((function(e){var t,i,n=e.filmId,a=Object(o.useState)(we.f.VoteValueDesc),r=a[0],c=a[1],d=function(e){var t,i,n,a=Object(E.a)(F.FILM_FRIENDS_VOTING_QUERY,{variables:e}),r=Object(_.a)(a,2),o=r[0],s=r[1],c=s.data,d=s.fetchMore;return[o,l.a.useCallback((function(e){var t,i,n,a;s.fetchMore({variables:{friendsVotingLimit:e,friendsVotingOffset:(null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsVoting)||void 0===i?void 0:null===(n=i.friendsVoting)||void 0===n?void 0:null===(a=n.items)||void 0===a?void 0:a.length)||0},updateQuery:function(e,t){var i,n,a,r=t.fetchMoreResult;return(null===r||void 0===r?void 0:null===(i=r.film)||void 0===i?void 0:null===(n=i.filmFriendsVoting)||void 0===n?void 0:null===(a=n.friendsVoting)||void 0===a?void 0:a.items)?Object(T.a)(r,(function(t){var i,n,a,r,o,l;(null===(i=t.film)||void 0===i?void 0:null===(n=i.filmFriendsVoting)||void 0===n?void 0:null===(a=n.friendsVoting)||void 0===a?void 0:a.items)&&(t.film.filmFriendsVoting.friendsVoting.items=[].concat(Object(R.a)((null===(r=e.film)||void 0===r?void 0:null===(o=r.filmFriendsVoting)||void 0===o?void 0:null===(l=o.friendsVoting)||void 0===l?void 0:l.items)||[]),Object(R.a)(t.film.filmFriendsVoting.friendsVoting.items)))})):e}})}),[d,null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsVoting)||void 0===i?void 0:null===(n=i.friendsVoting)||void 0===n?void 0:n.offset]),s]}({filmId:n,friendsVotingLimit:N.FILM_FRIENDS_INITIAL_ITEMS_LIMIT,sortFriendsVotingBy:r}),u=Object(_.a)(d,3),v=u[0],m=u[1],f=u[2],p=f.data,b=f.error,g=f.loading,O=function(e){var t,i,n,a=Object(E.a)(F.FILM_FRIENDS_OF_INTERESTS_QUERY,{variables:e}),r=Object(_.a)(a,2),o=r[0],s=r[1],c=s.data,d=s.fetchMore;return[o,l.a.useCallback((function(e){var t,i,n,a;d({variables:{friendsOfInterestsVotingLimit:e,friendsOfInterestsVotingOffset:(null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsOfInterestsVoting)||void 0===i?void 0:null===(n=i.friendsOfInterestsVoting)||void 0===n?void 0:null===(a=n.items)||void 0===a?void 0:a.length)||0},updateQuery:function(e,t){var i,n,a,r=t.fetchMoreResult;return(null===r||void 0===r?void 0:null===(i=r.film)||void 0===i?void 0:null===(n=i.filmFriendsOfInterestsVoting)||void 0===n?void 0:null===(a=n.friendsOfInterestsVoting)||void 0===a?void 0:a.items)?Object(T.a)(r,(function(t){var i,n,a,r,o,l;(null===(i=t.film)||void 0===i?void 0:null===(n=i.filmFriendsOfInterestsVoting)||void 0===n?void 0:null===(a=n.friendsOfInterestsVoting)||void 0===a?void 0:a.items)&&(t.film.filmFriendsOfInterestsVoting.friendsOfInterestsVoting.items=[].concat(Object(R.a)((null===(r=e.film)||void 0===r?void 0:null===(o=r.filmFriendsOfInterestsVoting)||void 0===o?void 0:null===(l=o.friendsOfInterestsVoting)||void 0===l?void 0:l.items)||[]),Object(R.a)(t.film.filmFriendsOfInterestsVoting.friendsOfInterestsVoting.items)))})):e}})}),[d,null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsOfInterestsVoting)||void 0===i?void 0:null===(n=i.friendsOfInterestsVoting)||void 0===n?void 0:n.offset]),s]}({filmId:n,friendsOfInterestsVotingLimit:N.FILM_FRIENDS_INITIAL_ITEMS_LIMIT}),k=Object(_.a)(O,3),y=k[0],I=k[1],j=k[2],S=j.data,h=j.error,C=((null===p||void 0===p?void 0:null===(t=p.film)||void 0===t?void 0:t.filmFriendsVoting)||{}).friendsVoting,M=((null===S||void 0===S?void 0:null===(i=S.film)||void 0===i?void 0:i.filmFriendsOfInterestsVoting)||{}).friendsOfInterestsVoting,P=Object(o.useCallback)((function(e){var t=e.id;c(t)}),[c]),x=Object(o.useCallback)((function(){return m(N.FILM_FRIENDS_MORE_ITEMS_LIMIT)}),[C]),B=Object(o.useCallback)((function(){return I(N.FILM_FRIENDS_MORE_ITEMS_LIMIT)}),[M]),D=Object(o.useState)(N.MovieFriendsTabStates.Skeleton),A=D[0],U=D[1],L=Object(s.useSelector)(w.selectIsAuthorized);Object(o.useEffect)((function(){var e,t,i,n,a,r;L?(null===C||void 0===C?void 0:null===(e=C.items)||void 0===e?void 0:e.length)||(null===M||void 0===M?void 0:null===(t=M.items)||void 0===t?void 0:t.length)?(null===C||void 0===C?void 0:null===(i=C.items)||void 0===i?void 0:i.length)&&(null===M||void 0===M?void 0:null===(n=M.items)||void 0===n?void 0:n.length)?U(N.MovieFriendsTabStates.FullTabs):(null===C||void 0===C?void 0:null===(a=C.items)||void 0===a?void 0:a.length)?U(N.MovieFriendsTabStates.OnlyFirstTab):(null===M||void 0===M?void 0:null===(r=M.items)||void 0===r?void 0:r.length)&&U(N.MovieFriendsTabStates.OnlySecondTab):U(N.MovieFriendsTabStates.Empty):U(N.MovieFriendsTabStates.Unauthorized)}),[A,C,M,L]);var V=Object(s.useDispatch)(),q=Object(o.useCallback)((function(){return V(Object(St.loginEffect)())}),[V]),z=Object(o.useCallback)((function(){v(),y()}),[C,M]),W=Object(vt.b)(null===C||void 0===C?void 0:C.items),Y=Object(vt.b)(null===M||void 0===M?void 0:M.items);return qi(mt.a,{onLoad:z,isLoaded:Boolean((p||b)&&(S||h)),placeholder:qi(N.MovieFriendsTab,{title:N.dictionary.friends},qi(N.FriendsSkeleton,null))},qi(N.MovieFriendsTabs,{className:Vi.a.root},A===N.MovieFriendsTabStates.Unauthorized&&qi(N.MovieFriendsTab,{title:N.dictionary.friends},qi(N.MovieFriendsLoginButton,{onLoginClick:q,description:Ui.a.findFriendsDescription})),(A===N.MovieFriendsTabStates.OnlyFirstTab||A===N.MovieFriendsTabStates.FullTabs)&&qi(N.MovieFriendsTab,{title:N.dictionary.friends},qi(Ai.b,{isLoading:g,averageVote:null===C||void 0===C?void 0:C.averageVote,total:null===C||void 0===C?void 0:C.total,list:W||[],error:b||void 0,handleLoadMore:x,handleSortFriendsVotingChange:P,sortBy:r})),(A===N.MovieFriendsTabStates.OnlySecondTab||A===N.MovieFriendsTabStates.FullTabs)&&qi(N.MovieFriendsTab,{title:qi(N.FriendsOfInterestsTabTitle,null)},qi(Ai.a,{averageVote:null===M||void 0===M?void 0:M.weightedAverageVote,total:null===M||void 0===M?void 0:M.total,list:Y||[],error:h||void 0,handleLoadMore:B})),A===N.MovieFriendsTabStates.Empty&&qi(N.MovieFriendsTab,{title:N.dictionary.friends},qi(N.EmptyFriends,{description:Ui.a.emptyFriendsDescription}))))}))),Object(U.a)(oe,p.BlocksTypes.Banner300x600,N.Banner300x600),Object(U.a)(oe,p.BlocksTypes.FilmBanner200x200,N.FilmSidebarBanner200x200),oe),Yi=function(){var e=Object(s.useSelector)((function(e){return Object(xi.b)(e)}));return e?zi(lt.BlocksRenderer,{config:e,componentsMap:Wi}):null},Ki=i("lT43"),Hi=i("FLYk"),Zi=Object(B.withZone)(n.BaseFilmInfo)(q.EncyclopedicPageLayout),Qi=i("WbMH"),Gi=i("pIEH");var Ji,$i=l.a.createElement,Xi=function(e){var t,i,n,a,r=e.film,o=e.producers,l=e.directors,s=e.actors,c=e.awards,d={"@context":"https://schema.org","@type":"Movie",url:(a=r.id,"".concat("https://kinopoisk.ru").concat(b.routes.getUrl(b.FilmRoutesName.FilmPage,{id:a}))),name:Object(Gi.j)(r.title),alternativeHeadline:Object(Gi.b)(r.title),alternateName:Object(Gi.b)(r.title),description:Object(Gi.g)(r.synopsis),aggregateRating:Object(Gi.a)(r.rating.kinopoisk),image:Object(Gi.l)(r.poster),genre:Object(Gi.h)(r.genres),award:Object(Gi.c)(c),contentRating:Object(Gi.d)((null===(t=r.restriction)||void 0===t?void 0:t.mpaa)||null),isFamilyFriendly:Object(Gi.i)((null===(i=r.restriction)||void 0===i?void 0:i.age)||null),producer:Object(Gi.k)(o),director:Object(Gi.k)(l),actor:Object(Gi.k)(s),trailer:Object(Gi.n)(r.mainTrailer,Object(Gi.j)(r.title),Object(Gi.i)((null===(n=r.restriction)||void 0===n?void 0:n.age)||null)),countryOfOrigin:Object(Gi.e)(r.countries),timeRequired:Object(Gi.m)(r.duration),datePublished:Object(Gi.f)(r.productionYear)};return $i(Qi.JsonLd,{item:d})},en=l.a.createElement,tn=function(e){var t,i,n,a,r=e.film,o=Object(vt.b)(null===(t=r.producers)||void 0===t?void 0:t.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),l=Object(vt.b)(null===(i=r.directors)||void 0===i?void 0:i.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),s=Object(vt.b)(null===(n=r.actors)||void 0===n?void 0:n.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),c=Object(vt.b)(null===(a=r.filmMainAward)||void 0===a?void 0:a.items).filter((function(e){return e.win})).map((function(e){return e.nomination.award}));return en(Xi,{film:r,producers:o,directors:l,actors:s,awards:c})},nn=i("ysqo"),an=i.n(nn),rn=i("YEzN"),on=l.a.createElement,ln=function(e){var t=e.film,i=e.title,n=Object(s.useSelector)((function(e){return Object(x.a)(e,{movieId:t.id})})),a=Object(rn.a)({movieTitle:t.title,year:t.productionYear||void 0,isAvailableOnline:n,seoDescription:ye.c.seoDescription}),r=Object(rn.d)({filmTitle:t.title,year:t.productionYear||void 0}),o=function(e){var t=b.routes.getUrl(b.FilmRoutesName.FilmPage,{id:e});return{kinopoisk:"https://www.kinopoisk.ru",full:"".concat("https://www.kinopoisk.ru").concat(t),phoneApp:"https/www.kinopoisk.ru".concat(t),twitterCard:"kp://filmDetail/".concat(e)}}(t.id),c=Object(rn.b)(i,t.title),d=Object(rn.c)({mainTrailer:t.mainTrailer,restriction:t.restriction,baseUrl:o.kinopoisk}),u=t.poster?Object(Gi.l)(t.poster):void 0,v=Object(q.useViewportSize)();return on(an.a,null,on("title",{"data-tid":"b5cfde5"},i),v===p.ViewportSizes.Small&&on("meta",{name:"viewport",content:"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width","data-tid":"b5cfde5"}),on("meta",{name:"description",content:a,"data-tid":"b5cfde5"}),on("meta",{name:"keywords",content:c,"data-tid":"b5cfde5"}),r&&on(l.a.Fragment,null,on("meta",{property:"title",content:r,"data-tid":"b5cfde5"}),on("meta",{property:"og:title",content:r,"data-tid":"b5cfde5"}),on("meta",{property:"twitter:title",content:r,"data-tid":"b5cfde5"}),on("meta",{name:"mrc__share_title",content:r,"data-tid":"b5cfde5"})),on("meta",{property:"og:description",content:a,"data-tid":"b5cfde5"}),on("meta",{property:"og:type",content:"video.movie","data-tid":"b5cfde5"}),on("meta",{property:"og:url",content:o.full,"data-tid":"b5cfde5"}),on("meta",{property:"fb:app_id",content:"121953784483000","data-tid":"b5cfde5"}),on("meta",{property:"fb:pages",content:"152308956519","data-tid":"b5cfde5"}),on("link",{rel:"canonical",href:o.full,"data-tid":"b5cfde5"}),on("link",{rel:"alternate",href:"android-app://ru.kinopoisk/".concat(o.phoneApp),"data-tid":"b5cfde5"}),on("link",{rel:"alternate",href:"ios-app://EK7Z26L6D4.ru.kinopoisk/".concat(o.phoneApp),"data-tid":"b5cfde5"}),d&&on(l.a.Fragment,null,on("meta",{property:"ya:ovs:upload_date",content:d.uploadDate,"data-tid":"b5cfde5"}),on("meta",{property:"ya:ovs:adult",content:d.isAdult,"data-tid":"b5cfde5"}),on("meta",{property:"ya:ovs:allow_embed",content:"true","data-tid":"b5cfde5"}),on("meta",{property:"og:video:type",content:"text/html","data-tid":"b5cfde5"}),on("meta",{name:"video_src",content:d.sharingUrl,"data-tid":"b5cfde5"}),on("meta",{name:"video_width",content:d.width,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:player:width",content:d.width,"data-tid":"b5cfde5"}),on("meta",{name:"video_height",content:d.height,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:player:height",content:d.height,"data-tid":"b5cfde5"}),on("meta",{name:"video_type",content:"application/x-shockwave-flash","data-tid":"b5cfde5"}),on("meta",{name:"medium",content:"video","data-tid":"b5cfde5"}),on("meta",{name:"twitter:player",content:d.sharingUrl,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:player:stream",content:d.sharingUrl,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:player:stream:content_type",content:"video/mp4","data-tid":"b5cfde5"}),on("meta",{property:"og:video:iframe",content:d.sharingUrl,"data-tid":"b5cfde5"}),on("meta",{property:"og:video:url",content:d.sharingUrl,"data-tid":"b5cfde5"}),on("meta",{property:"og:video:secure_url",content:d.sharingUrl,"data-tid":"b5cfde5"}),d.preview&&on("link",{rel:"videothumbnail",href:d.preview,"data-tid":"b5cfde5"}),d.duration&&on(l.a.Fragment,null,on("meta",{property:"video:duration",content:d.duration,"data-tid":"b5cfde5"}),on("meta",{property:"og:duration",content:d.duration,"data-tid":"b5cfde5"}))),u&&on(l.a.Fragment,null,on("link",{rel:"image_src",href:u,"data-tid":"b5cfde5"}),on("meta",{property:"og:image",content:u,"data-tid":"b5cfde5"}),on("meta",{property:"vk:image",content:u,"data-tid":"b5cfde5"}),on("meta",{property:"og:image:width",content:"600","data-tid":"b5cfde5"}),on("meta",{property:"og:image:height",content:"900","data-tid":"b5cfde5"})),o.twitterCard&&on(l.a.Fragment,null,on("meta",{name:"twitter:card",content:"app","data-tid":"b5cfde5"}),on("meta",{name:"twitter:site",content:"kinopoiskru","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:name:iphone",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:id:iphone",content:"477718890","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:url:iphone",content:o.twitterCard,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:name:ipad",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:id:ipad",content:"477718890","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:url:ipad",content:o.twitterCard,"data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:name:googleplay",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:id:googleplay",content:"ru.kinopoisk","data-tid":"b5cfde5"}),on("meta",{name:"twitter:app:url:googleplay",content:o.twitterCard,"data-tid":"b5cfde5"})))},sn=i("OJp1"),cn=i("zs4Q"),dn=i.n(cn),un=l.a.createElement,vn=function(e){var t=e.filmId,i=e.title,n=e.setElementRef,a=e.filmData,r=e.mainInfoBlockColorScheme,o=e.hasPromoTrailer,s=Object(Hi.a)({movieId:t});if(!(null===a||void 0===a?void 0:a.film))throw new Error("Film ".concat(t," missed in cache"));return un(l.a.Fragment,null,un($.a,null),un(ln,{film:a.film,title:i}),un(tn,{film:a.film}),un(sn.a,null),un(X.a,{params:J.SPECIAL_POPUP_DESKTOP_PARAMS,renderAdfoxComponent:function(e){return un(J.AdfoxSpecialPopup,{params:e})}}),un(ee.a,{ref:n},un(G.a,{routeName:b.FilmRoutesName.FilmPage,pageId:t}),un(Ki.a,{movieId:t}),un(q.ColorSchemeProvider,{value:r},un(Zi,{className:dn.a.root,main:un(ot,{film:a.film,className:V()(dn.a.basicInfoSection,Object(U.a)({},dn.a.basicInfoSectionDark,r===q.BlocksColorSchemes.Dark))}),mainClassName:dn.a.main,sidebar:un(Mi,{film:a.film,className:V()(dn.a.basicMediaSection,Object(U.a)({},dn.a.basicMediaSectionDark,r===q.BlocksColorSchemes.Dark))}),delimiterClassName:V()(Object(U.a)({},dn.a.delimiterInDark,r===q.BlocksColorSchemes.Dark)),containerClassName:o?dn.a.videoContainer:void 0,background:un(Pi.a,{movieId:t,onlineNameplateTitle:K})})),un(q.EncyclopedicPageLayout,{className:dn.a.root,sidebar:un(Yi,null),sidebarPosition:q.SidebarPositions.Right,mainClassName:dn.a.additionalInformationSection,sidebarClassName:dn.a.sidebarSection,main:un(Oi,null)}),un(N.KpEmptyMovieIframe,{src:s})))},mn=l.a.createElement,fn=Object(B.withZone)(n.Page,(function(e){return{id:e.filmId,url:e.originalUrl,title:e.title}}))((function(e){var t=Object(D.useVisibilitySensor)().setElementRef;return mn(vn,Object(a.a)({setElementRef:t},e))})),pn=l.a.createElement,bn=function(e){var t,i,n,o,l=e.filmId,c=Object(r.a)(e,["filmId"]),d=Object(s.useSelector)(w.selectIsAuthorized),u=Object(s.useSelector)(w.selectUserKpCityId),v=Object(E.b)(F.FILM_BASE_INFO_QUERY,{variables:{filmId:l,withUserData:d,kpCityId:u||null}}).data,m=Object(s.useSelector)((function(e){return Object(x.b)(e,{movieId:l})})),f=Object(s.useSelector)((function(e){return Object(x.a)(e,{movieId:l})})),p=Boolean(Object(s.useSelector)((function(e){return Object(x.d)(e,{movieId:l})}))),b=P({title:null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:t.title,isAvailableOnline:f,hasReviews:Boolean(null===v||void 0===v?void 0:null===(i=v.film)||void 0===i?void 0:null===(n=i.userReviews)||void 0===n?void 0:n.total),year:null===v||void 0===v?void 0:null===(o=v.film)||void 0===o?void 0:o.productionYear});return pn(fn,Object(a.a)({},c,{filmId:l,title:b,filmData:v,mainInfoBlockColorScheme:m,hasPromoTrailer:p}))},gn=i("NKw4"),On=i("F8Ip"),kn=i.n(On),yn=l.a.createElement,In=function(e){var t,i,n,a=e.className,r=e.film,o=r.id,s=r.rating,c=r.title,d=r.userData,u=r.productionYear,v=r.genres,m=r.countries,f=r.restriction,b=r.duration,g=r.poster,O=r.synopsis,k=r.shortDescription,y=r.ott,I=r.onlineViewOptions,j=r.isTicketsAvailable,S=Object(Fe.o)(s);return yn(N.TouchMajorInfoLayout,{className:a,title:yn(N.TouchMovieTitle,{title:c}),subtitle:yn(N.TouchMovieSubtitle,{renderActiveRating:function(){return S?yn("span",{"data-tid":"f881bb38"},yn(Ce.a,{movieId:o,type:S.type,rating:S.rating,size:Fe.b.Sm,valueDigits:1,viewportSize:p.ViewportSizes.Small})):null},userVoteValue:null!==(t=null===d||void 0===d?void 0:null===(i=d.voting)||void 0===i?void 0:i.value)&&void 0!==t?t:null,title:c}),meta:yn(N.TouchMovieMeta,{productionYear:u,genres:v,countries:m,seasonsCount:null,restrictionAge:null!==(n=null===f||void 0===f?void 0:f.age)&&void 0!==n?n:null,duration:b}),poster:yn(N.TouchMoviePosterContainer,{avatarsUrl:null===g||void 0===g?void 0:g.avatarsUrl,fallbackUrl:null===g||void 0===g?void 0:g.fallbackUrl,russianTitle:c.russian,originalTitle:c.original}),actionButtons:yn(l.a.Fragment,null,yn("div",{className:kn.a.actionButtonsRoot,"data-tid":"37ded00f"},yn(Ne.a,{className:kn.a.watchOnlineButton,ott:y,onlineViewOptions:I,isTouch:!0}),j?yn(Ke,{filmId:r.id,className:V()(kn.a.ticketsButton,(null===r||void 0===r?void 0:r.onlineViewOptions)&&kn.a.ticketsButtonWithWatchOnline),buttonType:(null===r||void 0===r?void 0:r.onlineViewOptions)?A.OnlyIcon:A.Full}):null),I&&Object(Je.isPlusWatchOnlineButton)(I)&&I.textToDisplay?yn("div",{className:kn.a.subOfferText,"data-tid":"37ded00f"},I.textToDisplay):null),synopsis:O?yn(N.TouchMovieSynopsis,{shortDescription:k,synopsis:O}):yn(N.EmptyMovieInfo,null),buttonBar:yn("div",null,"[button bar]")})},jn=i("NgRY"),Sn=l.a.createElement,hn=l.a.createElement,wn=(Ji={},Object(U.a)(Ji,p.BlocksTypes.MovieFacts,ut(gt)),Object(U.a)(Ji,p.BlocksTypes.MovieBloopers,ut(yt)),Object(U.a)(Ji,p.BlocksTypes.MovieSimilarFilms,ut(_t)),Object(U.a)(Ji,p.BlocksTypes.MovieSequelFilms,ut((function(e){var t,i=e.filmId,n=e.className,a=e.blockMeta,r=a.type,o=a.index,l=Object(s.useSelector)(w.selectIsAuthorized),c=Object(q.useViewportSize)(),d=Object(E.a)(F.SEQUELS_PREQUELS_QUERY,{variables:{filmId:i,withUserData:l}}),u=Object(_.a)(d,2),v=u[0],m=u[1],f=m.data,p=m.error;return Sn(jn.a,{handleFetchData:v,movieId:i,movie:null!==(t=null===f||void 0===f?void 0:f.film)&&void 0!==t?t:null,error:p,className:n,blockIndex:o,blockType:r,viewportSize:c})}))),Ji),Rn=Object(B.withZone)(n.AdditionalInformation)((function(){var e=Object(s.useSelector)((function(e){return Object(O.selectFilmPageTouchBlockConfig)(e)}));return e?hn(lt.BlocksRenderer,{config:e,componentsMap:wn,shouldSendShowAnalyticsEvent:!0}):null})),_n=l.a.createElement,Tn=function(e){var t=e.film,i=e.title;return _n(q.ViewportSizeProvider,{value:p.ViewportSizes.Small},_n(ln,{film:t,title:i}),_n(X.a,{params:J.SPECIAL_POPUP_TOUCH_PARAMS,renderAdfoxComponent:function(e){return _n(J.AdfoxSpecialPopup,{params:e})}}),_n(tn,{film:t}),_n(gn.a,null,_n(In,{film:t}),_n(Rn,null)))},Nn=l.a.createElement,En=Object(B.withZone)(n.Page,(function(e){return{id:e.filmId,url:e.originalUrl,title:e.title}}))((function(e){var t=Object(D.useVisibilitySensor)().setElementRef;return Nn(Tn,Object(a.a)({setElementRef:t},e))})),Fn=l.a.createElement,Cn=function(e){var t,i,n,o,l=e.filmId,c=Object(r.a)(e,["filmId"]),d=Object(s.useSelector)(w.selectIsAuthorized),u=Object(s.useSelector)(w.selectUserKpCityId),v=Object(E.b)(F.FILM_BASE_INFO_QUERY,{variables:{filmId:l,withUserData:d,kpCityId:u||null}}).data,m=Object(s.useSelector)((function(e){return Object(x.a)(e,{movieId:l})})),f=P({title:null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:t.title,isAvailableOnline:m,hasReviews:Boolean(null===v||void 0===v?void 0:null===(i=v.film)||void 0===i?void 0:null===(n=i.userReviews)||void 0===n?void 0:n.total),year:null===v||void 0===v?void 0:null===(o=v.film)||void 0===o?void 0:o.productionYear});if(!(null===v||void 0===v?void 0:v.film))throw new Error("Film ".concat(l," missed in cache"));return Fn(En,Object(a.a)({},c,{filmId:l,title:f,film:v.film}))},Mn=l.a.createElement,Pn=function(e){var t=e.filmId,i=Object(r.a)(e,["filmId"]),n=Object(s.useSelector)(c.b);return Mn(n?bn:Cn,Object(a.a)({filmId:t},i))};Pn.getInitialProps=function(e){var t,i,n,a,r,o,l,s,c;return f.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(a=Number(e.query.id),e.store.runSaga){d.next=3;break}throw new Error("Redux Saga not found");case 3:return d.next=5,f.a.awrap(e.store.runSaga(g.a,Object(O.filmPageFetchInitialPropsEffect)({filmId:a,requestId:null===(t=e.req)||void 0===t?void 0:t.requestId})).toPromise());case 5:if(r=d.sent,!(null===(o=r.baseInfo)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.film)){d.next=9;break}return d.abrupt("return",{filmId:a,originalUrl:null===(l=e.req)||void 0===l?void 0:l.originalUrl});case 9:if(s=Object(k.d)({errors:null===o||void 0===o?void 0:o.errors,errorType:y.GraphqlErrorsTypes.NotFound,path:"film"}),c=s?p.HttpStatusesCodes.NotFound:p.HttpStatusesCodes.InternalServerError,e.res){d.next=13;break}return d.abrupt("return",{filmId:a,statusCode:c});case 13:if(c!==p.HttpStatusesCodes.NotFound||!I(o)){d.next=17;break}return e.res.redirect(b.routes.getUrl(b.FilmRoutesName.TvSeriesPage,{id:a}),302),e.res.end(),d.abrupt("return",{filmId:a});case 17:return e.res.statusCode=c,e.res.end(),d.abrupt("return",{filmId:a,statusCode:c,originalUrl:null===(n=e.req)||void 0===n?void 0:n.originalUrl});case 20:case"end":return d.stop()}}),null,null,null,Promise)};var xn=Object(u.withDynamicModules)([Object(j.a)(),Object(S.a)(),Object(O.getFilmPageModule)(),Object(v.a)(),Object(h.a)(),Object(d.a)(),Object(c.a)()])(Pn)},CuJt:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/film",function(){return i("CMsO")}])},DeaZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FilmMediaPosts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filmId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mediaPostsLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"film"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"filmId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"mediaPosts"},name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"mediaPostsLimit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commentable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:563,source:{body:"\n    query FilmMediaPosts($filmId: Long!, $mediaPostsLimit: Int = 10) {\n        film(id: $filmId) {\n            id\n            mediaPosts: post(limit: $mediaPostsLimit) {\n                items {\n                    id\n                    title\n                    commentsCount\n                    publishedAt\n                    commentable\n                    type\n                    thumbImage {\n                        avatarsUrl\n                        fallbackUrl\n                    }\n                }\n                total\n            }\n        }\n    }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},DzDZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return Pe}));var n=i("yw3l"),a=i("ZmC0"),r=i("VtSi"),o=i.n(r),l=i("M6UX"),s=i("B277"),c=i("OrNH"),d=i("5QFK"),u=i("Ag3s"),v=i("8Hq5"),m=i("BFBg"),f=i("6BAR"),p=i("C9RK"),b=i("PQv5"),g=i.n(b),O=i("xNSc"),k=function(e){var t=e.apolloClient,i=e.filmId,n=Object(O.f)({id:i});try{return t.readFragment({id:n,fragment:p.FILM_USER_DATA_FRAGMENT})}catch(a){g.a.error("Read user data fragment failed")}return null},y=function(e){var t=e.apolloClient,i=e.filmId,n=e.data,a=e.logger,r=Object(O.f)({id:i});try{t.writeFragment({id:r,fragment:p.FILM_USER_DATA_FRAGMENT,data:n})}catch(o){a&&a.error("Mutate user data fragment failed")}},I=function(e){var t=e.folderId,i=e.apolloClient,n=e.filmId,a=e.logger,r=k({apolloClient:i,filmId:n});if(null===r||void 0===r?void 0:r.userData){var o=r.userData.folders||[];if(o.some((function(e){return(null===e||void 0===e?void 0:e.id)===t}))){var l=Object(f.a)(r,(function(e){e.userData&&(e.userData.folders=o.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==t})))}));y({apolloClient:i,filmId:n,data:l,logger:a})}}},j=i("d/yK"),S=o.a.mark(h);function h(e){var t,i,n,a,r,l,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.folderId,i=e.apolloClient,n=e.filmId,null===(a=k({apolloClient:i,filmId:n}))||void 0===a?void 0:a.userData){o.next=4;break}return o.abrupt("return");case 4:if(r=a.userData.folders||[],!r.some((function(e){return(null===e||void 0===e?void 0:e.id)===t}))){o.next=8;break}return o.abrupt("return");case 8:return o.next=10,Object(c.i)(u.d,{folderId:t});case 10:return l=o.sent,s=Object(f.a)(a,(function(e){e.userData&&(e.userData.folders=r.concat({__typename:j.p.Folder,id:t,name:l||""}))})),o.t0=y,o.t1=i,o.t2=n,o.t3=s,o.next=18,Object(c.f)(m.a);case 18:o.t4=o.sent,o.t5={apolloClient:o.t1,filmId:o.t2,data:o.t3,logger:o.t4},(0,o.t0)(o.t5);case 21:case"end":return o.stop()}}),S)}var w=o.a.mark(R);function R(e){var t,i,n,a,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.b)(u.a);case 2:return t=e.payload,i=t.filmId,n=t.folderId,a=t.operation,o.next=5,Object(c.b)(v.a);case 5:if(r=o.sent,a!==d.FolderOperation.Add){o.next=10;break}return o.next=9,Object(c.b)(h,{folderId:n,apolloClient:r,filmId:i});case 9:return o.abrupt("return");case 10:if(a!==d.FolderOperation.Remove){o.next=22;break}return o.t0=c.b,o.t1=I,o.t2=n,o.t3=r,o.t4=i,o.next=18,Object(c.f)(m.a);case 18:return o.t5=o.sent,o.t6={folderId:o.t2,apolloClient:o.t3,filmId:o.t4,logger:o.t5},o.next=22,(0,o.t0)(o.t1,o.t6);case 22:case"end":return o.stop()}}),w)}var _=i("9T5q"),T=i("WZ32"),N=o.a.mark(E);function E(e){var t,i,n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.filmId,n=t.folderId,a=t.operation,r.next=4,Object(T.g)({movieId:i,folderId:n,operation:a,movieType:_.MovieTypes.Film});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),N)}var F=i("zjfJ"),C=o.a.mark(x);function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){Object(F.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function x(e){var t,i,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.operation,n=Object(s.g)(P({},t,{operation:i===d.FolderOperation.Add?d.FolderOperation.Remove:d.FolderOperation.Add})),a.next=5,Object(c.b)(R,n);case 5:case"end":return a.stop()}}),C)}var B=o.a.mark(A),D=80;function A(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(D,(function(e){var t=e.payload;return"".concat(t.filmId).concat(t.folderId)}),s.g.type,R,E,x);case 2:case"end":return e.stop()}}),B)}var U=i("FhWZ"),L=o.a.mark(z);function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){Object(F.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function z(e){var t,i,n,a,r,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.userReviewId,i=e.votes,n=e.voting,o.next=3,Object(c.b)(v.a);case 3:if(a=o.sent,(null===(r=Object(U.c)({apolloClient:a,userReviewId:t}))||void 0===r?void 0:r.votes)&&r.userData){o.next=7;break}return o.abrupt("return");case 7:return l=Object(f.a)(r,(function(e){e.userData&&r.votes&&e.userData.__typename===j.p.UserReviewUserData&&(n&&(e.userData.voting=n),e.votes=q({},e.votes,{},i))})),o.t0=U.b,o.t1=t,o.t2=a,o.t3=l,o.next=14,Object(c.f)(m.a);case 14:o.t4=o.sent,o.t5={userReviewId:o.t1,apolloClient:o.t2,data:o.t3,logger:o.t4},(0,o.t0)(o.t5);case 17:case"end":return o.stop()}}),L)}var W=o.a.mark(H);function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){var t=e.rollbackVotes,i=e.userVoting,n=e.rollbackUserVoting,a=t.negativeCount,r=t.positiveCount;switch(i){case j.s.Helpful:r+=1;break;case j.s.Unhelpful:a+=1}switch(n){case j.s.Helpful:r=Math.max(0,r-1);break;case j.s.Unhelpful:a=Math.max(0,a-1)}return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Object(F.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{negativeCount:a,positiveCount:r})}function H(e){var t,i,n,a,r,l;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.userVoting,n=t.userReviewId,a=t.rollbackVotes,r=t.rollbackUserVoting,o.next=3,Object(c.b)(u.a);case 3:return l=K({rollbackVotes:a,userVoting:i,rollbackUserVoting:r}),o.next=6,Object(c.b)(z,{userReviewId:n,votes:l,voting:i});case 6:case"end":return o.stop()}}),W)}var Z=i("MQ1I"),Q=i("RixH"),G=o.a.mark(J);function J(e){var t,i,n,a,r,l,s;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.userReviewId,n=t.filmId,a=t.userId,r=t.userVoting,o.next=3,Object(c.b)(u.a);case 3:return o.next=5,Object(c.d)(1e3);case 5:if(l=Object(Z.getReactionTypeByUserVoting)(r)){o.next=8;break}throw new Error("voteType is invalid");case 8:return o.next=10,Object(c.b)(Q.a);case 10:return s=o.sent,o.next=13,s.voteReview({filmId:n,reviewId:i,userId:a,voteType:l});case 13:case"end":return o.stop()}}),G)}var $=o.a.mark(X);function X(e){var t,i,n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.userReviewId,n=t.rollbackVotes,a=t.rollbackUserVoting,r.next=3,Object(c.b)(z,{userReviewId:i,votes:n,voting:a});case 3:case"end":return r.stop()}}),$)}var ee=o.a.mark(te);function te(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(100,(function(e){var t=e.payload,i=t.userReviewId,n=t.userId;return"".concat(i).concat(n)}),s.e.type,H,J,X);case 2:case"end":return e.stop()}}),ee)}var ie=o.a.mark(re);function ne(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ae(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach((function(t){Object(F.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function re(e){var t,i,n,a,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.filmId,i=e.vote,o.next=3,Object(c.b)(v.a);case 3:if(n=o.sent,a=k({apolloClient:n,filmId:t})){o.next=7;break}return o.abrupt("return");case 7:return r=Object(f.a)(a,(function(e){(null===e||void 0===e?void 0:e.userData)&&(e.userData.voting=i?ae({__typename:j.p.Vote},i):null)})),o.t0=y,o.t1=t,o.t2=n,o.t3=r,o.next=14,Object(c.f)(m.a);case 14:o.t4=o.sent,o.t5={filmId:o.t1,apolloClient:o.t2,data:o.t3,logger:o.t4},(0,o.t0)(o.t5);case 17:case"end":return o.stop()}}),ie)}var oe=o.a.mark(le);function le(e){var t,i,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.b)(u.a);case 2:return t=e.payload,i=t.filmId,n=t.value,a.next=5,Object(c.b)(re,{filmId:i,vote:{value:n>=0?n:null,votedAt:null}});case 5:case"end":return a.stop()}}),oe)}var se=o.a.mark(ce);function ce(e){var t,i,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.filmId,n=t.value,a.next=4,Object(T.h)({movieId:i,value:n});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),se)}var de=o.a.mark(ue);function ue(e){var t,i,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.filmId,n=t.rollbackVote,a.next=3,Object(c.b)(re,{filmId:i,vote:n});case 3:case"end":return a.stop()}}),de)}var ve=o.a.mark(fe),me=80;function fe(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(me,(function(e){var t=e.payload;return String(t.filmId)}),s.h.type,le,ce,ue);case 2:case"end":return e.stop()}}),ve)}var pe=i("LPUJ"),be=o.a.mark(ke);function ge(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(i),!0).forEach((function(t){Object(F.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ge(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ke(e){var t,i,n,a,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.filmId,i=e.expectation,o.next=3,Object(c.b)(v.a);case 3:if(n=o.sent,a=k({apolloClient:n,filmId:t})){o.next=7;break}return o.abrupt("return");case 7:return r=Object(f.a)(a,(function(e){(null===e||void 0===e?void 0:e.userData)&&(e.userData.expectation=Oe({},e.userData.expectation,{__typename:j.p.MovieUserExpectation,value:i}))})),o.t0=y,o.t1=n,o.t2=t,o.t3=r,o.next=14,Object(c.f)(m.a);case 14:o.t4=o.sent,o.t5={apolloClient:o.t1,filmId:o.t2,data:o.t3,logger:o.t4},(0,o.t0)(o.t5);case 17:case"end":return o.stop()}}),be)}var ye=o.a.mark(Ie);function Ie(e){var t,i,n,a,r;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.expectation,n=t.filmId,a=t.discard,o.next=3,Object(c.b)(u.a);case 3:return r=Object(pe.a)(i,a),o.next=6,ke({filmId:n,expectation:r});case 6:case"end":return o.stop()}}),ye)}var je=o.a.mark(Se);function Se(e){var t,i,n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.expectation,n=t.filmId,a=t.discard,r.next=3,Object(pe.b)({id:n,rawExpectation:i,discard:a});case 3:case"end":return r.stop()}}),je)}var he=o.a.mark(we);function we(e){var t,i,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.filmId,n=t.rollbackExpectation,a.next=3,ke({filmId:i,expectation:n});case 3:case"end":return a.stop()}}),he)}var Re=o.a.mark(_e);function _e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(200,(function(e){var t=e.payload;return String(t.filmId)}),s.f.type,Ie,Se,we);case 2:case"end":return e.stop()}}),Re)}var Te=i("9/Y8"),Ne=i("6YES"),Ee=o.a.mark(Ce),Fe=o.a.mark(Me);function Ce(e){var t,i,n,a,r,l,s,d;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.message,n=t.movieId,a=t.requestId,o.next=3,Object(c.h)(Object(Te.createRequest)({id:a}));case 3:return o.next=5,Object(c.b)(Ne.a);case 5:return r=o.sent,o.prev=6,o.next=9,Object(c.h)(Object(Te.updateRequestStatus)({id:a,status:Te.AppRequestStatuses.Pending}));case 9:return o.next=11,r.updateNote({filmId:n,message:i});case 11:return o.next=13,Object(c.b)(v.a);case 13:if(l=o.sent,null===(s=k({apolloClient:l,filmId:n}))||void 0===s?void 0:s.userData){o.next=17;break}return o.abrupt("return");case 17:return d=Object(f.a)(s,(function(e){if(null===e||void 0===e?void 0:e.userData){var t={__typename:j.p.UserMovieNote,value:i,makeDate:null};e.userData.note=t}})),o.t0=y,o.t1=l,o.t2=n,o.t3=d,o.next=24,Object(c.f)(m.a);case 24:return o.t4=o.sent,o.t5={apolloClient:o.t1,filmId:o.t2,data:o.t3,logger:o.t4},(0,o.t0)(o.t5),o.next=29,Object(c.h)(Object(Te.updateRequestStatus)({id:a,status:Te.AppRequestStatuses.Success}));case 29:o.next=35;break;case 31:return o.prev=31,o.t6=o.catch(6),o.next=35,Object(c.h)(Object(Te.updateRequestStatus)({id:a,status:Te.AppRequestStatuses.Failed}));case 35:case"end":return o.stop()}}),Ee,null,[[6,31]])}function Me(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.k)(s.a.FilmNoteSubmitEffect,Ce);case 2:case"end":return e.stop()}}),Fe)}var Pe=[a.b,A,te,fe,_e,n.a,Me]},ESI9:function(e,t,i){e.exports={root:"styles_root__2veYq",rootInDark:"styles_rootInDark__B03Na styles_root__2veYq",rootInLight:"styles_rootInLight__1b6gD styles_root__2veYq",ticketIcon:"styles_ticketIcon__1KW_R",onlyIcon:"styles_onlyIcon__2c8Rv"}},F8Ip:function(e,t,i){e.exports={actionButtonsRoot:"styles_actionButtonsRoot__ji2Y1",ticketsButton:"styles_ticketsButton__3lC8h",watchOnlineButton:"styles_watchOnlineButton__1j89J",ticketsButtonWithWatchOnline:"styles_ticketsButtonWithWatchOnline__1IWoV",subOfferText:"styles_subOfferText__1g5x5"}},L8DZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("kdn0"),a=i("B277"),r=Object(n.b)({},(function(e){e.addCase(a.c,(function(e,t){var i=t.payload;e.blocksConfig=i}))}))},Phkd:function(e,t,i){e.exports={root:"styles_root__-bQM6"}},SCjx:function(e,t,i){e.exports={review:"styles_review__2du1d"}},VJ21:function(e,t,i){e.exports={title:"styles_title__1yvs9",filmRating:"styles_filmRating__3uyOe",buttonsAndDescriptionContainer:"styles_buttonsAndDescriptionContainer__24igj",buttonsContainer:"styles_buttonsContainer__UTIlG",hdContainer:"styles_hdContainer__3jCqC",watchOnlineButton:"styles_watchOnlineButton__1jZzr",watchOnlineDescription:"styles_watchOnlineDescription__2_w68",details:"styles_details__1785q",tableHeader:"styles_tableHeader__22f5C",filmCrew:"styles_filmCrew__UOwJw",userNote:"styles_userNote__16Z6a",awards:"styles_awards__1kIS0",sequelsPrequels:"styles_sequelsPrequels__3nzP7",productionStatus:"styles_productionStatus__2QDuV"}},ZlH5:function(e,t,i){e.exports={originalTitle:"styles_originalTitle__31aMS",originalTitleSmall:"styles_originalTitleSmall__3HVQm"}},ZmC0:function(e,t,i){"use strict";i.d(t,"a",(function(){return x})),i.d(t,"b",(function(){return B}));var n,a=i("VtSi"),r=i.n(a),o=i("zygG"),l=i("OrNH"),s=i("9vgG"),c=i("H/7H"),d=i("MRcq"),u=i("B277"),v=i("WZ32"),m=i("Ag3s"),f=i("1vmJ"),p=i("Fi4P"),b=i("fGyu"),g=i("j/kK"),O=i("zjfJ"),k=i("5QFK"),y=i("9LhE"),I=i("w++g"),j=i("C9RK"),S=i("d/yK"),h=i("PzpK"),w=i("DeaZ"),R=i("iGtG"),_=Object(y.a)((n={},Object(O.a)(n,k.BlocksTypes.MovieCriticReviews,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:j.FILM_CRITICS_REVIEWS_QUERY,variables:{filmId:t,criticReviewsLimit:I.MOVIE_PAGE_CRITIC_REVIEWS_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieFacts,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:h.a,variables:{filmId:t,triviasType:S.o.Fact,triviasLimit:I.TRIVIAS_INITIAL_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieBloopers,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:h.a,variables:{filmId:t,triviasType:S.o.Blooper,triviasLimit:I.TRIVIAS_INITIAL_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieUserReviews,(function(e){var t,i,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.filmId,i=e.apolloClient,n=e.isAuthorized,a.prev=1,a.next=4,r.a.awrap(i.query({query:j.FILM_USERS_REVIEWS_QUERY,variables:{filmId:t,userReviewsLimit:I.REVIEWS_PAGINATED_LIST_SIZE,userReviewsOrderBy:I.REVIEWS_PAGINATED_LIST_DEFAULT_ORDER,withUserData:n}}));case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:case"end":return a.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieSimilarFilms,(function(e){var t,i,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.filmId,i=e.apolloClient,n=e.isAuthorized,a.prev=1,a.next=4,r.a.awrap(i.query({query:R.a,variables:{filmId:t,similarMoviesLimit:I.SIMILAR_MOVIES_LIMIT,withUserData:n}}));case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:case"end":return a.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieMediaPosts,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:w.a,variables:{filmId:t,mediaPostsLimit:I.MEDIA_POSTS_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieTrailersAndTeasers,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:j.FILM_TRAILERS_QUERY,variables:{filmId:t}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieListsRelations,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:j.FILM_LIST_RELATIONS_QUERY,variables:{filmId:t,movieListsRelationsLimit:I.MOVIE_LIST_RELATION_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(O.a)(n,k.BlocksTypes.MovieSoundtrack,(function(e){var t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,r.a.awrap(i.query({query:j.FILM_SOUNDTRACK_QUERY,variables:{filmId:t,soundtrackLimit:I.FILM_LIST_SOUNDTRACK_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),n)),T=i("8Hq5"),N=r.a.mark(E);function E(e){var t,i,n,a,o,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filmId,i=e.isAuthorized,n=e.forceBlocksPreload,a=void 0!==n&&n,o=g.a,r.next=4,Object(l.h)(Object(u.c)(o));case 4:return r.next=6,Object(T.a)();case 6:return s=r.sent,r.next=9,_({blocksConfig:[].concat(Object(b.a)(o.additionalInformation),Object(b.a)(o.sidebar)),variables:{filmId:t,apolloClient:s,isAuthorized:i},forceBlocksPreload:a});case 9:case"end":return r.stop()}}),N)}var F=r.a.mark(C);function C(e){var t,i,n,a,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filmId,i=e.isAuthorized,n=e.kpCityId,r.next=3,Object(T.a)();case 3:return a=r.sent,o=null,r.prev=5,r.next=8,a.query({query:j.FILM_BASE_INFO_QUERY,variables:{filmId:t,withUserData:i,kpCityId:n||null},errorPolicy:"all"});case 8:o=r.sent,r.next=13;break;case 11:r.prev=11,r.t0=r.catch(5);case 13:return r.abrupt("return",o);case 14:case"end":return r.stop()}}),F,null,[[5,11]])}var M=r.a.mark(x),P=r.a.mark(B);function x(e){var t,i,n,a,u,b,g,O;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.filmId,r.next=3,Object(l.b)(c.createSessionIfNotExistSaga,e);case 3:return r.next=5,Object(l.b)(p.a);case 5:return r.next=7,Object(l.h)(Object(d.c)({platforms:f.b}));case 7:return r.next=9,Object(l.i)(c.selectIsAuthorized);case 9:return i=r.sent,r.next=12,Object(l.i)(c.selectIsRobot);case 12:return n=r.sent,r.next=15,Object(l.i)(c.selectUserKpCityId);case 15:return a=r.sent,r.next=18,Object(l.a)([C({filmId:t,isAuthorized:i,kpCityId:a}),E({filmId:t,isAuthorized:i,forceBlocksPreload:n}),Object(v.a)({movieId:t}),Object(m.b)(),Object(s.fetchConfig)()]);case 18:return u=r.sent,b=Object(o.a)(u,1),g=b[0],O={baseInfo:g},r.abrupt("return",O);case 23:case"end":return r.stop()}}),M)}function B(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.l)(u.d.type,x);case 2:case"end":return e.stop()}}),P)}},cDcd:function(e,t){e.exports=React},csgz:function(e,t,i){e.exports={root:"styles_root__2s5G7",ratingBar:"styles_ratingBar__14lZB",rootSingleRating:"styles_rootSingleRating__2gCE8"}},dOIt:function(e,t,i){"use strict";i.d(t,"getFilmPageModule",(function(){return c}));var n=i("zjfJ"),a=i("1vmJ"),r=i("DzDZ"),o=i("L8DZ"),l=i("B277");i.d(t,"deleteFilmUserRatingEffect",(function(){return l.b})),i.d(t,"filmPageFetchInitialPropsEffect",(function(){return l.d})),i.d(t,"filmPageSetUserReviewVoteEffect",(function(){return l.e})),i.d(t,"setFilmExpectationReactionEffect",(function(){return l.f})),i.d(t,"setFilmFolderEffect",(function(){return l.g})),i.d(t,"setFilmUserRatingEffect",(function(){return l.h})),i.d(t,"setFilmWatchedEffect",(function(){return l.i})),i.d(t,"unsetFilmWatchedEffect",(function(){return l.k}));var s=i("oEWk");i.d(t,"selectFilmPageAdditionalInformationBlockConfig",(function(){return s.a})),i.d(t,"selectFilmPageTouchBlockConfig",(function(){return s.c}));i("sy9j");var c=function(){return{id:a.a,sagas:r.a,reducerMap:Object(n.a)({},a.a,o.a)}}},faye:function(e,t){e.exports=ReactDOM},gnpC:function(e,t,i){e.exports={root:"styles_root__2kdBQ"}},iGtG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FilmSimilarMovies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filmId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"similarMoviesLimit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserData"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"film"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"filmId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userRecommendations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"similarMoviesLimit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"russian"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"english"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"original"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"countries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fallbackUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"genres"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expectation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"kinopoisk"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withUserData"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"onlineViewOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"textToDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAvailableOnline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPurchased"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionPurchaseTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessType"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productionYear"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvSeries"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TvShow"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MiniSeries"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releaseYears"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2806,source:{body:"\n    query FilmSimilarMovies(\n        $filmId: Long!\n        $similarMoviesLimit: Int = 10\n        $withUserData: Boolean = false\n    ) {\n        film(id: $filmId) {\n            id\n            userRecommendations(limit: $similarMoviesLimit) {\n                items {\n                    movie {\n                        id\n                        title {\n                            russian\n                            english\n                            original\n                        }\n                        countries {\n                            id\n                            name\n                        }\n                        poster {\n                            avatarsUrl\n                            fallbackUrl\n                        }\n                        genres {\n                            id\n                            name\n                            slug\n                        }\n                        rating {\n                            expectation {\n                                value\n                                count\n                                isActive\n                            }\n                            kinopoisk {\n                                value\n                                count\n                                isActive\n                            }\n                        }\n                        userData @include(if: $withUserData) {\n                            voting {\n                                value\n                            }\n                        }\n                        onlineViewOptions {\n                            textToDisplay\n                            isAvailableOnline\n                            isPurchased\n                            subscriptionPurchaseTag\n                            accessType\n                        }\n\n                        ... on Film {\n                            productionYear\n                        }\n                        ... on Video {\n                            productionYear\n                        }\n                        ... on TvSeries {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                        ... on TvShow {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                        ... on MiniSeries {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                    }\n                    types\n                }\n                total\n            }\n        }\n    }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},iNWU:function(e,t,i){e.exports={title:"styles_title__d5UEr"}},iuVV:function(e,t,i){"use strict";i("1vmJ")},"j/kK":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return N})),i.d(t,"d",(function(){return F})),i.d(t,"c",(function(){return C}));var n,a=i("zjfJ"),r=i("5QFK"),o=(n={},Object(a.a)(n,r.EncyclopedicPageBlockSections.AdditionalInformation,[{type:r.BlocksTypes.MovieSuperBanner,params:{}},{type:r.BlocksTypes.MovieDetails,params:{}},{type:r.BlocksTypes.MovieSimilarFilms,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieTrailersAndTeasers,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieFacts,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieBloopers,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieMediaPosts,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieTodayInCinema,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieCriticReviews,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieUserReviews,params:{useClientRender:!0}}]),Object(a.a)(n,r.EncyclopedicPageBlockSections.Sidebar,[{type:r.BlocksTypes.FilmBanner200x200,params:{}},{type:r.BlocksTypes.MovieFriends,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieListsRelations,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieSoundtrack,params:{useClientRender:!0}},{type:r.BlocksTypes.Banner300x600,params:{}}]),Object(a.a)(n,r.EncyclopedicPageBlockSections.Touch,[{type:r.BlocksTypes.MovieSequelFilms,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieFacts,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieBloopers,params:{useClientRender:!0}},{type:r.BlocksTypes.MovieSimilarFilms,params:{useClientRender:!0}}]),n),l=i("cDcd"),s=i.n(l),c=i("O94r"),d=i.n(c),u=i("7JmY"),v=i("w++g"),m=i("GaWJ"),f=i("Phkd"),p=i.n(f),b=s.a.createElement,g=function(e){var t=e.className;return b("a",{href:m.routes.getUrl(m.SpecialsRoutes.Imax),target:"_blank",rel:"noopener noreferrer",className:d()(p.a.root,t),"data-tid":"3d28821c"},"IMAX")},O=i("rtUw"),k=i.n(O),y=s.a.createElement,I=function(e){var t,i=e.className,n=e.title,r=e.isTvOnly,o=e.isImax,s=e.colorScheme,c=void 0===s?u.BlocksColorSchemes.Light:s,m=Object(l.useMemo)((function(){return Object(v.presentMainTitle)(n)}),[n]),f=Object(l.useMemo)((function(){var e=Object(v.getContentType)(r);return e?" (".concat(e,")"):void 0}),[r]);return y(u.EncyclopedicPageTitle,{className:d()(i,k.a.root,(t={},Object(a.a)(t,k.a.rootMedium,!!m&&m.length>70),Object(a.a)(t,k.a.rootSmall,!!m&&m.length>110),t)),colorScheme:c,itemProp:"name"},y("span",{className:k.a.title,"data-tid":"67e47501"},m,f),o&&y("span",{className:k.a.imaxContainer,"data-tid":"67e47501"},y(g,{className:k.a.imax})))},j=i("ZlH5"),S=i.n(j),h=s.a.createElement,w=function(e){var t=e.className,i=e.title,n=e.restriction,r=e.colorScheme,o=void 0===r?u.BlocksColorSchemes.Light:r,l=Object(v.presentOriginalTitle)(i);return l||(null===n||void 0===n?void 0:n.age)?h(u.EncyclopedicPageSubtitle,{className:t,colorScheme:o},l&&h("span",{className:d()(S.a.originalTitle,Object(a.a)({},S.a.originalTitleSmall,l.length>70)),"data-tid":"3bbf3321"},l),(null===n||void 0===n?void 0:n.age)&&h(v.RestrictionNameplate,{age:n.age,colorScheme:o})):null},R=i("iNWU"),_=i.n(R),T=s.a.createElement,N=function(e){var t,i=e.className,n=e.film,a=e.colorScheme,r=void 0===a?u.BlocksColorSchemes.Light:a;return T("div",{className:d()(i),"data-tid":"742528af"},n.title&&T(s.a.Fragment,null,T(I,{id:n.id,title:n.title,isImax:(null===(t=n.releaseOptions)||void 0===t?void 0:t.isImax)||!1,className:_.a.title,isTvOnly:n.isTvOnly,colorScheme:r}),T(w,{title:n.title,restriction:n.restriction,colorScheme:r})))},E=i("GQvm"),F=Object(E.defaultMemoize)((function(e){if(e)return{text:e.toString(),link:m.routes.getUrl(m.SelectionsRoutes.SeoPageWithYear,{year:e},{quick_filters:"films"})}})),C={mediaPostsBlockTitle:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043e \u0444\u0438\u043b\u044c\u043c\u0435",seoDescription:"\u0412\u0441\u0451 \u043e \u0444\u0438\u043b\u044c\u043c\u0435: \u0434\u0430\u0442\u044b \u0432\u044b\u0445\u043e\u0434\u0430, \u0430\u043a\u0442\u0435\u0440\u044b, \u0442\u0440\u0435\u0439\u043b\u0435\u0440\u044b, \u0444\u043e\u0442\u043e. \u041e\u0442\u0437\u044b\u0432\u044b \u0437\u0440\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0438. \u0420\u0435\u0439\u0442\u0438\u043d\u0433. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b \u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435."}},ndTU:function(e,t,i){e.exports={root:"styles_root__2nGVp"}},oEWk:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return s}));var n=i("5QFK"),a=i("1vmJ"),r=function(e){return function(e){return e[a.a]}(e).blocksConfig},o=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.Sidebar]},l=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.AdditionalInformation]},s=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.Touch]}},rtUw:function(e,t,i){e.exports={root:"styles_root__dt4P-",rootMedium:"styles_rootMedium__1-Ytt",rootSmall:"styles_rootSmall__2R_vc",imaxContainer:"styles_imaxContainer__2--SL",imax:"styles_imax__gSmQ_",title:"styles_title__2l0HH"}},sy9j:function(e,t,i){"use strict";i("iuVV"),i("+1kG")},zs4Q:function(e,t,i){e.exports={root:"styles_root__3BHiJ",basicMediaSection:"styles_basicMediaSection__3moOZ",basicInfoSection:"styles_basicInfoSection__26fFZ",basicInfoSectionDark:"styles_basicInfoSectionDark__3vQ02",basicMediaSectionDark:"styles_basicMediaSectionDark__14sFB",sidebarSection:"styles_sidebarSection__1Nr8c",additionalInformationSection:"styles_additionalInformationSection__2Ip8Y",videoContainer:"styles_videoContainer__2oqe-",delimiterInDark:"styles_delimiterInDark__V3kAf",main:"styles_main__2rWxx"}}},[["CuJt",1,6,3,0,4,5,2,8,7,9,10,11]]]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/kinopoisk/release/_next/static/uxsoelcJTCo3jAmOjpaKg/pages/film.js.map