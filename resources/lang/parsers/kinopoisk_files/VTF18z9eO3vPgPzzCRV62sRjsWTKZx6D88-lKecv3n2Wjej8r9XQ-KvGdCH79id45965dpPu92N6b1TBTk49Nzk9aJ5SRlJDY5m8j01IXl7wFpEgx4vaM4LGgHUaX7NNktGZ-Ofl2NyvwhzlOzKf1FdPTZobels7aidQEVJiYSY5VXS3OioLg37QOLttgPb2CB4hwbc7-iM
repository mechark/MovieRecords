(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+1kG":function(e,t){},"+6sO":function(e,t,i){e.exports={dropdownMenu:"styles_dropdownMenu__2cZkM"}},"8n7h":function(e,t,i){e.exports={controlContainer:"styles_controlContainer__1ixcB",foldersMenu:"styles_foldersMenu__2GYEz",watchedButton:"styles_watchedButton__1iTwq",share:"styles_share__2dB6D",feedbackButtons:"styles_feedbackButtons__gdjI7",mainTrailerPreviewInfo:"styles_mainTrailerPreviewInfo__2t1CC"}},B277:function(e,t,i){"use strict";i.d(t,"a",(function(){return n.a})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"g",(function(){return l})),i.d(t,"e",(function(){return s})),i.d(t,"h",(function(){return c.b})),i.d(t,"b",(function(){return c.a})),i.d(t,"i",(function(){return c.c})),i.d(t,"k",(function(){return c.d})),i.d(t,"f",(function(){return d.a})),i.d(t,"j",(function(){return u}));var n=i("o4DS"),o=i("kdn0"),a=Object(o.a)(n.a.FetchInitialProps),r=Object(o.a)(n.a.AddBlocksConfig),l=Object(o.a)(n.a.SetFolderEffect),s=Object(o.a)(n.a.SetUserReviewVoteEffect),c=i("amtH"),d=i("i2v3"),u=Object(o.a)(n.a.FilmNoteSubmitEffect)},CMsO:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Oo}));var n=i("cxan"),o=i("HbGN"),a=i("cDcd"),r=i.n(a),l=i("uDfI"),s=i("MRcq"),c=i("dUAz"),d=i("IEND"),u=i("YfWb"),v=i("b6uz"),m=i("VtSi"),f=i.n(m),p=i("5QFK"),b=i("GaWJ"),O=i("ZmC0"),g=i("dOIt"),I=i("xNSc"),y=i("34P0"),j=function(e){var t,i=Object(I.d)({errors:null===e||void 0===e?void 0:e.errors,errorType:y.GraphqlErrorsTypes.NotFound,path:"tvSeries"});return Boolean((null===e||void 0===e?void 0:null===(t=e.data.tvSeries)||void 0===t?void 0:t.id)&&!i)},k=i("wZH4"),h=i("sYvi"),S=i("3J3H"),R=i("H/7H"),w=i("fGyu"),T=i("zygG"),_=i("6BAR"),M=i("w++g"),E=i("2o2g"),C=i("C9RK"),F=function(e){var t,i=Object(E.a)(C.FILM_TRIVIAS_QUERY,{variables:e}),n=Object(T.a)(i,2),o=n[0],a=n[1],l=a.data,s=a.fetchMore;return[o,r.a.useCallback((function(){var e,t;a.fetchMore({variables:{triviasOffset:(null===l||void 0===l?void 0:null===(e=l.film)||void 0===e?void 0:null===(t=e.trivias.items)||void 0===t?void 0:t.length)||0,triviasLimit:M.TRIVIAS_CHUNK_SIZE},updateQuery:function(e,t){var i,n=t.fetchMoreResult;return(null===n||void 0===n?void 0:null===(i=n.film)||void 0===i?void 0:i.trivias.items)?Object(_.a)(n,(function(t){var i,n;(null===(i=t.film)||void 0===i?void 0:i.trivias.items)&&(t.film.trivias.items=[].concat(Object(w.a)((null===(n=e.film)||void 0===n?void 0:n.trivias.items)||[]),Object(w.a)(t.film.trivias.items)))})):e}})}),[s,null===l||void 0===l?void 0:null===(t=l.film)||void 0===t?void 0:t.trivias.offset]),a]},x=i("d/yK"),B=i("KD1n"),P=i("x8tt");function D(){var e=Object(B.a)(["\n    query FilmTouchRating($filmId: Long!, $withUserData: Boolean = false) {\n        film(id: $filmId) {\n            id\n            title {\n                russian\n                english\n                original\n            }\n            poster {\n                avatarsUrl\n                fallbackUrl\n            }\n            top250\n            rating {\n                expectation {\n                    value\n                    count\n                    isActive\n                }\n                imdb {\n                    value\n                    count\n                    isActive\n                }\n                kinopoisk {\n                    value\n                    count\n                    isActive\n                }\n                russianCritics {\n                    value\n                    count\n                    isActive\n                }\n                worldwideCritics {\n                    value\n                    percent\n                    count\n                    isActive\n                    positiveCount\n                    negativeCount\n                }\n                reviewCount {\n                    value\n                    count\n                    isActive\n                }\n            }\n            usersReviewsPositive: userReviews(types: [POSITIVE], limit: 0) {\n                total\n            }\n            usersReviewsNeutral: userReviews(types: [NEUTRAL], limit: 0) {\n                total\n            }\n            ...FilmUserData @include(if: $withUserData)\n        }\n    }\n    ","\n"]);return D=function(){return e},e}function N(){var e=Object(B.a)(["\n    fragment FilmUserData on Film {\n        userData {\n            folders {\n                id\n                name\n            }\n            voting {\n                value\n                votedAt\n            }\n            expectation {\n                value\n            }\n            note {\n                value\n                makeDate\n            }\n        }\n    }\n"]);return N=function(){return e},e}var A,U=Object(P.gql)(N()),L=Object(P.gql)(D(),U),V=i("amtH"),W=i("i2v3"),z=i("wjxZ"),q=function(e){return e&&function(e){return Boolean(e&&(e<1970||e>(new Date).getFullYear()-5))}(e)?e.toString():void 0},Y=function(e){var t=e.title,i=e.isAvailableOnline,n=e.hasReviews,o=e.year,r=Object(a.useMemo)((function(){return q(o)}),[o]),l=Object(a.useMemo)((function(){return(null===t||void 0===t?void 0:t.russian)||(null===t||void 0===t?void 0:t.original)}),[t]),s=Object(a.useMemo)((function(){return function(e,t){var i=[];return e&&i.push("\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d"),t||i.push("\u0442\u0440\u0435\u0439\u043b\u0435\u0440\u044b, \u0434\u0430\u0442\u044b \u043f\u0440\u0435\u043c\u044c\u0435\u0440"),i.length?i.join(", "):void 0}(i,n)}),[i,n]);if(l)return[r?"".concat(l," (").concat(r,")"):"".concat(l),s,"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a"].filter(Boolean).join(" \u2013 ")},K=i("9T5q"),H=i("B277"),Z=function(e,t){var i=Object(l.useDispatch)(),n=Object(K.useIsMoviePlannedToWatch)(t),o=Object(a.useCallback)((function(){i(Object(H.g)({filmId:e,folderId:p.DefaultFolders.WatchList,operation:n?p.FolderOperation.Remove:p.FolderOperation.Add}))}),[e,n]);return[n,o]},Q=i("Plll"),G=function(e,t){var i=Object(l.useDispatch)(),n=Object(l.useSelector)(Q.b),o=Object(a.useCallback)((function(t){i(Object(H.g)({filmId:e,folderId:t,operation:p.FolderOperation.Add}))}),[e]),r=Object(a.useCallback)((function(t){i(Object(H.g)({filmId:e,folderId:t,operation:p.FolderOperation.Remove}))}),[e]);return{userFolders:n,selectedFoldersIds:Object(a.useMemo)((function(){return(t||[]).filter((function(e){return Boolean(e&&e.id)})).map((function(e){return e.id}))}),[t]),selectFolder:o,unselectFolder:r}},J=i("LLMW"),$=i("+3Fg"),X=i("DYnI");!function(e){e.Page="page",e.BaseFilmInfo="baseFilmInfo",e.MainSection="mainSection",e.SideSection="sideSection",e.AdditionalInformation="additionalInformation"}(A||(A={}));var ee,te=i("zjfJ"),ie=i("O94r"),ne=i.n(ie),oe=i("7JmY"),ae="\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0430\u043a\u0442\u043e\u0432 \u043e \u0444\u0438\u043b\u044c\u043c\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b. \u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b.",re="\u041e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435",le="\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0444\u0438\u043b\u044c\u043c\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b. \u0411\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b.",se="\u0424\u0438\u043b\u044c\u043c\xa0\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",ce="\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u043c",de="\u041f\u043e\u0445\u043e\u0436\u0438\u0435",ue="\u0412 \u0422\u043e\u043f 250 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",ve=i("V2y5"),me=i("CeW+"),fe=i("YhMw"),pe=i("GGMx");!function(e){e.OnlyIcon="onlyIcon",e.Compact="darkCompact",e.Full="full"}(ee||(ee={}));var be,Oe,ge,Ie,ye,je="\u0411\u0438\u043b\u0435\u0442\u044b",ke="\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u0431\u0438\u043b\u0435\u0442\u044b",he=i("ESI9"),Se=i.n(he),Re=r.a.createElement,we=(be={},Object(te.a)(be,oe.BlocksColorSchemes.Dark,Se.a.rootInDark),Object(te.a)(be,oe.BlocksColorSchemes.Light,Se.a.rootInLight),Object(te.a)(be,oe.BlocksColorSchemes.Grey,Se.a.rootInLight),be),Te=(Oe={},Object(te.a)(Oe,ee.OnlyIcon,null),Object(te.a)(Oe,ee.Compact,je),Object(te.a)(Oe,ee.Full,ke),Oe),_e=function(e){var t=e.className,i=e.buttonType,n=e.url,o=e.colorScheme;return Re("a",{href:n,className:ne()(t,we[o],i===ee.OnlyIcon&&Se.a.onlyIcon),"data-tid":"225d8e88"},Re("i",{className:Se.a.ticketIcon}),Te[i])},Me=i("rQ1F"),Ee=function(e){return r.a.useMemo((function(){return e?e.reduce((function(e,t){return(null===t||void 0===t?void 0:t.person)?(e.push(t.person),e):e}),[]):[]}),[e])},Ce=r.a.createElement,Fe=Object(a.memo)(M.MovieCrew),xe=function(e){var t=e.filmId,i=e.className,n=e.actors,o=e.voiceOverActors,a=Ee(null===n||void 0===n?void 0:n.items),l=Ee(null===o||void 0===o?void 0:o.items),s=r.a.useMemo((function(){return b.routes.getUrl(b.FilmRoutesName.Cast,{id:t})}),[t]),c=r.a.useMemo((function(){return b.routes.getUrl(b.RoutesNames.VoiceOverCast,{id:t})}),[t]),d=Object(oe.useElementColorScheme)(),u=Object(Me.usePreviewCardPopover)({entityType:"Person",colorScheme:d}),v=u.handleOpenPopover,m=u.handleClosePopover;return Ce(Fe,{className:i,actors:a,actorsTotal:null===n||void 0===n?void 0:n.total,moreActorsUrl:s,voiceOverActors:l,voiceOverActorsTotal:null===o||void 0===o?void 0:o.total,moreVoiceOverActorsUrl:c,onActorMouseEnter:v,onActorMouseLeave:m})},Be=i("j/kK"),Pe=r.a.createElement,De=Object(a.memo)(Be.b),Ne=function(e){var t=Object(oe.useColorScheme)();return Pe(De,Object(n.a)({},e,{colorScheme:t}))},Ae=i("H7E3"),Ue=r.a.createElement,Le=function(e){var t=function(e){var t,i,n,o,a,r,l,s,c,d,u,v,m;return e?[{id:"year",title:M.tableDictionary.year,renderer:oe.SingleLinkColumnRenderer,value:Object(Be.d)(e.productionYear)},{id:"countries",title:M.tableDictionary.countries,renderer:oe.LinkArrayColumnRenderer,value:Object(M.transformCountries)("films",e.countries)},{id:"genres",title:M.tableDictionary.genres,renderer:M.GenresColumnRenderer,value:Object(M.transformGenres)(e.id,e.genres,Boolean((null===(t=e.keywords)||void 0===t?void 0:t.total)&&(null===(i=e.keywords)||void 0===i?void 0:i.total)>0),"films")},{id:"tagline",title:M.tableDictionary.tagline,renderer:oe.PlainTextColumnRenderer,value:Object(M.transformTagLine)(e.tagline)},{id:"directors",title:M.tableDictionary.directors,renderer:Me.MembersColumnRendererWithPopoverContainer,value:Object(M.transformMember)(e.id,e.directors,"director")},{id:"writers",title:M.tableDictionary.writers,renderer:Me.MembersColumnRendererWithPopoverContainer,value:Object(M.transformMember)(e.id,e.writers,"writer")},{id:"producers",title:Object(M.presentProducerTitle)(e.countries),renderer:Me.MembersColumnRendererWithPopoverContainer,value:Object(M.transformMember)(e.id,e.producers,"producer")},{id:"operators",title:M.tableDictionary.operators,renderer:Me.MembersColumnRendererWithPopoverContainer,value:Object(M.transformMember)(e.id,e.operators,"operator"),degradationIfEmpty:!0},{id:"composers",title:M.tableDictionary.composers,renderer:Me.MembersColumnRendererWithPopoverContainer,value:Object(M.transformMember)(e.id,e.composers,"composer")},{id:"designers",title:M.tableDictionary.designers,renderer:Me.MembersColumnRendererWithPopoverContainer,degradationIfEmpty:!0,value:Object(M.transformUniqueMember)(e.id,e.designers,"design")},{id:"filmEditors",title:M.tableDictionary.filmEditors,renderer:Me.MembersColumnRendererWithPopoverContainer,degradationIfEmpty:!0,value:Object(M.transformMember)(e.id,e.filmEditors,"editor")},{id:"budget",title:M.tableDictionary.budget,renderer:oe.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformBudget)(e.id,null===(n=e.boxOffice)||void 0===n?void 0:n.budget)},{id:"marketing",title:M.tableDictionary.marketing,renderer:oe.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformBudget)(e.id,null===(o=e.boxOffice)||void 0===o?void 0:o.marketing)},{id:"usaBox",title:M.tableDictionary.usaBox,renderer:oe.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformBudget)(e.id,null===(a=e.boxOffice)||void 0===a?void 0:a.usaBox)},{id:"worldBox",title:M.tableDictionary.worldBox,renderer:M.WorldBoxColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformWorldBox)(e.id,null===(r=e.boxOffice)||void 0===r?void 0:r.worldBox,null===(l=e.boxOffice)||void 0===l?void 0:l.usaBox)},{id:"audience",title:M.tableDictionary.audience,renderer:M.AudienceColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformAudience)(e.id,e.audience)},{id:"rusBox",title:M.tableDictionary.rusBox,renderer:oe.SingleLinkColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformBudget)(e.id,null===(s=e.boxOffice)||void 0===s?void 0:s.rusBox)},{id:"ruPremiere",title:M.tableDictionary.ruPremiereDate,renderer:M.ReleaseOptionsRenderer,degradationIfEmpty:!0,value:Object(M.transformRuPremiere)(e.id,e.distribution.rusRelease,e.releaseOptions)},{id:"worldPremieres",title:M.tableDictionary.worldPremieres,renderer:oe.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformWorldPremieres)(e.id,null===(c=e.premieres)||void 0===c?void 0:c.total,e.worldPremiere)},{id:"reRelease",title:M.tableDictionary.reRelease,renderer:oe.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformReReleasePremiere)(e.id,null===(d=e.distribution)||void 0===d?void 0:d.reRelease)},{id:"digitalRelease",title:M.tableDictionary.digitalRelease,renderer:oe.LinkArrayColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformDigitalPremiere)(e.id,null===(u=e.distribution)||void 0===u?void 0:u.digitalRelease)},{id:"dvdRelease",title:M.tableDictionary.dvdRelease,renderer:oe.PlainTextColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformRelease)(e.releases,x.n.Dvd)},{id:"blueRayRelease",title:M.tableDictionary.blueRayRelease,renderer:oe.PlainTextColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformRelease)(e.releases,x.n.Bluray)},{id:"ageRestriction",title:M.tableDictionary.ageRestriction,renderer:oe.RestrictionColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformAgeRestriction)(null===(v=e.restriction)||void 0===v?void 0:v.age)},{id:"ratingMPAA",title:M.tableDictionary.ratingMPAA,renderer:oe.RestrictionColumnRenderer,degradationIfEmpty:!0,value:Object(M.transformMpaaRestriction)(e.id,null===(m=e.restriction)||void 0===m?void 0:m.mpaa)},{id:"duration",title:M.tableDictionary.duration,renderer:oe.PlainTextColumnRenderer,value:Object(M.transformDuration)(e.duration)}]:[]}(e.film);return Ue(oe.EncyclopedicTableContainer,{rowData:t})},Ve=i("92Fn"),We=i("aJtV"),ze=i("bLRs"),qe=i("AJtZ"),Ye=i("QYI6"),Ke=r.a.createElement,He=function(e){var t,i=e.filmId,n=e.userData,o=Object(oe.useColorScheme)(),s=Object(l.useDispatch)(),c=Object(a.useCallback)((function(e){s(Object(g.setFilmUserRatingEffect)({filmId:i,value:e,rollbackVote:null===n||void 0===n?void 0:n.voting}))}),[s,i,null===n||void 0===n?void 0:n.voting]),d=r.a.useCallback((function(){s(Object(g.deleteFilmUserRatingEffect)({filmId:i,rollbackVote:null===n||void 0===n?void 0:n.voting}))}),[s,i,null===n||void 0===n?void 0:n.voting]);return Ke(qe.MovieKinopoiskRatingSnippet,{colorScheme:o,userVotingValue:null===n||void 0===n?void 0:null===(t=n.voting)||void 0===t?void 0:t.value,onVote:c,onVoteDelete:d})},Ze=i("OMzU"),Qe=i("1vmJ"),Ge=r.a.createElement,Je=function(e){var t=e.userReviewsTotal,i=Object(oe.useColorScheme)(),n=Object(Ze.a)({id:Qe.d,isSmooth:!1});return Ge(qe.UserReviewsLink,{colorScheme:i,userReviewsTotal:t,onReviewClick:n})},$e=i("mGvo"),Xe=i.n($e),et=r.a.createElement,tt=function(e){var t=e.filmId,i=e.activeText,a=e.notActiveText,s=e.voting,c=Object(o.a)(e,["filmId","activeText","notActiveText","voting"]),d=Object(l.useDispatch)(),u=Xe()(null===s||void 0===s?void 0:s.value),v=Boolean(null===s||void 0===s?void 0:s.value),m=r.a.useMemo((function(){return u&&i?i:!u&&a?a:void 0}),[u,i,a]),f=r.a.useCallback((function(){d(Object(g.setFilmWatchedEffect)({filmId:t,rollbackVote:s}))}),[d,s]),p=r.a.useCallback((function(){d(Object(g.unsetFilmWatchedEffect)({filmId:t,rollbackVote:s}))}),[d,s]);return et(K.MovieWatchedButtonContainer,Object(n.a)({onWatch:f,onUnwatch:p,buttonText:m,isFilmWatched:u,hasUserRating:v},c))},it=r.a.createElement,nt=function(e){var t=e.className,i=e.filmId,n=e.rating,o=e.userData,a=e.userReviewsTotal,r=Object(oe.useColorScheme)(),l=Object(qe.getRatingForHeaderBlock)(n);return it(M.MovieHeaderRatingBlock,{className:t,renderRating:function(){return l&&it(Ye.a,{movieId:i,type:l.type,rating:l.rating,size:qe.FilmRatingSizes.Md,valueDigits:1})},renderRatingLabel:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Expectation?it(qe.MovieExpectationRatingSnippet,{colorScheme:r}):null},renderWatchedButton:function(e){var t=e.className;return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk&&it(tt,{filmId:i,className:t,voting:null===o||void 0===o?void 0:o.voting})},renderKinopoiskRatingSnippet:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk?it(He,{filmId:i,userData:o}):null},renderReviewsLink:function(){return(null===l||void 0===l?void 0:l.type)===p.RatingTypes.Kinopoisk?it(Je,{userReviewsTotal:a}):null}})},ot=r.a.createElement,at=function(e){var t=e.filmId,i=e.className,n=e.buttonType,o=Object(oe.useColorScheme)(),a=b.routes.getUrl(b.AfishaRoutes.BuyTicket,{filmId:t});return ot(_e,{url:a,className:i,buttonType:n,colorScheme:o})},rt=r.a.createElement,lt=function(e){var t=e.film,i=Object(oe.useColorScheme)();return rt(M.ContentProductionStatus,{status:t.productionStatus,updateDate:t.productionStatusUpdateDate,colorScheme:i})},st=i("c4hu"),ct=i("yW1d"),dt=i("WZ32"),ut=r.a.createElement,vt=function(e){var t=e.movieId,i=Object(oe.useColorScheme)(),n=Object(l.useSelector)((function(e){return Object(dt.e)(e,{entityId:t})}));if(!(null===n||void 0===n?void 0:n.isAvailableOnline))return null;var o=n.descriptionText,a=n.descriptionSubtext,r=n.descriptionIconsUrls;return ut(ct.WatchOnlineButtonDescription,{text:o,subtext:a,iconsUrls:r,colorScheme:st.a[i],alignment:ct.WatchOnlineButtonDescriptionAlignments.Left})},mt=i("azYU"),ft=i("u40r"),pt=i("VJ21"),bt=i.n(pt),Ot=r.a.createElement,gt=Object($.withZone)(A.MainSection)((function(e){var t,i,n,o,a,l,s,c,d,u,v=e.className,m=e.film,f=Object(oe.useColorScheme)();return Ot(M.MovieBasicInfoLayout,{className:v,header:Ot(r.a.Fragment,null,Ot("div",{className:bt.a.productionStatus,"data-tid":"7e60689c"},Ot(lt,{film:m})),Ot(Ne,{className:bt.a.title,film:m}),Ot("div",{className:bt.a.hdContainer,"data-tid":"7e60689c"},Ot("div",{className:bt.a.buttonsAndDescriptionContainer},(null===(t=m.onlineViewOptions)||void 0===t?void 0:t.isAvailableOnline)?Ot(mt.a,null,m.shortDescription):null,Ot("div",{className:bt.a.buttonsContainer},Ot(We.a,{className:bt.a.watchOnlineButton,movieId:m.id,ott:null===m||void 0===m?void 0:m.ott,onlineViewOptions:null===m||void 0===m?void 0:m.onlineViewOptions}),m.isTicketsAvailable?Ot(at,{filmId:m.id,buttonType:f===oe.BlocksColorSchemes.Dark?ee.Compact:ee.Full}):null),Ot("div",{className:bt.a.watchOnlineDescription},Ot(vt,{movieId:m.id})),Ot(Ve.a,{streamItems:null===(i=m.ott)||void 0===i?void 0:null===(n=i.preview)||void 0===n?void 0:null===(o=n.streams)||void 0===o?void 0:o.items})))),rating:Ot(nt,{className:bt.a.filmRating,filmId:m.id,rating:m.rating,userReviewsTotal:null===(a=m.userReviews)||void 0===a?void 0:a.total,userData:m.userData}),table:Ot(r.a.Fragment,null,Ot(oe.SectionTitleContainer,{className:bt.a.tableHeader,title:K.dictionary.aboutFilm,size:oe.SectionTitleSizes.Sm}),Ot(Le,{film:m})),crew:Ot(xe,{className:bt.a.filmCrew,filmId:m.id,actors:m.actors,voiceOverActors:m.voiceOverActors}),awards:(null===(l=m.filmMainAward)||void 0===l?void 0:l.items)?Ot(ze.a,{className:bt.a.awards,movieId:m.id,items:m.filmMainAward.items,total:(null===(s=m.filmAwardWins)||void 0===s?void 0:s.total)||m.filmMainAward.total,isWinner:Boolean(null===(c=m.filmAwardWins)||void 0===c?void 0:c.total)}):null,sequelsPrequels:Ot(ft.a,{className:bt.a.sequelsPrequels,movieId:m.id,movie:m,moviesTotal:(null===(d=m.sequelsPrequels)||void 0===d?void 0:d.total)||0}),userNote:Ot(Ae.a,{movieId:m.id,note:null===m||void 0===m?void 0:null===(u=m.userData)||void 0===u?void 0:u.note,className:bt.a.userNote,onSubmitEffect:H.j})})})),It=i("4qUK"),yt=i("3ANj"),jt=i("7xIC"),kt=r.a.createElement,ht=function(e){var t=function(t){var i=Object(jt.useRouter)(),o=Number(i.query.id);return o?kt(e,Object(n.a)({},t,{filmId:o})):null},i=e.displayName||e.name||"Component";return t.displayName="WithFilmId(".concat(i,")"),t},St=i("3+Un"),Rt=i("wcLY"),wt=r.a.createElement,Tt=function(e){var t,i,a,r=e.filmId,l=e.blockMeta,s=Object(o.a)(e,["filmId","blockMeta"]),c=F({filmId:r,triviasType:x.o.Fact,triviasLimit:M.TRIVIAS_INITIAL_CHUNK_SIZE}),d=Object(T.a)(c,3),u=d[0],v=d[1],m=d[2],f=m.data,p=m.error,b=Object(St.b)(null===f||void 0===f?void 0:null===(t=f.film)||void 0===t?void 0:null===(i=t.trivias)||void 0===i?void 0:i.items),O=Object(oe.useViewportSize)();return wt(Rt.a,Object(n.a)({facts:b,onLoad:u,isLoaded:Boolean(f||p),total:null===f||void 0===f?void 0:null===(a=f.film)||void 0===a?void 0:a.trivias.total,blockMeta:l,onClickMore:v,viewportSize:O,spoilerWarningPlateText:ae},s))},_t=i("a00A"),Mt=r.a.createElement,Et=function(e){var t,i,a,r=e.filmId,l=e.blockMeta,s=Object(o.a)(e,["filmId","blockMeta"]),c=F({filmId:r,triviasType:x.o.Blooper,triviasLimit:M.TRIVIAS_INITIAL_CHUNK_SIZE}),d=Object(T.a)(c,3),u=d[0],v=d[1],m=d[2],f=m.data,p=m.error,b=Object(St.b)(null===f||void 0===f?void 0:null===(t=f.film)||void 0===t?void 0:null===(i=t.trivias)||void 0===i?void 0:i.items),O=Object(oe.useViewportSize)();return Mt(_t.a,Object(n.a)({bloopers:b,onLoad:u,isLoaded:Boolean(f||p),total:null===f||void 0===f?void 0:null===(a=f.film)||void 0===a?void 0:a.trivias.total,blockMeta:l,onClickMore:v,viewportSize:O,spoilerWarningPlateText:le,title:re},s))},Ct=i("0D0S"),Ft=i.n(Ct),xt=i("vPLW"),Bt=i("eowz"),Pt=i("iGtG"),Dt=r.a.createElement,Nt=Ft()().publicRuntimeConfig,At=function(e){var t,i,n,o,r,s=e.filmId,c=e.className,d=e.blockMeta,u=d.type,v=d.index,m=Object(l.useSelector)(R.selectIsAuthorized),f=Object(l.useDispatch)(),O=Object(a.useCallback)((function(){return f(Object(Bt.loginEffect)())}),[f,m]),g=Object(E.a)(Pt.a,{variables:{filmId:s,similarMoviesLimit:M.SIMILAR_MOVIES_LIMIT,withUserData:m}}),I=Object(T.a)(g,2),y=I[0],j=I[1],k=j.data,h=j.error,S=Object(oe.useViewportSize)(),w=(null!==(t=Object(St.b)(null===k||void 0===k?void 0:null===(i=k.film)||void 0===i?void 0:null===(n=i.userRecommendations)||void 0===n?void 0:n.items))&&void 0!==t?t:[]).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.movie)})),_=Object(K.transformUserRecomendationsToMoviePoster)(w),C=Object(a.useMemo)((function(){return"".concat(Nt.kinopoiskApiHost).concat(b.routes.getUrl(b.FilmRoutesName.RecommendMoreMovies,{id:s}))}),[s]);return S===p.ViewportSizes.Small&&0===_.length&&(k||h)?null:Dt(xt.a,{onLoad:y,isLoaded:Boolean(k||h),placeholder:Dt(K.MovieCarouselSkeleton,{itemsCount:5,viewportSize:S})},Dt(It.BlockAnalyticsContainer,{blockId:u,position:v+1},Dt(M.SimilarMoviesBlock,{movieId:s,className:c,viewportSize:S,total:(null===k||void 0===k?void 0:null===(o=k.film)||void 0===o?void 0:null===(r=o.userRecommendations)||void 0===r?void 0:r.total)||0,movies:_,isAuthorized:m,onUnauthorizedRecommendMoreClick:O,recommendModalIframeSrc:C,title:S===p.ViewportSizes.Small?de:ce})))},Ut=r.a.createElement,Lt=function(e){var t=function(e){var t,i,n,o,a,r,l,s,c,d;return e?[{id:"about",title:M.dictionary.navigationMenuAbout,status:oe.NavigationTabsMenuItemStatus.Active},{id:"awards",title:M.dictionary.navigationMenuAwards,url:b.routes.getUrl(b.FilmRoutesName.AwardsPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(t=e.awards)||void 0===t?void 0:t.total)},{id:"premieres",title:M.dictionary.navigationMenuPremieres,url:b.routes.getUrl(b.FilmRoutesName.PremieresPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(i=e.premieres)||void 0===i?void 0:i.total)},{id:"studios",title:M.dictionary.navigationMenuStudios,url:b.routes.getUrl(b.FilmRoutesName.StudiosPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(n=e.production)||void 0===n?void 0:n.total)},{id:"relatedMovies",title:M.dictionary.navigationMenuRelatedMovies,url:b.routes.getUrl(b.FilmRoutesName.RelatedMoviesPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(o=e.relatedMovies)||void 0===o?void 0:o.total)},{id:"trailers",title:M.dictionary.navigationMenuTrailers,url:b.routes.getUrl(b.FilmRoutesName.TrailersPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(a=e.trailers)||void 0===a?void 0:a.total)},{id:"images",title:M.dictionary.navigationMenuImages,url:b.routes.getUrl(b.FilmRoutesName.ImagesPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(r=e.images)||void 0===r?void 0:r.total)},{id:"reviews",title:M.dictionary.navigationMenuReviews,url:b.routes.getUrl(b.FilmRoutesName.ReviewsPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(l=e.rating)||void 0===l?void 0:null===(s=l.reviewCount)||void 0===s?void 0:s.count)},{id:"sites",title:M.dictionary.navigationMenuSites,url:b.routes.getUrl(b.FilmRoutesName.SitesPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(c=e.sites)||void 0===c?void 0:c.total)},{id:"soundtracks",title:M.dictionary.navigationMenuSoundtracks,url:b.routes.getUrl(b.FilmRoutesName.SoundtracksPage,{id:e.id}),status:Object(M.getNavigationMenuItemStatusByTotal)(null===(d=e.soundtrack)||void 0===d?void 0:d.total)},{id:"subscribeToUpdates",title:M.dictionary.subscribeToUpdatesMenuSoundtracks,url:b.routes.getUrl(b.FilmRoutesName.SubscribeToUpdatesPage,{id:e.id}),status:oe.NavigationTabsMenuItemStatus.Default}]:[]}(e.film);return Ut(oe.NavigationTabs,{items:t})},Vt=r.a.createElement,Wt=function(e){var t=e.film;return(null===t||void 0===t?void 0:t.synopsis)?Vt(M.Synopsis,{synopsis:t.synopsis}):null},zt=r.a.createElement,qt=function(e){var t=e.filmId,i=e.currentReaction,r=Object(o.a)(e,["filmId","currentReaction"]),s=Object(l.useDispatch)(),c=Object(a.useCallback)((function(){s(Object(g.setFilmExpectationReactionEffect)({filmId:t,expectation:x.j.Yes,discard:i===x.j.Yes,rollbackExpectation:i||null}))}),[i]),d=Object(a.useCallback)((function(){s(Object(g.setFilmExpectationReactionEffect)({filmId:t,expectation:x.j.No,discard:i===x.j.No,rollbackExpectation:i||null}))}),[i]);return zt(qe.MovieExpectationRatingUserReactions,Object(n.a)({},r,{onLikeClick:c,onDislikeClick:d,currentReaction:i}))},Yt=r.a.createElement,Kt=function(e){var t=e.className,i=e.filmId,n=e.positionInTop,o=e.expectationRating,a=e.userExpectation,l=r.a.useMemo((function(){return b.routes.getUrl(b.ComingSoonRoutes.Movies)}),[]);return Yt(M.MovieExpectationRatingBlock,{className:t,renderRating:function(e){var t=e.className;return Yt(Ye.a,{className:t,movieId:i,type:p.RatingTypes.Expectation,rating:o,size:qe.FilmRatingSizes.Sm})},renderRatingBar:function(e){var t=e.className;return Yt(qe.MovieRatingBar,{className:t,positivePercent:o.value})},renderUserReactions:function(e){var t=e.className;return Yt(qt,{filmId:i,className:t,currentReaction:null===a||void 0===a?void 0:a.value})},mostExpectationUrl:l,mostExpectationTitle:K.dictionary.mostExpectationFilms,positionInTop:n,positionInTopUrl:l})},Ht=r.a.createElement,Zt=function(e){var t=e.className,i=e.filmId,n=e.ratingValue,o=e.userVoting,r=Object(l.useDispatch)(),s=Object(a.useRef)(),c=Object(a.useCallback)((function(e){var t=e.value;s.current=t,r(Object(g.setFilmUserRatingEffect)({filmId:i,value:t,rollbackVote:o}))}),[r,i,o]);return Ht(qe.MovieRateForm,{className:t,ratingValue:n||0,userRatingValue:null===(null===o||void 0===o?void 0:o.value)?void 0:null===o||void 0===o?void 0:o.value,onSubmit:c,isSubmitFailed:s.current!==o})},Qt=i("eMbe"),Gt=r.a.createElement,Jt=function(e){var t=e.filmId,i=e.value,a=e.votedAt,s=Object(o.a)(e,["filmId","value","votedAt"]),c=Object(l.useDispatch)(),d=r.a.useCallback((function(){c(Object(g.deleteFilmUserRatingEffect)({filmId:t,rollbackVote:{value:i,votedAt:a}}))}),[c,i,a,t]);return Gt(qe.MovieUserRating,Object(n.a)({},s,{value:i,votedAt:a||void 0,onDeleteButtonClick:d}))},$t=r.a.createElement,Xt=function(e){var t=e.className,i=e.filmId,n=e.kinopoiskRating,o=e.imdbRating,r=e.userData,l=e.top250Position,s=e.filmTitle,c=Object(a.useMemo)((function(){return b.routes.getUrl(b.ListsRoutes.FilmTop250)}),[]);return $t(M.MovieRatingBlock,{className:t,title:qe.movieRatingDictionary.ratingBlockTitle,renderRateForm:function(e){var t=e.className;return $t(Zt,{filmId:i,className:t,ratingValue:n.value,userVoting:null===r||void 0===r?void 0:r.voting})},renderRating:function(e){var t=e.className;return $t(Ye.a,{movieId:i,className:t,rating:n,type:p.RatingTypes.Kinopoisk,valueDigits:3,countDigits:7,isLink:!0})},renderSubRating:function(e){var t=e.className;return o&&$t(qe.MovieSubRating,{className:t,type:p.RatingTypes.Imdb,value:o.value,count:o.count})},renderListPosition:l?function(e){var t=e.className;return $t(K.MovieListPositionBadge,{className:t,href:c,listName:ue,position:l})}:void 0,renderWatchedButton:function(e){var t=e.className;return $t(tt,{filmId:i,className:t,voting:null===r||void 0===r?void 0:r.voting,activeText:K.dictionary.watchedFilm})},renderAddReviewButton:function(e){var t=e.className;return $t(Qt.a,{className:t})},renderUserRating:function(e){var t,n,o=e.className;return(null===r||void 0===r?void 0:null===(t=r.voting)||void 0===t?void 0:t.value)?$t(Jt,{filmId:i,movieTitle:(null===s||void 0===s?void 0:s.russian)||(null===s||void 0===s?void 0:s.original),className:o,value:null===r||void 0===r?void 0:null===(n=r.voting)||void 0===n?void 0:n.value,votedAt:r.voting.votedAt}):null}})},ei=r.a.createElement,ti=function(e){var t,i=e.className,n=e.film,o=n.rating.kinopoisk,a=n.rating.expectation;return o&&Object(qe.isRatingActive)(o)?ei(Xt,{filmId:n.id,className:i,kinopoiskRating:o,imdbRating:n.rating.imdb,userData:n.userData,top250Position:n.top250,filmTitle:n.title}):a&&Object(qe.isRatingActive)(a)?ei(Kt,{filmId:n.id,className:i,expectationRating:a,userExpectation:null===(t=n.userData)||void 0===t?void 0:t.expectation}):null},ii=i("csgz"),ni=i.n(ii),oi=r.a.createElement,ai=function(e){var t,i,n,o,a,l,s,c=e.className,d=e.film,u=r.a.useMemo((function(){return b.routes.getUrl(b.FilmRoutesName.CriticReviewsPage,{id:d.id})}),[d.id]),v=Boolean((null===(t=d.criticReviews)||void 0===t?void 0:t.total)&&(null===(i=d.rating.russianCritics)||void 0===i?void 0:i.isActive)),m=Boolean(null===(n=d.rating.worldwideCritics)||void 0===n?void 0:n.isActive);return v||m?oi("div",{className:ne()(c,ni.a.root,Object(te.a)({},ni.a.rootSingleRating,!m||!v)),"data-tid":"166cbcc6"},d.rating.worldwideCritics&&m&&oi(M.MovieRatingBarBlock,{className:ni.a.ratingBar,sectionTitle:qe.movieRatingDictionary.worldwideCriticsRatingBlockTitle,negativeTotal:null===(o=d.rating.worldwideCritics)||void 0===o?void 0:o.negativeCount,positiveTotal:null===(a=d.rating.worldwideCritics)||void 0===a?void 0:a.positiveCount,rating:oi(Ye.a,{movieId:d.id,rating:d.rating.worldwideCritics,type:p.RatingTypes.WorldwideCritics,size:qe.FilmRatingSizes.Sm,isLink:!0})}),d.rating.russianCritics&&v&&oi(M.MovieRatingBarBlock,{className:ni.a.ratingBar,sectionTitle:m?qe.movieRatingDictionary.shortRussiaRatingBlockTitle:qe.movieRatingDictionary.russiaRatingBlockTitle,sectionTitleUrl:u,negativeTotal:null===(l=d.negativeCriticReviews)||void 0===l?void 0:l.total,positiveTotal:null===(s=d.positiveCriticReviews)||void 0===s?void 0:s.total,rating:oi(Ye.a,{movieId:d.id,rating:d.rating.russianCritics,type:p.RatingTypes.RussianCritics,size:qe.FilmRatingSizes.Sm,isLink:!0})})):null},ri=r.a.createElement,li=i("MQ1I"),si=i("5H1t"),ci=r.a.createElement,di=function(e){var t=e.className,i=e.userAvatarBaseUrl,r=e.userAvatarFallBackUrl,s=e.currentUserVoting,c=e.userId,d=e.reviewId,u=e.filmId,v=e.votes,m=Object(o.a)(e,["className","userAvatarBaseUrl","userAvatarFallBackUrl","currentUserVoting","userId","reviewId","filmId","votes"]),f=Object(si.i)(i,{mds:{x1:si.b.orig,x2:si.b.orig},fallback:r||""}),p=Object(l.useDispatch)(),b=s?Object(li.getReactionTypeByUserVoting)(s):void 0,O=Object(a.useCallback)((function(e){var t=Object(li.getUserVotingByReactionType)(e);t&&p(Object(g.filmPageSetUserReviewVoteEffect)({userVoting:t,userId:c,userReviewId:d,filmId:u,rollbackUserVoting:s,rollbackVotes:v}))}),[p,c,d,u,s,v]);return ci(li.MovieUserReview,Object(n.a)({},m,{userId:c,className:t,reviewId:d,userImg:f,votes:v,userAvatarBaseUrl:i,userReactionType:b,onUserReaction:O}))},ui=i("SCjx"),vi=i.n(ui),mi=r.a.createElement,fi=Object(a.memo)((function(e){var t,i,n,o,a,s,c,d,u,v,m,f=e.filmId,p=Object(l.useSelector)(R.selectIsAuthorized),b=Object(E.a)(C.FILM_USERS_REVIEWS_QUERY,{variables:{filmId:f,userReviewsOrderBy:M.REVIEWS_PAGINATED_LIST_DEFAULT_ORDER,userReviewsLimit:M.REVIEWS_PAGINATED_LIST_SIZE,withUserData:p}}),O=Object(T.a)(b,2),g=O[0],I=O[1],y=I.data,j=I.error;r.a.useEffect((function(){g()}),[g]);var k=(null===y||void 0===y?void 0:null===(t=y.film)||void 0===t?void 0:null===(i=t.usersReviewsPaginatedList)||void 0===i?void 0:i.items)||[],h=(null===y||void 0===y?void 0:null===(n=y.film)||void 0===n?void 0:null===(o=n.usersReviewsPaginatedList)||void 0===o?void 0:o.total)||0;return mi(xt.a,{placeholder:mi(li.MovieUsersReviewsSkeleton,{className:vi.a.root}),isLoaded:Boolean(y||j)},Boolean(h)&&Boolean(null===k||void 0===k?void 0:k.length)&&mi(li.MovieUsersReviews,{id:Qe.d,filmId:null===y||void 0===y?void 0:null===(a=y.film)||void 0===a?void 0:a.id,negativeTotal:null===y||void 0===y?void 0:null===(s=y.film)||void 0===s?void 0:null===(c=s.usersReviewsNegative)||void 0===c?void 0:c.total,positiveTotal:null===y||void 0===y?void 0:null===(d=y.film)||void 0===d?void 0:null===(u=d.usersReviewsPositive)||void 0===u?void 0:u.total,neutralTotal:null===y||void 0===y?void 0:null===(v=y.film)||void 0===v?void 0:null===(m=v.usersReviewsNeutral)||void 0===m?void 0:m.total,total:h,navBar:mi(Qt.a,null),userReviews:k.map((function(e){var t,i,n;return(null===e||void 0===e?void 0:e.text)?mi(di,{key:e.id,filmId:f,className:vi.a.review,createdAt:e.createdAt,reviewId:e.id,text:e.text,title:e.title,type:e.type,votes:e.votes,userId:e.author.id,userReviewsCount:e.author.reviewsCount,userName:e.author.login,userAvatarBaseUrl:null===(t=e.author.avatar)||void 0===t?void 0:t.avatarsUrl,userAvatarFallBackUrl:null===(i=e.author.avatar)||void 0===i?void 0:i.fallbackUrl,currentUserVoting:null===(n=e.userData)||void 0===n?void 0:n.voting}):null}))}))})),pi=i("Y/if"),bi=i("gnpC"),Oi=i.n(bi),gi=r.a.createElement,Ii=i("VUoP"),yi=i("DeaZ"),ji=r.a.createElement,ki=(ge={},Object(te.a)(ge,x.k.Article,p.MediaPostTypes.article),Object(te.a)(ge,x.k.Game,p.MediaPostTypes.game),Object(te.a)(ge,x.k.Interview,p.MediaPostTypes.interview),Object(te.a)(ge,x.k.News,p.MediaPostTypes.news),Object(te.a)(ge,x.k.Photostory,p.MediaPostTypes.photostory),Object(te.a)(ge,x.k.Podcast,p.MediaPostTypes.podcast),Object(te.a)(ge,x.k.Video,p.MediaPostTypes.video),ge),hi=function(e){var t,i,n,o,r=e.filmId,l=e.blockMeta,s=l.index,c=l.type,d=Object(E.a)(yi.a,{variables:{filmId:r,mediaPostsLimit:M.MEDIA_POSTS_CHUNK_SIZE}}),u=Object(T.a)(d,2),v=u[0],m=u[1],f=m.data,O=m.error,g=Object(oe.useViewportSize)(),I=Object(a.useMemo)((function(){return b.routes.getUrl(b.FilmRoutesName.MediaPostsPage,{id:r})}),[r]),y=Object(St.b)(null===f||void 0===f?void 0:null===(t=f.film)||void 0===t?void 0:null===(i=t.mediaPosts)||void 0===i?void 0:i.items),j=g===p.ViewportSizes.Small;return ji(xt.a,{onLoad:v,isLoaded:Boolean(f||O),placeholder:ji(Ii.b,{isTouchLayout:j,itemsCount:3})},y&&Boolean(y.length)&&ji(It.BlockAnalyticsContainer,{blockId:c,position:s+1},ji(Ii.a,{moreItemsLink:I,blockTitle:j?Be.c.touchMediaPostsBlockTitle:Be.c.mediaPostsBlockTitle,postsTotal:(null===f||void 0===f?void 0:null===(n=f.film)||void 0===n?void 0:null===(o=n.mediaPosts)||void 0===o?void 0:o.total)||0,viewportSize:g,showButtonsPermanently:g!==p.ViewportSizes.Small,posts:y.map((function(e){return{id:e.id,title:e.title,commentsCount:e.commentsCount,commentable:e.commentable,publishedAt:e.publishedAt,type:ki[e.type],thumbImage:e.thumbImage}})),isTouchLayout:j})))},Si=i("x79q"),Ri=r.a.createElement,wi={x1:si.c.w300h192,x2:si.c.w768h489},Ti=r.a.createElement,_i=r.a.createElement,Mi=(Ie={},Object(te.a)(Ie,p.BlocksTypes.MovieFacts,ht(Tt)),Object(te.a)(Ie,p.BlocksTypes.MovieBloopers,ht(Et)),Object(te.a)(Ie,p.BlocksTypes.MovieDetails,ht((function(e){var t=e.className,i=e.filmId,n=e.blockMeta,o=n.index,a=n.type,r=Object(l.useSelector)(R.selectIsAuthorized),s=Object(l.useSelector)(R.selectUserKpCityId),c=Object(E.b)(C.FILM_BASE_INFO_QUERY,{variables:{filmId:i,withUserData:r,kpCityId:s||null}}).data;return(null===c||void 0===c?void 0:c.film)?ri(It.BlockAnalyticsContainer,{blockId:a,position:o+1},ri(M.MovieDetailsBlock,{className:t,tabs:ri(Lt,{film:c.film}),synopsis:ri(Wt,{film:c.film}),filmRating:ri(ti,{film:c.film}),criticRating:ri(ai,{film:c.film})})):null}))),Object(te.a)(Ie,p.BlocksTypes.MovieUserReviews,ht((function(e){var t,i=e.filmId,n=e.blockMeta,o=n.index,a=n.type,r=Object(E.b)(C.FILM_KINOPOISK_RATING_QUERY,{variables:{filmId:i}}).data,s=Object(qe.isRatingActive)(null===r||void 0===r?void 0:null===(t=r.film)||void 0===t?void 0:t.rating.kinopoisk),c=Object(l.useSelector)(R.selectIsAuthorized);return gi("div",{className:Oi.a.root,"data-tid":"ef14cc89"},gi(It.BlockAnalyticsContainer,{blockId:a,position:o+1},gi(fi,{filmId:i}),s&&c&&gi(pi.a,{filmId:i})))}))),Object(te.a)(Ie,p.BlocksTypes.MovieSimilarFilms,ht(At)),Object(te.a)(Ie,p.BlocksTypes.MovieMediaPosts,ht(hi)),Object(te.a)(Ie,p.BlocksTypes.MovieTrailersAndTeasers,ht((function(e){e.className;var t,i,a,r,l=e.filmId,s=e.blockMeta,c=s.type,d=s.index,u=Object(o.a)(e,["className","filmId","blockMeta"]),v=Object(E.a)(C.FILM_TRAILERS_QUERY,{variables:{filmId:l,trailersLimit:M.TRAILERS_CHUNK_SIZE}}),m=Object(T.a)(v,2),f=m[0],p=m[1],b=p.data,O=p.error,g=Object(oe.useViewportSize)(),I=Object(St.b)(null===b||void 0===b?void 0:null===(t=b.film)||void 0===t?void 0:null===(i=t.trailers)||void 0===i?void 0:i.items),y=null===b||void 0===b?void 0:null===(a=b.film)||void 0===a?void 0:null===(r=a.trailers)||void 0===r?void 0:r.total;return Ri(xt.a,{placeholder:Ri(M.MovieTrailersBlockSkeleton,null),onLoad:f,isLoaded:Boolean(b||O)},Boolean(I.length)&&Ri(It.BlockAnalyticsContainer,{blockId:c,position:d+1},Ri(M.MovieTrailersBlock,Object(n.a)({},u,{movieId:l,viewportSize:g,trailers:I.map((function(e){return{id:e.id,createdAt:e.createdAt,duration:e.duration,isEmbedded:e.isEmbedded,isMain:!1,preview:e.preview,title:e.title}})),trailersTotal:y,renderTrailer:function(e){var t=e.trailer,i=e.isLoaded,n=e.className,o=e.index;return t&&Ri(Si.a,{movieId:l,trailer:t,previewMdsSizes:wi,isLoaded:i,className:n,index:o})}}))))}))),Object(te.a)(Ie,p.BlocksTypes.MovieCriticReviews,ht((function(e){var t,i,n,o,a=e.filmId,r=e.blockMeta,l=r.index,s=r.type,c=Object(E.a)(C.FILM_CRITICS_REVIEWS_QUERY,{variables:{filmId:a,criticReviewsLimit:M.MOVIE_PAGE_CRITIC_REVIEWS_CHUNK_SIZE}}),d=Object(T.a)(c,2),u=d[0],v=d[1],m=v.data,f=v.error,p=Object(oe.useViewportSize)(),b=null===m||void 0===m?void 0:null===(t=m.film)||void 0===t?void 0:null===(i=t.criticReviews)||void 0===i?void 0:i.items,O=null===m||void 0===m?void 0:null===(n=m.film)||void 0===n?void 0:null===(o=n.criticReviews)||void 0===o?void 0:o.total;return Ti(xt.a,{placeholder:Ti(M.MovieCriticsReviewsBlockSkeleton,null),onLoad:u,isLoaded:Boolean(m||f)},b&&Boolean(b.length)&&O&&Ti(It.BlockAnalyticsContainer,{blockId:s,position:l+1},Ti(M.MovieCriticsReviewsBlock,{movieId:a,items:b,total:O,viewportSize:p})))}))),Object(te.a)(Ie,p.BlocksTypes.MovieSuperBanner,M.MovieSuperBanner),Object(te.a)(Ie,p.BlocksTypes.MovieTodayInCinema,yt.a),Ie),Ei=Object($.withZone)(A.AdditionalInformation)((function(){var e=Object(l.useSelector)((function(e){return Object(g.selectFilmPageAdditionalInformationBlockConfig)(e)}));return e?_i(It.BlocksRenderer,{config:e,componentsMap:Mi,shouldSendShowAnalyticsEvent:!0}):null})),Ci=r.a.createElement,Fi=Object(a.memo)((function(e){var t=e.className,i=e.filmId,n=e.poster,o=e.title,a=e.soundtrack,s=e.filmUserFolders,c=e.postersTotal,d=Object(l.useDispatch)(),u=Object(oe.useColorScheme)(),v=Object(l.useSelector)((function(e){return Object(dt.f)(e,{movieId:i})})),m=Object(M.useCopyrightHolderSrcSet)({baseUrl:v}),f=Object(K.useIsMoviePlannedToWatch)(s),O=r.a.useCallback((function(){d(Object(g.setFilmFolderEffect)({filmId:i,folderId:p.DefaultFolders.WatchList,operation:f?p.FolderOperation.Remove:p.FolderOperation.Add}))}),[i,d,f]),I=Object(M.usePosterSrcSet)({avatarsUrl:null===n||void 0===n?void 0:n.avatarsUrl,fallbackUrl:null===n||void 0===n?void 0:n.fallbackUrl}),y=Object(M.usePostersUrl)({movieId:i,postersTotal:c}),j=Object(M.usePosterAlt)({russian:o.russian,original:o.original}),k=r.a.useMemo((function(){return(null===a||void 0===a?void 0:a.total)?b.routes.getUrl(b.FilmRoutesName.SoundtracksPage,{id:i}):void 0}),[null===a||void 0===a?void 0:a.total]);return Ci(M.MoviePosterWithControls,{className:t,colorScheme:u,imgSrcSet:I,imgAlt:j,postersUrl:y,soundtrackUrl:k,copyrightImgSrcSet:m,isToWatchButtonActive:f,onToWatchButtonClick:O})})),xi=i("gOV+"),Bi=i("Ag3s"),Pi=i("+6sO"),Di=i.n(Pi),Ni=r.a.createElement,Ai=function(e){var t=e.className,i=e.filmId,n=e.filmUserFolders,o=Object(l.useDispatch)(),a=Object(xi.useFolderMenuColorScheme)(),s=Object(l.useSelector)(Bi.e),c=Object(l.useSelector)(R.selectIsAuthorized),d=Object(xi.useFolderLinksDecorator)(s,i),u=r.a.useCallback((function(){c||o(Object(Bt.loginEffect)())}),[o,c]),v=r.a.useCallback((function(e){var t=e.folderId;o(Object(g.setFilmFolderEffect)({filmId:i,folderId:t,operation:p.FolderOperation.Add}))}),[o,i]),m=r.a.useCallback((function(e){var t=e.folderId;o(Object(g.setFilmFolderEffect)({filmId:i,folderId:t,operation:p.FolderOperation.Remove}))}),[o,i]),f=r.a.useMemo((function(){return null===n||void 0===n?void 0:n.reduce((function(e,t){return(null===t||void 0===t?void 0:t.id)&&e.push(t.id),e}),[])}),[n]);return Ni(xi.FoldersMenu,{className:t,colorScheme:a,folders:d,onFolderSelect:v,onFolderUnselect:m,onDropdownButtonClick:u,selectedFoldersIds:f,dropdownMenuClassName:Di.a.dropdownMenu})},Ui=i("EgEk"),Li=i("fDEn"),Vi=i("TVy6"),Wi=i("8n7h"),zi=i.n(Wi),qi=r.a.createElement,Yi=Object($.withZone)(A.SideSection)((function(e){var t,i,n,o,a=e.className,l=e.film,s=Object(qe.isRatingActive)(l.rating.kinopoisk),c=null===(t=l.userData)||void 0===t?void 0:t.folders;return qi(M.MovieBasicMediaLayout,{className:a,poster:qi(Fi,{filmId:l.id,poster:null===l||void 0===l?void 0:l.poster,postersTotal:null!==(i=null===l||void 0===l?void 0:null===(n=l.posters)||void 0===n?void 0:n.total)&&void 0!==i?i:0,title:l.title,soundtrack:l.soundtrack,filmUserFolders:c}),socialControls:qi(r.a.Fragment,null,qi(M.MovieShare,{className:zi.a.share}),qi(Li.a,{movieId:l.id,className:zi.a.feedbackButtons})),trailer:qi(Vi.a,{movieId:l.id,mainTrailer:null===l||void 0===l?void 0:l.mainTrailer,previewInfoClassName:zi.a.mainTrailerPreviewInfo}),userControls:qi(r.a.Fragment,null,qi("div",{className:zi.a.controlContainer,"data-tid":"bb5fc559"},qi(Ai,{filmId:l.id,className:zi.a.foldersMenu,filmUserFolders:c}),s&&qi(tt,{filmId:l.id,className:zi.a.watchedButton,voting:null===(o=l.userData)||void 0===o?void 0:o.voting})),qi(Ui.a,{movieId:l.id,filmUserFolders:c}))})})),Ki=i("aJna"),Hi=i("oEWk"),Zi=r.a.createElement,Qi=r.a.createElement,Gi=i("fUZK"),Ji=i("+uNs"),$i=i("ndTU"),Xi=i.n($i),en=r.a.createElement,tn=r.a.createElement,nn=(ye={},Object(te.a)(ye,p.BlocksTypes.MovieListsRelations,ht((function(e){var t,i,n,o,r,l=function(e){var t,i,n=Object(E.a)(C.FILM_LIST_RELATIONS_QUERY,{variables:e,notifyOnNetworkStatusChange:!0}),o=Object(T.a)(n,2),r=o[0],l=o[1],s=l.data,c=l.fetchMore;return[r,Object(a.useCallback)((function(){var e,t,i,n;return c({variables:{movieListsRelationsOffset:null!==(e=null===s||void 0===s?void 0:null===(t=s.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:null===(n=i.items)||void 0===n?void 0:n.length)&&void 0!==e?e:0},updateQuery:function(e,t){var i,n,o=t.fetchMoreResult;return(null===o||void 0===o?void 0:null===(i=o.film)||void 0===i?void 0:null===(n=i.movieListsRelationsPaginatedList)||void 0===n?void 0:n.items)?Object(_.a)(o,(function(t){var i,n,o,a;(null===t||void 0===t?void 0:null===(i=t.film)||void 0===i?void 0:null===(n=i.movieListsRelationsPaginatedList)||void 0===n?void 0:n.items)&&(t.film.movieListsRelationsPaginatedList.items=[].concat(Object(w.a)((null===(o=e.film)||void 0===o?void 0:null===(a=o.movieListsRelationsPaginatedList)||void 0===a?void 0:a.items)||[]),Object(w.a)(t.film.movieListsRelationsPaginatedList.items)))})):e}})}),[null===s||void 0===s?void 0:null===(t=s.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:i.items,c]),l]}({filmId:e.filmId,movieListsRelationsLimit:M.MOVIE_LIST_RELATION_CHUNK_SIZE}),s=Object(T.a)(l,3),c=s[0],d=s[1],u=s[2],v=u.data,m=u.error,f=u.loading,p=Object(St.b)(null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:null===(i=t.movieListsRelationsPaginatedList)||void 0===i?void 0:i.items),b=null!==(n=null===v||void 0===v?void 0:null===(o=v.film)||void 0===o?void 0:null===(r=o.movieListsRelationsPaginatedList)||void 0===r?void 0:r.total)&&void 0!==n?n:0;return Zi(xt.a,{onLoad:c,isLoaded:Boolean(v||m),placeholder:Zi(M.MovieListsBlockSkeleton,null)},p&&p.length>0&&Zi(M.MovieListsBlock,{items:p,loading:f,total:b,onFetchMore:d}))}))),Object(te.a)(ye,p.BlocksTypes.MovieSoundtrack,ht((function(e){var t,i,n,o,a,r=e.filmId,l=Object(E.a)(C.FILM_SOUNDTRACK_QUERY,{variables:{filmId:r,soundtrackLimit:M.FILM_LIST_SOUNDTRACK_CHUNK_SIZE}}),s=Object(T.a)(l,2),c=s[0],d=s[1],u=d.data,v=d.error,m=null===u||void 0===u?void 0:null===(t=u.film)||void 0===t?void 0:null===(i=t.soundtrack)||void 0===i?void 0:null===(n=i.items)||void 0===n?void 0:n[0];return Qi(xt.a,{onLoad:c,isLoaded:Boolean(u||v),placeholder:Qi(M.MovieSoundtrackSkeleton,null)},m&&Qi(M.MovieSoundtrack,{movieId:r,soundtrack:m,count:(null===u||void 0===u?void 0:null===(o=u.film)||void 0===o?void 0:null===(a=o.soundtrack)||void 0===a?void 0:a.total)||0}))}))),Object(te.a)(ye,p.BlocksTypes.MovieFriends,ht((function(e){var t,i,n=e.filmId,o=Object(a.useState)(x.f.VoteValueDesc),s=o[0],c=o[1],d=function(e){var t,i,n,o=Object(E.a)(C.FILM_FRIENDS_VOTING_QUERY,{variables:e}),a=Object(T.a)(o,2),l=a[0],s=a[1],c=s.data,d=s.fetchMore;return[l,r.a.useCallback((function(e){var t,i,n,o;s.fetchMore({variables:{friendsVotingLimit:e,friendsVotingOffset:(null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsVoting)||void 0===i?void 0:null===(n=i.friendsVoting)||void 0===n?void 0:null===(o=n.items)||void 0===o?void 0:o.length)||0},updateQuery:function(e,t){var i,n,o,a=t.fetchMoreResult;return(null===a||void 0===a?void 0:null===(i=a.film)||void 0===i?void 0:null===(n=i.filmFriendsVoting)||void 0===n?void 0:null===(o=n.friendsVoting)||void 0===o?void 0:o.items)?Object(_.a)(a,(function(t){var i,n,o,a,r,l;(null===(i=t.film)||void 0===i?void 0:null===(n=i.filmFriendsVoting)||void 0===n?void 0:null===(o=n.friendsVoting)||void 0===o?void 0:o.items)&&(t.film.filmFriendsVoting.friendsVoting.items=[].concat(Object(w.a)((null===(a=e.film)||void 0===a?void 0:null===(r=a.filmFriendsVoting)||void 0===r?void 0:null===(l=r.friendsVoting)||void 0===l?void 0:l.items)||[]),Object(w.a)(t.film.filmFriendsVoting.friendsVoting.items)))})):e}})}),[d,null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsVoting)||void 0===i?void 0:null===(n=i.friendsVoting)||void 0===n?void 0:n.offset]),s]}({filmId:n,friendsVotingLimit:M.FILM_FRIENDS_INITIAL_ITEMS_LIMIT,sortFriendsVotingBy:s}),u=Object(T.a)(d,3),v=u[0],m=u[1],f=u[2],p=f.data,b=f.error,O=f.loading,g=function(e){var t,i,n,o=Object(E.a)(C.FILM_FRIENDS_OF_INTERESTS_QUERY,{variables:e}),a=Object(T.a)(o,2),l=a[0],s=a[1],c=s.data,d=s.fetchMore;return[l,r.a.useCallback((function(e){var t,i,n,o;d({variables:{friendsOfInterestsVotingLimit:e,friendsOfInterestsVotingOffset:(null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsOfInterestsVoting)||void 0===i?void 0:null===(n=i.friendsOfInterestsVoting)||void 0===n?void 0:null===(o=n.items)||void 0===o?void 0:o.length)||0},updateQuery:function(e,t){var i,n,o,a=t.fetchMoreResult;return(null===a||void 0===a?void 0:null===(i=a.film)||void 0===i?void 0:null===(n=i.filmFriendsOfInterestsVoting)||void 0===n?void 0:null===(o=n.friendsOfInterestsVoting)||void 0===o?void 0:o.items)?Object(_.a)(a,(function(t){var i,n,o,a,r,l;(null===(i=t.film)||void 0===i?void 0:null===(n=i.filmFriendsOfInterestsVoting)||void 0===n?void 0:null===(o=n.friendsOfInterestsVoting)||void 0===o?void 0:o.items)&&(t.film.filmFriendsOfInterestsVoting.friendsOfInterestsVoting.items=[].concat(Object(w.a)((null===(a=e.film)||void 0===a?void 0:null===(r=a.filmFriendsOfInterestsVoting)||void 0===r?void 0:null===(l=r.friendsOfInterestsVoting)||void 0===l?void 0:l.items)||[]),Object(w.a)(t.film.filmFriendsOfInterestsVoting.friendsOfInterestsVoting.items)))})):e}})}),[d,null===c||void 0===c?void 0:null===(t=c.film)||void 0===t?void 0:null===(i=t.filmFriendsOfInterestsVoting)||void 0===i?void 0:null===(n=i.friendsOfInterestsVoting)||void 0===n?void 0:n.offset]),s]}({filmId:n,friendsOfInterestsVotingLimit:M.FILM_FRIENDS_INITIAL_ITEMS_LIMIT}),I=Object(T.a)(g,3),y=I[0],j=I[1],k=I[2],h=k.data,S=k.error,F=((null===p||void 0===p?void 0:null===(t=p.film)||void 0===t?void 0:t.filmFriendsVoting)||{}).friendsVoting,B=((null===h||void 0===h?void 0:null===(i=h.film)||void 0===i?void 0:i.filmFriendsOfInterestsVoting)||{}).friendsOfInterestsVoting,P=Object(a.useCallback)((function(e){var t=e.id;c(t)}),[c]),D=Object(a.useCallback)((function(){return m(M.FILM_FRIENDS_MORE_ITEMS_LIMIT)}),[F]),N=Object(a.useCallback)((function(){return j(M.FILM_FRIENDS_MORE_ITEMS_LIMIT)}),[B]),A=Object(a.useState)(M.MovieFriendsTabStates.Skeleton),U=A[0],L=A[1],V=Object(l.useSelector)(R.selectIsAuthorized);Object(a.useEffect)((function(){var e,t,i,n,o,a;V?(null===F||void 0===F?void 0:null===(e=F.items)||void 0===e?void 0:e.length)||(null===B||void 0===B?void 0:null===(t=B.items)||void 0===t?void 0:t.length)?(null===F||void 0===F?void 0:null===(i=F.items)||void 0===i?void 0:i.length)&&(null===B||void 0===B?void 0:null===(n=B.items)||void 0===n?void 0:n.length)?L(M.MovieFriendsTabStates.FullTabs):(null===F||void 0===F?void 0:null===(o=F.items)||void 0===o?void 0:o.length)?L(M.MovieFriendsTabStates.OnlyFirstTab):(null===B||void 0===B?void 0:null===(a=B.items)||void 0===a?void 0:a.length)&&L(M.MovieFriendsTabStates.OnlySecondTab):L(M.MovieFriendsTabStates.Empty):L(M.MovieFriendsTabStates.Unauthorized)}),[U,F,B,V]);var W=Object(l.useDispatch)(),z=Object(a.useCallback)((function(){return W(Object(Bt.loginEffect)())}),[W]),q=Object(a.useCallback)((function(){v(),y()}),[F,B]),Y=Object(St.b)(null===F||void 0===F?void 0:F.items),K=Object(St.b)(null===B||void 0===B?void 0:B.items);return en(xt.a,{onLoad:q,isLoaded:Boolean((p||b)&&(h||S)),placeholder:en(M.MovieFriendsTab,{title:M.dictionary.friends},en(M.FriendsSkeleton,null))},en(M.MovieFriendsTabs,{className:Xi.a.root},U===M.MovieFriendsTabStates.Unauthorized&&en(M.MovieFriendsTab,{title:M.dictionary.friends},en(M.MovieFriendsLoginButton,{onLoginClick:z,description:Ji.a.findFriendsDescription})),(U===M.MovieFriendsTabStates.OnlyFirstTab||U===M.MovieFriendsTabStates.FullTabs)&&en(M.MovieFriendsTab,{title:M.dictionary.friends},en(Gi.b,{isLoading:O,averageVote:null===F||void 0===F?void 0:F.averageVote,total:null===F||void 0===F?void 0:F.total,list:Y||[],error:b||void 0,handleLoadMore:D,handleSortFriendsVotingChange:P,sortBy:s})),(U===M.MovieFriendsTabStates.OnlySecondTab||U===M.MovieFriendsTabStates.FullTabs)&&en(M.MovieFriendsTab,{title:en(M.FriendsOfInterestsTabTitle,null)},en(Gi.a,{averageVote:null===B||void 0===B?void 0:B.weightedAverageVote,total:null===B||void 0===B?void 0:B.total,list:K||[],error:S||void 0,handleLoadMore:N})),U===M.MovieFriendsTabStates.Empty&&en(M.MovieFriendsTab,{title:M.dictionary.friends},en(M.EmptyFriends,{description:Ji.a.emptyFriendsDescription}))))}))),Object(te.a)(ye,p.BlocksTypes.Banner300x600,M.Banner300x600),Object(te.a)(ye,p.BlocksTypes.FilmBanner200x200,M.FilmSidebarBanner200x200),ye),on=function(){var e=Object(l.useSelector)((function(e){return Object(Hi.b)(e)}));return e?tn(It.BlocksRenderer,{config:e,componentsMap:nn}):null},an=i("lT43"),rn=i("FLYk"),ln=Object($.withZone)(A.BaseFilmInfo)(oe.EncyclopedicPageLayout),sn=i("WbMH"),cn=i("pIEH");var dn=r.a.createElement,un=function(e){var t,i,n,o,a=e.film,r=e.producers,l=e.directors,s=e.actors,c=e.awards,d={"@context":"https://schema.org","@type":"Movie",url:(o=a.id,"".concat("https://kinopoisk.ru").concat(b.routes.getUrl(b.FilmRoutesName.FilmPage,{id:o}))),name:Object(cn.j)(a.title),alternativeHeadline:Object(cn.b)(a.title),alternateName:Object(cn.b)(a.title),description:Object(cn.g)(a.synopsis),aggregateRating:Object(cn.a)(a.rating.kinopoisk),image:Object(cn.l)(a.poster),genre:Object(cn.h)(a.genres),award:Object(cn.c)(c),contentRating:Object(cn.d)((null===(t=a.restriction)||void 0===t?void 0:t.mpaa)||null),isFamilyFriendly:Object(cn.i)((null===(i=a.restriction)||void 0===i?void 0:i.age)||null),producer:Object(cn.k)(r),director:Object(cn.k)(l),actor:Object(cn.k)(s),trailer:Object(cn.n)(a.mainTrailer,Object(cn.j)(a.title),Object(cn.i)((null===(n=a.restriction)||void 0===n?void 0:n.age)||null)),countryOfOrigin:Object(cn.e)(a.countries),timeRequired:Object(cn.m)(a.duration),datePublished:Object(cn.f)(a.productionYear)};return dn(sn.JsonLd,{item:d})},vn=r.a.createElement,mn=function(e){var t,i,n,o,a=e.film,r=Object(St.b)(null===(t=a.producers)||void 0===t?void 0:t.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),l=Object(St.b)(null===(i=a.directors)||void 0===i?void 0:i.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),s=Object(St.b)(null===(n=a.actors)||void 0===n?void 0:n.items).map((function(e){return(null===e||void 0===e?void 0:e.person)||null})),c=Object(St.b)(null===(o=a.filmMainAward)||void 0===o?void 0:o.items).filter((function(e){return e.win})).map((function(e){return e.nomination.award}));return vn(un,{film:a,producers:r,directors:l,actors:s,awards:c})},fn=i("ysqo"),pn=i.n(fn),bn=i("YEzN"),On=r.a.createElement,gn=function(e){var t=e.film,i=e.title,n=Object(l.useSelector)((function(e){return Object(J.a)(e,{movieId:t.id})})),o=Object(bn.a)({movieTitle:t.title,year:t.productionYear||void 0,isAvailableOnline:n,seoDescription:Be.c.seoDescription}),a=Object(bn.d)({filmTitle:t.title,year:t.productionYear||void 0}),s=function(e){var t=b.routes.getUrl(b.FilmRoutesName.FilmPage,{id:e});return{kinopoisk:"https://www.kinopoisk.ru",full:"".concat("https://www.kinopoisk.ru").concat(t),phoneApp:"https/www.kinopoisk.ru".concat(t),twitterCard:"kp://filmDetail/".concat(e)}}(t.id),c=Object(bn.b)(i,t.title),d=Object(bn.c)({mainTrailer:t.mainTrailer,restriction:t.restriction,baseUrl:s.kinopoisk}),u=t.poster?Object(cn.l)(t.poster):void 0,v=Object(oe.useViewportSize)();return On(pn.a,null,On("title",{"data-tid":"b5cfde5"},i),v===p.ViewportSizes.Small&&On("meta",{name:"viewport",content:"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width","data-tid":"b5cfde5"}),On("meta",{name:"description",content:o,"data-tid":"b5cfde5"}),On("meta",{name:"keywords",content:c,"data-tid":"b5cfde5"}),a&&On(r.a.Fragment,null,On("meta",{property:"title",content:a,"data-tid":"b5cfde5"}),On("meta",{property:"og:title",content:a,"data-tid":"b5cfde5"}),On("meta",{property:"twitter:title",content:a,"data-tid":"b5cfde5"}),On("meta",{name:"mrc__share_title",content:a,"data-tid":"b5cfde5"})),On("meta",{property:"og:description",content:o,"data-tid":"b5cfde5"}),On("meta",{property:"og:type",content:"video.movie","data-tid":"b5cfde5"}),On("meta",{property:"og:url",content:s.full,"data-tid":"b5cfde5"}),On("meta",{property:"fb:app_id",content:"121953784483000","data-tid":"b5cfde5"}),On("meta",{property:"fb:pages",content:"152308956519","data-tid":"b5cfde5"}),On("link",{rel:"canonical",href:s.full,"data-tid":"b5cfde5"}),On("link",{rel:"alternate",href:"android-app://ru.kinopoisk/".concat(s.phoneApp),"data-tid":"b5cfde5"}),On("link",{rel:"alternate",href:"ios-app://EK7Z26L6D4.ru.kinopoisk/".concat(s.phoneApp),"data-tid":"b5cfde5"}),d&&On(r.a.Fragment,null,On("meta",{property:"ya:ovs:upload_date",content:d.uploadDate,"data-tid":"b5cfde5"}),On("meta",{property:"ya:ovs:adult",content:d.isAdult,"data-tid":"b5cfde5"}),On("meta",{property:"ya:ovs:allow_embed",content:"true","data-tid":"b5cfde5"}),On("meta",{property:"og:video:type",content:"text/html","data-tid":"b5cfde5"}),On("meta",{name:"video_src",content:d.sharingUrl,"data-tid":"b5cfde5"}),On("meta",{name:"video_width",content:d.width,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:player:width",content:d.width,"data-tid":"b5cfde5"}),On("meta",{name:"video_height",content:d.height,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:player:height",content:d.height,"data-tid":"b5cfde5"}),On("meta",{name:"video_type",content:"application/x-shockwave-flash","data-tid":"b5cfde5"}),On("meta",{name:"medium",content:"video","data-tid":"b5cfde5"}),On("meta",{name:"twitter:player",content:d.sharingUrl,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:player:stream",content:d.sharingUrl,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:player:stream:content_type",content:"video/mp4","data-tid":"b5cfde5"}),On("meta",{property:"og:video:iframe",content:d.sharingUrl,"data-tid":"b5cfde5"}),On("meta",{property:"og:video:url",content:d.sharingUrl,"data-tid":"b5cfde5"}),On("meta",{property:"og:video:secure_url",content:d.sharingUrl,"data-tid":"b5cfde5"}),d.preview&&On("link",{rel:"videothumbnail",href:d.preview,"data-tid":"b5cfde5"}),d.duration&&On(r.a.Fragment,null,On("meta",{property:"video:duration",content:d.duration,"data-tid":"b5cfde5"}),On("meta",{property:"og:duration",content:d.duration,"data-tid":"b5cfde5"}))),u&&On(r.a.Fragment,null,On("link",{rel:"image_src",href:u,"data-tid":"b5cfde5"}),On("meta",{property:"og:image",content:u,"data-tid":"b5cfde5"}),On("meta",{property:"vk:image",content:u,"data-tid":"b5cfde5"}),On("meta",{property:"og:image:width",content:"600","data-tid":"b5cfde5"}),On("meta",{property:"og:image:height",content:"900","data-tid":"b5cfde5"})),s.twitterCard&&On(r.a.Fragment,null,On("meta",{name:"twitter:card",content:"app","data-tid":"b5cfde5"}),On("meta",{name:"twitter:site",content:"kinopoiskru","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:name:iphone",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:id:iphone",content:"477718890","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:url:iphone",content:s.twitterCard,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:name:ipad",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:id:ipad",content:"477718890","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:url:ipad",content:s.twitterCard,"data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:name:googleplay",content:"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:id:googleplay",content:"ru.kinopoisk","data-tid":"b5cfde5"}),On("meta",{name:"twitter:app:url:googleplay",content:s.twitterCard,"data-tid":"b5cfde5"})))},In=i("OJp1"),yn=i("zs4Q"),jn=i.n(yn),kn=r.a.createElement,hn=function(e){var t=e.filmId,i=e.title,n=e.setElementRef,o=e.filmData,a=e.mainInfoBlockColorScheme,l=e.hasPromoTrailer,s=Object(rn.a)({movieId:t});if(!(null===o||void 0===o?void 0:o.film))throw new Error("Film ".concat(t," missed in cache"));return kn(r.a.Fragment,null,kn(me.a,null),kn(gn,{film:o.film,title:i}),kn(mn,{film:o.film}),kn(In.a,null),kn(fe.a,{params:v.BannersConfig.SPECIAL_POPUP_DESKTOP.params,renderAdfoxComponent:function(e){return kn(v.AdfoxSpecialPopup,{params:e})}}),kn(pe.a,{ref:n},kn(ve.a,{routeName:b.FilmRoutesName.FilmPage,pageId:t}),kn(an.a,{movieId:t}),kn(oe.ColorSchemeProvider,{value:a},kn(ln,{className:jn.a.root,main:kn(gt,{film:o.film,className:ne()(jn.a.basicInfoSection,Object(te.a)({},jn.a.basicInfoSectionDark,a===oe.BlocksColorSchemes.Dark))}),mainClassName:jn.a.main,sidebar:kn(Yi,{film:o.film,className:ne()(jn.a.basicMediaSection,Object(te.a)({},jn.a.basicMediaSectionDark,a===oe.BlocksColorSchemes.Dark))}),delimiterClassName:ne()(Object(te.a)({},jn.a.delimiterInDark,a===oe.BlocksColorSchemes.Dark)),containerClassName:l?jn.a.videoContainer:void 0,background:kn(Ki.a,{movieId:t,onlineNameplateTitle:se})})),kn(oe.EncyclopedicPageLayout,{className:jn.a.root,sidebar:kn(on,null),sidebarPosition:oe.SidebarPositions.Right,mainClassName:jn.a.additionalInformationSection,sidebarClassName:jn.a.sidebarSection,main:kn(Ei,null)}),kn(M.KpEmptyMovieIframe,{src:s})))},Sn=r.a.createElement,Rn=Object($.withZone)(A.Page,(function(e){return{id:e.filmId,url:e.originalUrl,title:e.title}}))((function(e){var t=Object(X.useVisibilitySensor)().setElementRef;return Sn(hn,Object(n.a)({setElementRef:t},e))})),wn=r.a.createElement,Tn=function(e){var t,i,a,r,s=e.filmId,c=Object(o.a)(e,["filmId"]),d=Object(l.useSelector)(R.selectIsAuthorized),u=Object(l.useSelector)(R.selectUserKpCityId),v=Object(E.b)(C.FILM_BASE_INFO_QUERY,{variables:{filmId:s,withUserData:d,kpCityId:u||null}}).data,m=Object(l.useSelector)((function(e){return Object(J.b)(e,{movieId:s})})),f=Object(l.useSelector)((function(e){return Object(J.a)(e,{movieId:s})})),p=Boolean(Object(l.useSelector)((function(e){return Object(J.d)(e,{movieId:s})}))),b=Y({title:null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:t.title,isAvailableOnline:f,hasReviews:Boolean(null===v||void 0===v?void 0:null===(i=v.film)||void 0===i?void 0:null===(a=i.userReviews)||void 0===a?void 0:a.total),year:null===v||void 0===v?void 0:null===(r=v.film)||void 0===r?void 0:r.productionYear});return wn(Rn,Object(n.a)({},c,{filmId:s,title:b,filmData:v,mainInfoBlockColorScheme:m,hasPromoTrailer:p}))},_n=i("NKw4"),Mn=i("eZYV"),En=r.a.createElement,Cn=function(e){var t=e.filmId,i=e.userVote,n=e.folders,o=e.title,r=e.poster,s=Object(oe.useModalState)(),c=Object(T.a)(s,3),d=c[0],u=c[1],v=c[2],m=Object(Mn.a)(u,[]),f=Z(t,n||[]),p=Object(T.a)(f,2),b=p[0],O=p[1],g=function(e,t){var i=Object(l.useDispatch)();return[Object(a.useCallback)((function(){i(Object(V.c)({filmId:e,rollbackVote:t}))}),[t]),Object(a.useCallback)((function(){i(Object(V.d)({filmId:e,rollbackVote:t}))}),[t])]}(t,i||null),I=Object(T.a)(g,2),y=I[0],j=I[1],k=G(t,n||[]),h=k.userFolders,S=k.selectedFoldersIds,R=k.selectFolder,w=k.unselectFolder,_=function(e,t){var i=Object(l.useDispatch)();return Object(a.useCallback)((function(n){i(Object(V.b)({filmId:e,value:n,rollbackVote:t}))}),[t,e])}(t,i||null);return En(M.TouchActionBarRating,{userVote:i,onWatched:y,onUnwatched:j,onRatingVote:_,isPlannedToWatch:b,onTogglePlannedToWatch:O,userFolders:h,selectedFoldersIds:S,onSelectFolder:R,onUnselectFolder:w,isFoldersModalOpened:d,onOpenFoldersModal:m,onCloseFoldersModal:v,poster:r,title:o})},Fn=r.a.createElement,xn=function(e){var t=e.filmId,i=e.expectationValue,n=e.folders,o=e.poster,r=e.title,s=Object(oe.useModalState)(),c=Object(T.a)(s,3),d=c[0],u=c[1],v=c[2],m=Object(Mn.a)(u,[]),f=Z(t,n||[]),p=Object(T.a)(f,2),b=p[0],O=p[1],g=function(e,t){var i=Object(l.useDispatch)();return[Object(a.useCallback)((function(){i(Object(W.a)({filmId:e,expectation:x.j.Yes,discard:t===x.j.Yes,rollbackExpectation:t||null}))}),[t,e]),Object(a.useCallback)((function(){i(Object(W.a)({filmId:e,expectation:x.j.No,discard:t===x.j.No,rollbackExpectation:t||null}))}),[t,e])]}(t,i),I=Object(T.a)(g,2),y=I[0],j=I[1],k=G(t,n||[]),h=k.userFolders,S=k.selectedFoldersIds,R=k.selectFolder,w=k.unselectFolder;return Fn(M.TouchActionBarExpectation,{expectationValue:i,onWaiting:y,onNotWaiting:j,isPlannedToWatch:b,onTogglePlannedToWatch:O,userFolders:h,selectedFoldersIds:S,onSelectFolder:R,onUnselectFolder:w,isFoldersModalOpened:d,onOpenFoldersModal:m,onCloseFoldersModal:v,poster:o,title:r})},Bn=r.a.createElement,Pn=function(e){var t=e.filmId,i=e.ratingType,n=e.userVote,o=e.expectationValue,a=e.folders,r=e.title,l=e.poster;return i===p.RatingTypes.Kinopoisk?Bn(Cn,{filmId:t,poster:l,title:r,userVote:n,folders:a}):i===p.RatingTypes.Expectation?Bn(xn,{filmId:t,folders:a,title:r,poster:l,expectationValue:o}):null},Dn=i("F8Ip"),Nn=i.n(Dn),An=r.a.createElement,Un=function(e){var t,i,n,o,a=e.className,l=e.film,s=l.id,c=l.rating,d=l.title,u=l.userData,v=l.productionYear,m=l.genres,f=l.countries,b=l.restriction,O=l.duration,g=l.poster,I=l.synopsis,y=l.shortDescription,j=l.ott,k=l.onlineViewOptions,h=l.isTicketsAvailable,S=Object(qe.getRatingForHeaderBlock)(c);return An(M.TouchMajorInfoLayout,{className:a,title:An(M.TouchMovieTitle,{title:d}),subtitle:An(M.TouchMovieSubtitle,{renderActiveRating:function(){return S?An("span",{"data-tid":"f881bb38"},An(Ye.a,{movieId:s,type:S.type,rating:S.rating,size:qe.FilmRatingSizes.Sm,valueDigits:1,viewportSize:p.ViewportSizes.Small})):null},userVoteValue:null!==(t=null===u||void 0===u?void 0:null===(i=u.voting)||void 0===i?void 0:i.value)&&void 0!==t?t:null,title:d}),meta:An(M.TouchMovieMeta,{productionYear:v,genres:m,countries:f,seasonsCount:null,restrictionAge:null!==(n=null===b||void 0===b?void 0:b.age)&&void 0!==n?n:null,duration:O}),poster:An(M.TouchMoviePosterContainer,{avatarsUrl:null===g||void 0===g?void 0:g.avatarsUrl,fallbackUrl:null===g||void 0===g?void 0:g.fallbackUrl,russianTitle:d.russian,originalTitle:d.original}),actionButtons:An(r.a.Fragment,null,An("div",{className:Nn.a.actionButtonsRoot,"data-tid":"37ded00f"},An(We.a,{className:Nn.a.watchOnlineButton,movieId:s,ott:j,onlineViewOptions:k,isTouch:!0}),h?An(at,{filmId:l.id,className:ne()(Nn.a.ticketsButton,(null===l||void 0===l?void 0:l.onlineViewOptions)&&Nn.a.ticketsButtonWithWatchOnline),buttonType:(null===l||void 0===l?void 0:l.onlineViewOptions)?ee.OnlyIcon:ee.Full}):null),k&&Object(ct.isPlusWatchOnlineButton)(k)&&k.textToDisplay?An("div",{className:Nn.a.subOfferText,"data-tid":"37ded00f"},k.textToDisplay):null),synopsis:I?An(M.TouchMovieSynopsis,{shortDescription:y,synopsis:I}):An(M.EmptyMovieInfo,null),buttonBar:S&&An(Pn,{filmId:s,ratingType:null===S||void 0===S?void 0:S.type,userVote:null===u||void 0===u?void 0:u.voting,expectationValue:null===u||void 0===u?void 0:null===(o=u.expectation)||void 0===o?void 0:o.value,folders:null===u||void 0===u?void 0:u.folders,title:d,poster:g})})},Ln=i("NgRY"),Vn=r.a.createElement,Wn=r.a.createElement,zn=i("mFDE"),qn=i("YKes"),Yn=i("qmbv"),Kn=i("UL9a"),Hn=r.a.createElement,Zn=i("t1z0"),Qn=r.a.createElement,Gn=i("0XeB"),Jn=r.a.createElement,$n=i("xLVc");function Xn(){var e=Object(B.a)(["\n    query FilmAdditionalInfo($filmId: Long!) {\n        film(id: $filmId) {\n            id\n            restriction {\n                age\n                mpaa\n            }\n            boxOffice {\n                budget {\n                    amount\n                    currency {\n                        symbol\n                    }\n                }\n                rusBox {\n                    amount\n                    currency {\n                        symbol\n                    }\n                }\n                usaBox {\n                    amount\n                    currency {\n                        symbol\n                    }\n                }\n                worldBox {\n                    amount\n                    currency {\n                        symbol\n                    }\n                }\n                marketing {\n                    amount\n                    currency {\n                        symbol\n                    }\n                }\n            }\n            distribution {\n                rusRelease: releases(types: [CINEMA], rerelease: false, countryId: 2, limit: 1) {\n                    ...releasesInfoFragment\n                }\n                digitalRelease: releases(types: [DIGITAL], limit: 1) {\n                    ...releasesInfoFragment\n                }\n                reRelease: releases(types: [CINEMA], rerelease: true, countryId: 2, limit: 1) {\n                    ...releasesInfoFragment\n                }\n            }\n            releases {\n                date\n                releasers {\n                    id\n                    name\n                }\n                type\n            }\n            premieres(limit: 0) {\n                total\n            }\n            worldPremiere {\n                incompleteDate {\n                    accuracy\n                    date\n                }\n            }\n            tagline\n        }\n    }\n    ","\n"]);return Xn=function(){return e},e}function eo(){var e=Object(B.a)(["\n    fragment releasesInfoFragment on PagingList_Release {\n        items {\n            date {\n                accuracy\n                date\n            }\n            companies {\n                id\n                slugId\n                slug\n                displayName\n            }\n        }\n    }\n"]);return eo=function(){return e},e}var to,io=Object(P.gql)(eo()),no=Object(P.gql)(Xn(),io),oo=r.a.createElement,ao=r.a.createElement,ro=(to={},Object(te.a)(to,p.BlocksTypes.MovieTouchRating,ht((function(e){var t,i,n,o,s,c,d,u,v=function(e){var t,i,n,o,r,s,c=e.filmId,d=e.isAuthorized,u=Object(l.useDispatch)(),v=Object(E.a)(L,{variables:{filmId:c,withUserData:d}}),m=Object(T.a)(v,2),f=m[0],p=m[1],b=p.data,O=p.error,g=null===b||void 0===b?void 0:b.film,I=Object(z.a)(g),y=Object(a.useCallback)((function(e){var t;u(Object(V.b)({filmId:c,value:e,rollbackVote:null===g||void 0===g?void 0:null===(t=g.userData)||void 0===t?void 0:t.voting}))}),[null===g||void 0===g?void 0:null===(t=g.userData)||void 0===t?void 0:t.voting,c]),j=Object(a.useCallback)((function(){var e,t,i,n;u(Object(W.a)({filmId:c,expectation:x.j.Yes,discard:(null===g||void 0===g?void 0:null===(e=g.userData)||void 0===e?void 0:null===(t=e.expectation)||void 0===t?void 0:t.value)===x.j.Yes,rollbackExpectation:(null===g||void 0===g?void 0:null===(i=g.userData)||void 0===i?void 0:null===(n=i.expectation)||void 0===n?void 0:n.value)||null}))}),[null===g||void 0===g?void 0:null===(i=g.userData)||void 0===i?void 0:null===(n=i.expectation)||void 0===n?void 0:n.value,c]),k=Object(a.useCallback)((function(){var e,t,i,n;u(Object(W.a)({filmId:c,expectation:x.j.No,discard:(null===g||void 0===g?void 0:null===(e=g.userData)||void 0===e?void 0:null===(t=e.expectation)||void 0===t?void 0:t.value)===x.j.No,rollbackExpectation:(null===g||void 0===g?void 0:null===(i=g.userData)||void 0===i?void 0:null===(n=i.expectation)||void 0===n?void 0:n.value)||null}))}),[null===g||void 0===g?void 0:null===(o=g.userData)||void 0===o?void 0:null===(r=o.expectation)||void 0===r?void 0:r.value,c]);return{handleFetchData:f,data:b,error:O,positiveReviewPercent:I,positiveReviewTotal:(null===g||void 0===g?void 0:null===(s=g.usersReviewsPositive)||void 0===s?void 0:s.total)||null,handleRatingVote:y,handleWaitClick:j,handleDontWaitClick:k}}({filmId:e.filmId,isAuthorized:Object(l.useSelector)(R.selectIsAuthorized)}),m=v.handleFetchData,f=v.data,p=v.error,b=v.positiveReviewPercent,O=v.positiveReviewTotal,g=v.handleRatingVote,I=v.handleWaitClick,y=v.handleDontWaitClick,j=Object(a.useState)(!1),k=j[0],h=j[1],S=Object(a.useCallback)((function(){h(!0)}),[h]),w=Object(a.useCallback)((function(){return h(!1)}),[]),_=Object(a.useCallback)((function(e){g(e)}),[g]);return Wn(r.a.Fragment,null,k&&Wn(K.TouchMovieReviewModalContainer,{onCloseModal:w,vote:null===f||void 0===f?void 0:null===(t=f.film)||void 0===t?void 0:null===(i=t.userData)||void 0===i?void 0:i.voting,title:null===f||void 0===f?void 0:null===(n=f.film)||void 0===n?void 0:n.title,poster:null===f||void 0===f?void 0:null===(o=f.film)||void 0===o?void 0:o.poster,onVote:_}),Wn(xt.a,{onLoad:m,isLoaded:Boolean(f||p),placeholder:Wn(M.TouchRatingSectionSkeleton,null)},Boolean(null===f||void 0===f?void 0:null===(s=f.film)||void 0===s?void 0:s.rating)&&Wn(M.TouchRatingSection,{doesntRatingText:Ji.a.filmDoesntRating,rating:(null===f||void 0===f?void 0:null===(c=f.film)||void 0===c?void 0:c.rating)||null,userData:(null===f||void 0===f?void 0:null===(d=f.film)||void 0===d?void 0:d.userData)||null,top250Position:(null===f||void 0===f?void 0:null===(u=f.film)||void 0===u?void 0:u.top250)||null,positiveReviewPercent:b,positiveReviewTotal:O,onRatingVote:S,onWaitClick:I,onDontWaitClick:y})))}))),Object(te.a)(to,p.BlocksTypes.MovieActors,ht((function(e){var t,i=e.className,n=e.filmId,o=e.blockMeta,a=o.type,r=o.index,l=Object(E.a)(C.FILM_ACTORS_QUERY,{variables:{filmId:n}}),s=Object(T.a)(l,2),c=s[0],d=s[1],u=d.data,v=d.error;return Hn(Kn.a,{className:i,handleFetchData:c,movieId:n,movie:null!==(t=null===u||void 0===u?void 0:u.film)&&void 0!==t?t:null,error:v,blockIndex:r,blockType:a})}))),Object(te.a)(to,p.BlocksTypes.MovieCreators,ht((function(e){var t,i=e.className,n=e.filmId,o=e.blockMeta,a=o.type,r=o.index,l=Object(E.a)(C.FILM_CREATORS_QUERY,{variables:{filmId:n}}),s=Object(T.a)(l,2),c=s[0],d=s[1],u=d.data,v=d.error;return Qn(Zn.a,{className:i,handleFetchData:c,movieId:n,movie:null!==(t=null===u||void 0===u?void 0:u.film)&&void 0!==t?t:null,error:v,blockIndex:r,blockType:a})}))),Object(te.a)(to,p.BlocksTypes.MovieFacts,ht(Tt)),Object(te.a)(to,p.BlocksTypes.MovieBloopers,ht(Et)),Object(te.a)(to,p.BlocksTypes.MovieSimilarFilms,ht(At)),Object(te.a)(to,p.BlocksTypes.MovieSequelFilms,ht((function(e){var t,i=e.filmId,n=e.className,o=e.blockMeta,a=o.type,r=o.index,s=Object(l.useSelector)(R.selectIsAuthorized),c=Object(oe.useViewportSize)(),d=Object(E.a)(C.SEQUELS_PREQUELS_QUERY,{variables:{filmId:i,withUserData:s}}),u=Object(T.a)(d,2),v=u[0],m=u[1],f=m.data,p=m.error;return Vn(Ln.a,{handleFetchData:v,movieId:i,movie:null!==(t=null===f||void 0===f?void 0:f.film)&&void 0!==t?t:null,error:p,className:n,blockIndex:r,blockType:a,viewportSize:c})}))),Object(te.a)(to,p.BlocksTypes.MovieTrailersAndTeasers,Object(Yn.a)(zn.a)),Object(te.a)(to,p.BlocksTypes.MovieAwards,Object(Yn.a)(qn.a)),Object(te.a)(to,p.BlocksTypes.MovieMediaPosts,ht(hi)),Object(te.a)(to,p.BlocksTypes.MovieUserReviews,ht((function(e){var t=e.filmId,i=e.blockMeta,n=i.type,o=i.index,a=Object(l.useSelector)(R.selectIsAuthorized),r=Object(E.a)(C.FILM_USERS_REVIEWS_QUERY,{variables:{filmId:t,userReviewsOrderBy:M.REVIEWS_PAGINATED_LIST_DEFAULT_ORDER,userReviewsLimit:M.REVIEWS_PAGINATED_LIST_SIZE,withUserData:a}}),s=Object(T.a)(r,2),c=s[0],d=s[1],u=d.data,v=d.error;return Jn(Gn.a,{handleFetchData:c,movie:null===u||void 0===u?void 0:u.film,error:v,movieId:t,blockType:n,blockIndex:o})}))),Object(te.a)(to,p.BlocksTypes.MovieAdditionalInfo,ht((function(e){var t,i=e.className,n=e.filmId,o=e.blockMeta,a=o.type,r=o.index,l=Object(E.a)(no,{variables:{filmId:n}}),s=Object(T.a)(l,2),c=s[0],d=s[1],u=d.data,v=d.error;return oo($n.a,{className:i,handleFetchData:c,movieId:n,movie:null!==(t=null===u||void 0===u?void 0:u.film)&&void 0!==t?t:null,error:v,blockIndex:r,blockType:a})}))),Object(te.a)(to,p.BlocksTypes.TouchMovieBannerSmall,Object(Yn.a)(M.TouchBannerSmall)),Object(te.a)(to,p.BlocksTypes.TouchMovieBannerMedium,M.TouchBannerMedium),Object(te.a)(to,p.BlocksTypes.TouchMovieBannerLarge,M.TouchBannerLarge),to),lo=Object($.withZone)(A.AdditionalInformation)((function(){var e=Object(l.useSelector)((function(e){return Object(g.selectFilmPageTouchBlockConfig)(e)}));return e?ao(It.BlocksRenderer,{config:e,componentsMap:ro,shouldSendShowAnalyticsEvent:!0}):null})),so=r.a.createElement,co=function(e){var t=e.film,i=e.title;return so(oe.ViewportSizeProvider,{value:p.ViewportSizes.Small},so(gn,{film:t,title:i}),so(fe.a,{params:v.BannersConfig.SPECIAL_POPUP_TOUCH.params,renderAdfoxComponent:function(e){return so(v.AdfoxSpecialPopup,Object(n.a)({},v.BannersConfig.SPECIAL_POPUP_TOUCH,{params:e}))}}),so(mn,{film:t}),so(_n.a,null,so(Un,{film:t}),so(lo,null),so(M.TouchMovieShareSection,null)))},uo=r.a.createElement,vo=Object($.withZone)(A.Page,(function(e){return{id:e.filmId,url:e.originalUrl,title:e.title}}))((function(e){var t=Object(X.useVisibilitySensor)().setElementRef;return uo(co,Object(n.a)({setElementRef:t},e))})),mo=r.a.createElement,fo=function(e){var t,i,a,r,s=e.filmId,c=Object(o.a)(e,["filmId"]),d=Object(l.useSelector)(R.selectIsAuthorized),u=Object(l.useSelector)(R.selectUserKpCityId),v=Object(E.b)(C.FILM_BASE_INFO_QUERY,{variables:{filmId:s,withUserData:d,kpCityId:u||null}}).data,m=Object(l.useSelector)((function(e){return Object(J.a)(e,{movieId:s})})),f=Y({title:null===v||void 0===v?void 0:null===(t=v.film)||void 0===t?void 0:t.title,isAvailableOnline:m,hasReviews:Boolean(null===v||void 0===v?void 0:null===(i=v.film)||void 0===i?void 0:null===(a=i.userReviews)||void 0===a?void 0:a.total),year:null===v||void 0===v?void 0:null===(r=v.film)||void 0===r?void 0:r.productionYear});if(!(null===v||void 0===v?void 0:v.film))throw new Error("Film ".concat(s," missed in cache"));return mo(vo,Object(n.a)({},c,{filmId:s,title:f,film:v.film}))},po=r.a.createElement,bo=function(e){var t=e.filmId,i=Object(o.a)(e,["filmId"]),a=Object(l.useSelector)(s.b);return po(a?Tn:fo,Object(n.a)({filmId:t},i))};bo.getInitialProps=function(e){var t,i,n,o,a,r,l,s,c;return f.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=Number(e.query.id),e.store.runSaga){d.next=3;break}throw new Error("Redux Saga not found");case 3:return d.next=5,f.a.awrap(e.store.runSaga(O.a,Object(g.filmPageFetchInitialPropsEffect)({filmId:o,requestId:null===(t=e.req)||void 0===t?void 0:t.requestId})).toPromise());case 5:if(a=d.sent,!(null===(r=a.baseInfo)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.film)){d.next=9;break}return d.abrupt("return",{filmId:o,originalUrl:null===(l=e.req)||void 0===l?void 0:l.originalUrl});case 9:if(s=Object(I.d)({errors:null===r||void 0===r?void 0:r.errors,errorType:y.GraphqlErrorsTypes.NotFound,path:"film"}),c=s?p.HttpStatusesCodes.NotFound:p.HttpStatusesCodes.InternalServerError,e.res){d.next=13;break}return d.abrupt("return",{filmId:o,statusCode:c});case 13:if(c!==p.HttpStatusesCodes.NotFound||!j(r)){d.next=17;break}return e.res.redirect(b.routes.getUrl(b.FilmRoutesName.TvSeriesPage,{id:o}),302),e.res.end(),d.abrupt("return",{filmId:o});case 17:return e.res.statusCode=c,e.res.end(),d.abrupt("return",{filmId:o,statusCode:c,originalUrl:null===(n=e.req)||void 0===n?void 0:n.originalUrl});case 20:case"end":return d.stop()}}),null,null,null,Promise)};var Oo=Object(d.withDynamicModules)([Object(k.a)(),Object(h.a)(),Object(g.getFilmPageModule)(),Object(u.a)(),Object(S.a)(),Object(c.a)(),Object(s.a)(),Object(v.getAdfoxModule)()])(bo)},CuJt:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/film",function(){return i("CMsO")}])},DeaZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("KD1n"),o=i("x8tt");function a(){var e=Object(n.a)(["\n    query FilmMediaPosts($filmId: Long!, $mediaPostsLimit: Int = 10) {\n        film(id: $filmId) {\n            id\n            mediaPosts: post(limit: $mediaPostsLimit) {\n                items {\n                    id\n                    title\n                    commentsCount\n                    publishedAt\n                    commentable\n                    type\n                    thumbImage {\n                        avatarsUrl\n                        fallbackUrl\n                    }\n                }\n                total\n            }\n        }\n    }\n"]);return a=function(){return e},e}var r=Object(o.gql)(a())},DzDZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var n=i("yw3l"),o=i("ZmC0"),a=i("VtSi"),r=i.n(a),l=i("M6UX"),s=i("B277"),c=i("OrNH"),d=i("5QFK"),u=i("Ag3s"),v=i("8Hq5"),m=i("BFBg"),f=i("6BAR"),p=i("C9RK"),b=i("PQv5"),O=i.n(b),g=i("xNSc"),I=function(e){var t=e.apolloClient,i=e.filmId,n=Object(g.f)({id:i});try{return t.readFragment({id:n,fragment:p.FILM_USER_DATA_FRAGMENT})}catch(o){O.a.error("Read user data fragment failed")}return null},y=function(e){var t=e.apolloClient,i=e.filmId,n=e.data,o=e.logger,a=Object(g.f)({id:i});try{t.writeFragment({id:a,fragment:p.FILM_USER_DATA_FRAGMENT,data:n})}catch(r){o&&o.error("Mutate user data fragment failed")}},j=function(e){var t=e.folderId,i=e.apolloClient,n=e.filmId,o=e.logger,a=I({apolloClient:i,filmId:n});if(null===a||void 0===a?void 0:a.userData){var r=a.userData.folders||[];if(r.some((function(e){return(null===e||void 0===e?void 0:e.id)===t}))){var l=Object(f.a)(a,(function(e){e.userData&&(e.userData.folders=r.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==t})))}));y({apolloClient:i,filmId:n,data:l,logger:o})}}},k=i("d/yK"),h=r.a.mark(S);function S(e){var t,i,n,o,a,l,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.folderId,i=e.apolloClient,n=e.filmId,null===(o=I({apolloClient:i,filmId:n}))||void 0===o?void 0:o.userData){r.next=4;break}return r.abrupt("return");case 4:if(a=o.userData.folders||[],!a.some((function(e){return(null===e||void 0===e?void 0:e.id)===t}))){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,Object(c.i)(u.d,{folderId:t});case 10:return l=r.sent,s=Object(f.a)(o,(function(e){e.userData&&(e.userData.folders=a.concat({__typename:k.p.Folder,id:t,name:l||""}))})),r.t0=y,r.t1=i,r.t2=n,r.t3=s,r.next=18,Object(c.f)(m.a);case 18:r.t4=r.sent,r.t5={apolloClient:r.t1,filmId:r.t2,data:r.t3,logger:r.t4},(0,r.t0)(r.t5);case 21:case"end":return r.stop()}}),h)}var R=r.a.mark(w);function w(e){var t,i,n,o,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(c.b)(u.a);case 2:return t=e.payload,i=t.filmId,n=t.folderId,o=t.operation,r.next=5,Object(c.b)(v.a);case 5:if(a=r.sent,o!==d.FolderOperation.Add){r.next=10;break}return r.next=9,Object(c.b)(S,{folderId:n,apolloClient:a,filmId:i});case 9:return r.abrupt("return");case 10:if(o!==d.FolderOperation.Remove){r.next=22;break}return r.t0=c.b,r.t1=j,r.t2=n,r.t3=a,r.t4=i,r.next=18,Object(c.f)(m.a);case 18:return r.t5=r.sent,r.t6={folderId:r.t2,apolloClient:r.t3,filmId:r.t4,logger:r.t5},r.next=22,(0,r.t0)(r.t1,r.t6);case 22:case"end":return r.stop()}}),R)}var T=i("9T5q"),_=i("WZ32"),M=r.a.mark(E);function E(e){var t,i,n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.filmId,n=t.folderId,o=t.operation,a.next=4,Object(_.g)({movieId:i,folderId:n,operation:o,movieType:T.MovieTypes.Film});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),M)}var C=i("zjfJ"),F=r.a.mark(P);function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){Object(C.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function P(e){var t,i,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.operation,n=Object(s.g)(B({},t,{operation:i===d.FolderOperation.Add?d.FolderOperation.Remove:d.FolderOperation.Add})),o.next=5,Object(c.b)(w,n);case 5:case"end":return o.stop()}}),F)}var D=r.a.mark(A),N=80;function A(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(N,(function(e){var t=e.payload;return"".concat(t.filmId).concat(t.folderId)}),s.g.type,w,E,P);case 2:case"end":return e.stop()}}),D)}var U=i("FhWZ"),L=r.a.mark(z);function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function W(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){Object(C.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function z(e){var t,i,n,o,a,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userReviewId,i=e.votes,n=e.voting,r.next=3,Object(c.b)(v.a);case 3:if(o=r.sent,(null===(a=Object(U.d)({apolloClient:o,userReviewId:t}))||void 0===a?void 0:a.votes)&&a.userData){r.next=7;break}return r.abrupt("return");case 7:return l=Object(f.a)(a,(function(e){e.userData&&a.votes&&e.userData.__typename===k.p.UserReviewUserData&&(n&&(e.userData.voting=n),e.votes=W({},e.votes,{},i))})),r.t0=U.c,r.t1=t,r.t2=o,r.t3=l,r.next=14,Object(c.f)(m.a);case 14:r.t4=r.sent,r.t5={userReviewId:r.t1,apolloClient:r.t2,data:r.t3,logger:r.t4},(0,r.t0)(r.t5);case 17:case"end":return r.stop()}}),L)}var q=r.a.mark(H);function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){var t=e.rollbackVotes,i=e.userVoting,n=e.rollbackUserVoting,o=t.negativeCount,a=t.positiveCount;switch(i){case k.s.Helpful:a+=1;break;case k.s.Unhelpful:o+=1}switch(n){case k.s.Helpful:a=Math.max(0,a-1);break;case k.s.Unhelpful:o=Math.max(0,o-1)}return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Object(C.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{negativeCount:o,positiveCount:a})}function H(e){var t,i,n,o,a,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.userVoting,n=t.userReviewId,o=t.rollbackVotes,a=t.rollbackUserVoting,r.next=3,Object(c.b)(u.a);case 3:return l=K({rollbackVotes:o,userVoting:i,rollbackUserVoting:a}),r.next=6,Object(c.b)(z,{userReviewId:n,votes:l,voting:i});case 6:case"end":return r.stop()}}),q)}var Z=i("MQ1I"),Q=i("RixH"),G=r.a.mark(J);function J(e){var t,i,n,o,a,l,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.userReviewId,n=t.filmId,o=t.userId,a=t.userVoting,r.next=3,Object(c.b)(u.a);case 3:return r.next=5,Object(c.d)(1e3);case 5:if(l=Object(Z.getReactionTypeByUserVoting)(a)){r.next=8;break}throw new Error("voteType is invalid");case 8:return r.next=10,Object(c.b)(Q.a);case 10:return s=r.sent,r.next=13,s.voteReview({filmId:n,reviewId:i,userId:o,voteType:l});case 13:case"end":return r.stop()}}),G)}var $=r.a.mark(X);function X(e){var t,i,n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.userReviewId,n=t.rollbackVotes,o=t.rollbackUserVoting,a.next=3,Object(c.b)(z,{userReviewId:i,votes:n,voting:o});case 3:case"end":return a.stop()}}),$)}var ee=r.a.mark(te);function te(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(100,(function(e){var t=e.payload,i=t.userReviewId,n=t.userId;return"".concat(i).concat(n)}),s.e.type,H,J,X);case 2:case"end":return e.stop()}}),ee)}var ie=r.a.mark(ae);function ne(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function oe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach((function(t){Object(C.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ae(e){var t,i,n,o,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filmId,i=e.vote,r.next=3,Object(c.b)(v.a);case 3:if(n=r.sent,o=I({apolloClient:n,filmId:t})){r.next=7;break}return r.abrupt("return");case 7:return a=Object(f.a)(o,(function(e){(null===e||void 0===e?void 0:e.userData)&&(e.userData.voting=i?oe({__typename:k.p.Vote},i):null)})),r.t0=y,r.t1=t,r.t2=n,r.t3=a,r.next=14,Object(c.f)(m.a);case 14:r.t4=r.sent,r.t5={filmId:r.t1,apolloClient:r.t2,data:r.t3,logger:r.t4},(0,r.t0)(r.t5);case 17:case"end":return r.stop()}}),ie)}var re=r.a.mark(le);function le(e){var t,i,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(c.b)(u.a);case 2:return t=e.payload,i=t.filmId,n=t.value,o.next=5,Object(c.b)(ae,{filmId:i,vote:{value:n>=0?n:null,votedAt:null}});case 5:case"end":return o.stop()}}),re)}var se=r.a.mark(ce);function ce(e){var t,i,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.filmId,n=t.value,o.next=4,Object(_.h)({movieId:i,value:n});case 4:return o.abrupt("return",o.sent);case 5:case"end":return o.stop()}}),se)}var de=r.a.mark(ue);function ue(e){var t,i,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.filmId,n=t.rollbackVote,o.next=3,Object(c.b)(ae,{filmId:i,vote:n});case 3:case"end":return o.stop()}}),de)}var ve=r.a.mark(fe),me=80;function fe(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(me,(function(e){var t=e.payload;return String(t.filmId)}),s.h.type,le,ce,ue);case 2:case"end":return e.stop()}}),ve)}var pe=i("LPUJ"),be=r.a.mark(Ie);function Oe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ge(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(i),!0).forEach((function(t){Object(C.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ie(e){var t,i,n,o,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filmId,i=e.expectation,r.next=3,Object(c.b)(v.a);case 3:if(n=r.sent,o=I({apolloClient:n,filmId:t})){r.next=7;break}return r.abrupt("return");case 7:return a=Object(f.a)(o,(function(e){(null===e||void 0===e?void 0:e.userData)&&(e.userData.expectation=ge({},e.userData.expectation,{__typename:k.p.MovieUserExpectation,value:i}))})),r.t0=y,r.t1=n,r.t2=t,r.t3=a,r.next=14,Object(c.f)(m.a);case 14:r.t4=r.sent,r.t5={apolloClient:r.t1,filmId:r.t2,data:r.t3,logger:r.t4},(0,r.t0)(r.t5);case 17:case"end":return r.stop()}}),be)}var ye=r.a.mark(je);function je(e){var t,i,n,o,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.expectation,n=t.filmId,o=t.discard,r.next=3,Object(c.b)(u.a);case 3:return a=Object(pe.a)(i,o),r.next=6,Ie({filmId:n,expectation:a});case 6:case"end":return r.stop()}}),ye)}var ke=r.a.mark(he);function he(e){var t,i,n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,i=t.expectation,n=t.filmId,o=t.discard,a.next=3,Object(pe.b)({id:n,rawExpectation:i,discard:o});case 3:case"end":return a.stop()}}),ke)}var Se=r.a.mark(Re);function Re(e){var t,i,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,i=t.filmId,n=t.rollbackExpectation,o.next=3,Ie({filmId:i,expectation:n});case 3:case"end":return o.stop()}}),Se)}var we=r.a.mark(Te);function Te(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(200,(function(e){var t=e.payload;return String(t.filmId)}),s.f.type,je,he,Re);case 2:case"end":return e.stop()}}),we)}var _e=i("9/Y8"),Me=i("6YES"),Ee=r.a.mark(Fe),Ce=r.a.mark(xe);function Fe(e){var t,i,n,o,a,l,s,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,i=t.message,n=t.movieId,o=t.requestId,r.next=3,Object(c.h)(Object(_e.createRequest)({id:o}));case 3:return r.next=5,Object(c.b)(Me.a);case 5:return a=r.sent,r.prev=6,r.next=9,Object(c.h)(Object(_e.updateRequestStatus)({id:o,status:_e.AppRequestStatuses.Pending}));case 9:return r.next=11,a.updateNote({filmId:n,message:i});case 11:return r.next=13,Object(c.b)(v.a);case 13:if(l=r.sent,null===(s=I({apolloClient:l,filmId:n}))||void 0===s?void 0:s.userData){r.next=17;break}return r.abrupt("return");case 17:return d=Object(f.a)(s,(function(e){if(null===e||void 0===e?void 0:e.userData){var t={__typename:k.p.UserMovieNote,value:i,makeDate:null};e.userData.note=t}})),r.t0=y,r.t1=l,r.t2=n,r.t3=d,r.next=24,Object(c.f)(m.a);case 24:return r.t4=r.sent,r.t5={apolloClient:r.t1,filmId:r.t2,data:r.t3,logger:r.t4},(0,r.t0)(r.t5),r.next=29,Object(c.h)(Object(_e.updateRequestStatus)({id:o,status:_e.AppRequestStatuses.Success}));case 29:r.next=35;break;case 31:return r.prev=31,r.t6=r.catch(6),r.next=35,Object(c.h)(Object(_e.updateRequestStatus)({id:o,status:_e.AppRequestStatuses.Failed}));case 35:case"end":return r.stop()}}),Ee,null,[[6,31]])}function xe(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.k)(s.a.FilmNoteSubmitEffect,Fe);case 2:case"end":return e.stop()}}),Ce)}var Be=[o.b,A,te,fe,Te,n.a,xe]},ESI9:function(e,t,i){e.exports={root:"styles_root__2veYq",rootInDark:"styles_rootInDark__B03Na styles_root__2veYq",rootInLight:"styles_rootInLight__1b6gD styles_root__2veYq",ticketIcon:"styles_ticketIcon__1KW_R",onlyIcon:"styles_onlyIcon__2c8Rv"}},F8Ip:function(e,t,i){e.exports={actionButtonsRoot:"styles_actionButtonsRoot__ji2Y1",ticketsButton:"styles_ticketsButton__3lC8h",watchOnlineButton:"styles_watchOnlineButton__1j89J",ticketsButtonWithWatchOnline:"styles_ticketsButtonWithWatchOnline__1IWoV",subOfferText:"styles_subOfferText__1g5x5"}},L8DZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("kdn0"),o=i("B277"),a=Object(n.b)({},(function(e){e.addCase(o.c,(function(e,t){var i=t.payload;e.blocksConfig=i}))}))},Phkd:function(e,t,i){e.exports={root:"styles_root__-bQM6"}},SCjx:function(e,t,i){e.exports={review:"styles_review__2du1d"}},VJ21:function(e,t,i){e.exports={title:"styles_title__1yvs9",filmRating:"styles_filmRating__3uyOe",buttonsAndDescriptionContainer:"styles_buttonsAndDescriptionContainer__24igj",buttonsContainer:"styles_buttonsContainer__UTIlG",hdContainer:"styles_hdContainer__3jCqC",watchOnlineButton:"styles_watchOnlineButton__1jZzr",watchOnlineDescription:"styles_watchOnlineDescription__2_w68",details:"styles_details__1785q",tableHeader:"styles_tableHeader__22f5C",filmCrew:"styles_filmCrew__UOwJw",userNote:"styles_userNote__16Z6a",awards:"styles_awards__1kIS0",sequelsPrequels:"styles_sequelsPrequels__3nzP7",productionStatus:"styles_productionStatus__2QDuV"}},ZlH5:function(e,t,i){e.exports={originalTitle:"styles_originalTitle__31aMS",originalTitleSmall:"styles_originalTitleSmall__3HVQm"}},ZmC0:function(e,t,i){"use strict";i.d(t,"a",(function(){return P})),i.d(t,"b",(function(){return D}));var n,o=i("VtSi"),a=i.n(o),r=i("zygG"),l=i("OrNH"),s=i("9vgG"),c=i("H/7H"),d=i("MRcq"),u=i("B277"),v=i("WZ32"),m=i("Ag3s"),f=i("1vmJ"),p=i("Fi4P"),b=i("fGyu"),O=i("j/kK"),g=i("zjfJ"),I=i("5QFK"),y=i("9LhE"),j=i("w++g"),k=i("C9RK"),h=i("d/yK"),S=i("PzpK"),R=i("DeaZ"),w=i("iGtG"),T=Object(y.a)((n={},Object(g.a)(n,I.BlocksTypes.MovieCriticReviews,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:k.FILM_CRITICS_REVIEWS_QUERY,variables:{filmId:t,criticReviewsLimit:j.MOVIE_PAGE_CRITIC_REVIEWS_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieFacts,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:S.a,variables:{filmId:t,triviasType:h.o.Fact,triviasLimit:j.TRIVIAS_INITIAL_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieBloopers,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:S.a,variables:{filmId:t,triviasType:h.o.Blooper,triviasLimit:j.TRIVIAS_INITIAL_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieUserReviews,(function(e){var t,i,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.filmId,i=e.apolloClient,n=e.isAuthorized,o.prev=1,o.next=4,a.a.awrap(i.query({query:k.FILM_USERS_REVIEWS_QUERY,variables:{filmId:t,userReviewsLimit:j.REVIEWS_PAGINATED_LIST_SIZE,userReviewsOrderBy:j.REVIEWS_PAGINATED_LIST_DEFAULT_ORDER,withUserData:n}}));case 4:o.next=8;break;case 6:o.prev=6,o.t0=o.catch(1);case 8:case"end":return o.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieSimilarFilms,(function(e){var t,i,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.filmId,i=e.apolloClient,n=e.isAuthorized,o.prev=1,o.next=4,a.a.awrap(i.query({query:w.a,variables:{filmId:t,similarMoviesLimit:j.SIMILAR_MOVIES_LIMIT,withUserData:n}}));case 4:o.next=8;break;case 6:o.prev=6,o.t0=o.catch(1);case 8:case"end":return o.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieMediaPosts,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:R.a,variables:{filmId:t,mediaPostsLimit:j.MEDIA_POSTS_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieTrailersAndTeasers,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:k.FILM_TRAILERS_QUERY,variables:{filmId:t}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieListsRelations,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:k.FILM_LIST_RELATIONS_QUERY,variables:{filmId:t,movieListsRelationsLimit:j.MOVIE_LIST_RELATION_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),Object(g.a)(n,I.BlocksTypes.MovieSoundtrack,(function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filmId,i=e.apolloClient,n.prev=1,n.next=4,a.a.awrap(i.query({query:k.FILM_SOUNDTRACK_QUERY,variables:{filmId:t,soundtrackLimit:j.FILM_LIST_SOUNDTRACK_CHUNK_SIZE}}));case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),null,null,[[1,6]],Promise)})),n)),_=i("8Hq5"),M=a.a.mark(E);function E(e){var t,i,n,o,r,s;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.filmId,i=e.isAuthorized,n=e.forceBlocksPreload,o=void 0!==n&&n,r=O.a,a.next=4,Object(l.h)(Object(u.c)(r));case 4:return a.next=6,Object(_.a)();case 6:return s=a.sent,a.next=9,T({blocksConfig:[].concat(Object(b.a)(r.additionalInformation),Object(b.a)(r.sidebar)),variables:{filmId:t,apolloClient:s,isAuthorized:i},forceBlocksPreload:o});case 9:case"end":return a.stop()}}),M)}var C=a.a.mark(F);function F(e){var t,i,n,o,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.filmId,i=e.isAuthorized,n=e.kpCityId,a.next=3,Object(_.a)();case 3:return o=a.sent,r=null,a.prev=5,a.next=8,o.query({query:k.FILM_BASE_INFO_QUERY,variables:{filmId:t,withUserData:i,kpCityId:n||null},errorPolicy:"all"});case 8:r=a.sent,a.next=13;break;case 11:a.prev=11,a.t0=a.catch(5);case 13:return a.abrupt("return",r);case 14:case"end":return a.stop()}}),C,null,[[5,11]])}var x=a.a.mark(P),B=a.a.mark(D);function P(e){var t,i,n,o,u,b,O,g,I;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.filmId,a.next=3,Object(l.b)(c.createSessionIfNotExistSaga,e);case 3:return a.next=5,Object(l.b)(p.a);case 5:return a.next=7,Object(l.i)((function(e){return Object(c.selectIsFeatureEnabled)(e,{featureId:f.e})}));case 7:return i=a.sent,a.next=10,Object(l.h)(Object(d.c)({platforms:i?f.c:f.b}));case 10:return a.next=12,Object(l.i)(c.selectIsAuthorized);case 12:return n=a.sent,a.next=15,Object(l.i)(c.selectIsRobot);case 15:return o=a.sent,a.next=18,Object(l.i)(c.selectUserKpCityId);case 18:return u=a.sent,a.next=21,Object(l.a)([F({filmId:t,isAuthorized:n,kpCityId:u}),E({filmId:t,isAuthorized:n,forceBlocksPreload:o}),Object(v.a)({movieId:t}),Object(m.b)(),Object(s.fetchConfig)()]);case 21:return b=a.sent,O=Object(r.a)(b,1),g=O[0],I={baseInfo:g},a.abrupt("return",I);case 26:case"end":return a.stop()}}),x)}function D(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.l)(u.d.type,P);case 2:case"end":return e.stop()}}),B)}},amtH:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return v}));var n=i("kdn0"),o=i("o4DS"),a=Object(n.a)(o.a.SetUserRatingEffect),r=i("zjfJ");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var s=function(e){return a(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:-1}))};function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var d=function(e){return a(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:0}))};function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var v=function(e){return a(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,{value:-1}))}},cDcd:function(e,t){e.exports=React},csgz:function(e,t,i){e.exports={root:"styles_root__2s5G7",ratingBar:"styles_ratingBar__14lZB",rootSingleRating:"styles_rootSingleRating__2gCE8"}},dOIt:function(e,t,i){"use strict";i.d(t,"getFilmPageModule",(function(){return c}));var n=i("zjfJ"),o=i("1vmJ"),a=i("DzDZ"),r=i("L8DZ"),l=i("B277");i.d(t,"deleteFilmUserRatingEffect",(function(){return l.b})),i.d(t,"filmPageFetchInitialPropsEffect",(function(){return l.d})),i.d(t,"filmPageSetUserReviewVoteEffect",(function(){return l.e})),i.d(t,"setFilmExpectationReactionEffect",(function(){return l.f})),i.d(t,"setFilmFolderEffect",(function(){return l.g})),i.d(t,"setFilmUserRatingEffect",(function(){return l.h})),i.d(t,"setFilmWatchedEffect",(function(){return l.i})),i.d(t,"unsetFilmWatchedEffect",(function(){return l.k}));var s=i("oEWk");i.d(t,"selectFilmPageAdditionalInformationBlockConfig",(function(){return s.a})),i.d(t,"selectFilmPageTouchBlockConfig",(function(){return s.c}));i("sy9j");var c=function(){return{id:o.a,sagas:a.a,reducerMap:Object(n.a)({},o.a,r.a)}}},faye:function(e,t){e.exports=ReactDOM},gnpC:function(e,t,i){e.exports={root:"styles_root__2kdBQ"}},i2v3:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("kdn0"),o=i("o4DS"),a=Object(n.a)(o.a.SetExpectationReactionEffect)},iGtG:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("KD1n"),o=i("x8tt");function a(){var e=Object(n.a)(["\n    query FilmSimilarMovies(\n        $filmId: Long!\n        $similarMoviesLimit: Int = 10\n        $withUserData: Boolean = false\n    ) {\n        film(id: $filmId) {\n            id\n            userRecommendations(limit: $similarMoviesLimit) {\n                items {\n                    movie {\n                        id\n                        title {\n                            russian\n                            english\n                            original\n                        }\n                        countries {\n                            id\n                            name\n                        }\n                        poster {\n                            avatarsUrl\n                            fallbackUrl\n                        }\n                        genres {\n                            id\n                            name\n                            slug\n                        }\n                        rating {\n                            expectation {\n                                value\n                                count\n                                isActive\n                            }\n                            kinopoisk {\n                                value\n                                count\n                                isActive\n                            }\n                        }\n                        userData @include(if: $withUserData) {\n                            voting {\n                                value\n                            }\n                        }\n                        onlineViewOptions {\n                            textToDisplay\n                            isAvailableOnline\n                            isPurchased\n                            subscriptionPurchaseTag\n                            accessType\n                        }\n\n                        ... on Film {\n                            productionYear\n                        }\n                        ... on Video {\n                            productionYear\n                        }\n                        ... on TvSeries {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                        ... on TvShow {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                        ... on MiniSeries {\n                            releaseYears {\n                                start\n                                end\n                            }\n                        }\n                    }\n                    types\n                }\n                total\n            }\n        }\n    }\n"]);return a=function(){return e},e}var r=Object(o.gql)(a())},iNWU:function(e,t,i){e.exports={title:"styles_title__d5UEr"}},iuVV:function(e,t,i){"use strict";i("1vmJ")},"j/kK":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return M})),i.d(t,"d",(function(){return C})),i.d(t,"c",(function(){return F}));var n,o=i("zjfJ"),a=i("5QFK"),r=(n={},Object(o.a)(n,a.EncyclopedicPageBlockSections.AdditionalInformation,[{type:a.BlocksTypes.MovieSuperBanner,params:{}},{type:a.BlocksTypes.MovieDetails,params:{}},{type:a.BlocksTypes.MovieSimilarFilms,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieTrailersAndTeasers,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieFacts,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieBloopers,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieMediaPosts,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieTodayInCinema,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieCriticReviews,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieUserReviews,params:{useClientRender:!0}}]),Object(o.a)(n,a.EncyclopedicPageBlockSections.Sidebar,[{type:a.BlocksTypes.FilmBanner200x200,params:{}},{type:a.BlocksTypes.MovieFriends,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieListsRelations,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieSoundtrack,params:{useClientRender:!0}},{type:a.BlocksTypes.Banner300x600,params:{}}]),Object(o.a)(n,a.EncyclopedicPageBlockSections.Touch,[{type:a.BlocksTypes.TouchMovieBannerMedium,params:{}},{type:a.BlocksTypes.MovieSequelFilms,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieTrailersAndTeasers,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieActors,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieCreators,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieTouchRating,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieAwards,params:{useClientRender:!0}},{type:a.BlocksTypes.TouchMovieBannerSmall,params:{}},{type:a.BlocksTypes.MovieUserReviews,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieSimilarFilms,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieMediaPosts,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieFacts,params:{useClientRender:!0}},{type:a.BlocksTypes.MovieBloopers,params:{useClientRender:!0}},{type:a.BlocksTypes.TouchMovieBannerLarge,params:{}},{type:a.BlocksTypes.MovieAdditionalInfo,params:{useClientRender:!0}}]),n),l=i("cDcd"),s=i.n(l),c=i("O94r"),d=i.n(c),u=i("7JmY"),v=i("w++g"),m=i("GaWJ"),f=i("Phkd"),p=i.n(f),b=s.a.createElement,O=function(e){var t=e.className;return b("a",{href:m.routes.getUrl(m.SpecialsRoutes.Imax),target:"_blank",rel:"noopener noreferrer",className:d()(p.a.root,t),"data-tid":"3d28821c"},"IMAX")},g=i("rtUw"),I=i.n(g),y=s.a.createElement,j=function(e){var t,i=e.className,n=e.title,a=e.isTvOnly,r=e.isImax,s=e.colorScheme,c=void 0===s?u.BlocksColorSchemes.Light:s,m=Object(l.useMemo)((function(){return Object(v.presentMainTitle)(n)}),[n]),f=Object(l.useMemo)((function(){var e=Object(v.getContentType)(a);return e?" (".concat(e,")"):void 0}),[a]);return y(u.EncyclopedicPageTitle,{className:d()(i,I.a.root,(t={},Object(o.a)(t,I.a.rootMedium,!!m&&m.length>70),Object(o.a)(t,I.a.rootSmall,!!m&&m.length>110),t)),colorScheme:c,itemProp:"name"},y("span",{className:I.a.title,"data-tid":"67e47501"},m,f),r&&y("span",{className:I.a.imaxContainer,"data-tid":"67e47501"},y(O,{className:I.a.imax})))},k=i("ZlH5"),h=i.n(k),S=s.a.createElement,R=function(e){var t=e.className,i=e.title,n=e.restriction,a=e.colorScheme,r=void 0===a?u.BlocksColorSchemes.Light:a,l=Object(v.presentOriginalTitle)(i);return l||(null===n||void 0===n?void 0:n.age)?S(u.EncyclopedicPageSubtitle,{className:t,colorScheme:r},l&&S("span",{className:d()(h.a.originalTitle,Object(o.a)({},h.a.originalTitleSmall,l.length>70)),"data-tid":"3bbf3321"},l),(null===n||void 0===n?void 0:n.age)&&S(v.RestrictionNameplate,{age:n.age,colorScheme:r})):null},w=i("iNWU"),T=i.n(w),_=s.a.createElement,M=function(e){var t,i=e.className,n=e.film,o=e.colorScheme,a=void 0===o?u.BlocksColorSchemes.Light:o;return _("div",{className:d()(i),"data-tid":"742528af"},n.title&&_(s.a.Fragment,null,_(j,{id:n.id,title:n.title,isImax:(null===(t=n.releaseOptions)||void 0===t?void 0:t.isImax)||!1,className:T.a.title,isTvOnly:n.isTvOnly,colorScheme:a}),_(R,{title:n.title,restriction:n.restriction,colorScheme:a})))},E=i("GQvm"),C=Object(E.defaultMemoize)((function(e){if(e)return{text:e.toString(),link:m.routes.getUrl(m.SelectionsRoutes.SeoPageWithYear,{year:e},{quick_filters:"films"})}})),F={mediaPostsBlockTitle:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043e \u0444\u0438\u043b\u044c\u043c\u0435",seoDescription:"\u0412\u0441\u0451 \u043e \u0444\u0438\u043b\u044c\u043c\u0435: \u0434\u0430\u0442\u044b \u0432\u044b\u0445\u043e\u0434\u0430, \u0430\u043a\u0442\u0435\u0440\u044b, \u0442\u0440\u0435\u0439\u043b\u0435\u0440\u044b, \u0444\u043e\u0442\u043e. \u041e\u0442\u0437\u044b\u0432\u044b \u0437\u0440\u0438\u0442\u0435\u043b\u0435\u0439 \u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0438. \u0420\u0435\u0439\u0442\u0438\u043d\u0433. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b \u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u0438\u043b\u044c\u043c\u0435.",touchMediaPostsBlockTitle:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"}},ndTU:function(e,t,i){e.exports={root:"styles_root__2nGVp"}},o4DS:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.FetchInitialProps="film-page/FETCH_INITIAL_PROPS",e.AddBlocksConfig="film-page/ADD_BLOCKS_CONFIG",e.SetFolderEffect="film-page/SET_FOLDER_EFFECT",e.SetUserReviewVoteEffect="film-page/SET_USER_REVIEW_VOTE_EFFECT",e.SetUserRatingEffect="film-page/SET_USER_RATING_EFFECT",e.SetExpectationReactionEffect="film-page/SET_EXPECTATION_REACTION_EFFECT",e.FilmNoteSubmitEffect="film-page/SUBMIT_FILM_NOTE_EFFECT"}(n||(n={}))},oEWk:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return s}));var n=i("5QFK"),o=i("1vmJ"),a=function(e){return function(e){return e[o.a]}(e).blocksConfig},r=function(e){var t;return null===(t=a(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.Sidebar]},l=function(e){var t;return null===(t=a(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.AdditionalInformation]},s=function(e){var t;return null===(t=a(e))||void 0===t?void 0:t[n.EncyclopedicPageBlockSections.Touch]}},rtUw:function(e,t,i){e.exports={root:"styles_root__dt4P-",rootMedium:"styles_rootMedium__1-Ytt",rootSmall:"styles_rootSmall__2R_vc",imaxContainer:"styles_imaxContainer__2--SL",imax:"styles_imax__gSmQ_",title:"styles_title__2l0HH"}},sy9j:function(e,t,i){"use strict";i("iuVV"),i("+1kG")},zs4Q:function(e,t,i){e.exports={root:"styles_root__3BHiJ",basicMediaSection:"styles_basicMediaSection__3moOZ",basicInfoSection:"styles_basicInfoSection__26fFZ",basicInfoSectionDark:"styles_basicInfoSectionDark__3vQ02",basicMediaSectionDark:"styles_basicMediaSectionDark__14sFB",sidebarSection:"styles_sidebarSection__1Nr8c",additionalInformationSection:"styles_additionalInformationSection__2Ip8Y",videoContainer:"styles_videoContainer__2oqe-",delimiterInDark:"styles_delimiterInDark__V3kAf",main:"styles_main__2rWxx"}}},[["CuJt",1,6,5,0,2,3,4,8,7,9,10,11]]]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/kinopoisk/release/_next/static/Xr1kxtgOhigb0TZEr-98V/pages/film.js.map