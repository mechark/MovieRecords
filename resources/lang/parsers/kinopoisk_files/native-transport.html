<!DOCTYPE html>
<!-- saved from url=(0039)https://yandex.ru/chat/native-transport -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script nonce="">!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["native-transport"]=t():e["native-transport"]=t()}(window,function(){return function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="//yastatic.net/s3/chat-static/",r(r.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.getScope=t.yandexProxyFactory=void 0;var o=n(7);t.yandexProxyFactory=function(i,e){var r=new e;return Object.keys(r).forEach(function(n){Object.defineProperty(r,n,{get:function(){var e,t=i&&i[n]?i[n]:"o"===(e=n).charAt(0)&&"n"===e.charAt(1)?o.makeEventStub(n):o.makeFunctionStub(n);return Object.defineProperty(r,n,{value:t}),t},configurable:!0})}),r.notSupported=!i,r},t.getScope=function(e){var t="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0;if(t&&void 0!==t.yandex)return t.yandex[e]},t.guid=function(){return"xxxx-xxxx-xxxx-xxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YABRO_MESSENGER_WID=t.createMessengerApi=void 0;var i=n(0),r=function(e,t,n,i,r,o,s,a,u,c,d,f,p,l,h,y,m,v,S,g,E,b,_,x){this.setFluteState=e,this.setWebAppInitialized=t,this.getPageContext=n,this.insideOpenView=i,this.openRecommendationVideo=r,this.hideView=o,this.insideEnable=s,this.commitPath=a,this.makeWebAppVisible=u,this.sendEvent=c,this.isPanelEnabled=d,this.openView=f,this.openViewWithRequest=p,this.tryGetAuthorized=l,this.showFullTab=h,this.exitFullTab=y,this.showInWindow=m,this.showInBubble=v,this.onViewHidden=S,this.onInside=g,this.onViewNavigate=E,this.onVinsTextRequest=b,this.onEvent=_,this.onMessengerViewTypeChanged=x};t.createMessengerApi=function(){return i.yandexProxyFactory(i.getScope("messenger"),r)},t.YABRO_MESSENGER_WID="messenger:yabro_native"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExperiment=t.findExperiment=t.createExperimentsApi=t.STABLE_MSSNG_EXP_VERSION=void 0;var i=n(0);t.STABLE_MSSNG_EXP_VERSION=9;var r=function(e,t){this.getAll=e,this.getValue=t};function o(e,t){for(var n=0,i=e.length;n<i;){var r=Math.floor((n+i)/2),o=e[r],s=o.name,a=o.value;if(s===t)return a;s<t?n=r+1:i=r}}t.createExperimentsApi=function(){return i.yandexProxyFactory(i.getScope("experiments"),r)},t.findExperiment=o,t.getExperiment=function(e,t,n){e.getValue.notSupported?e.getAll(function(e){n(o(e,t))}):e.getValue(t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGES_NAMESPACE=void 0,t.MESSAGES_NAMESPACE="messenger-native-transport"},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1),t),r(n(2),t),r(n(8),t),r(n(9),t),r(n(10),t)},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";n.r(t),new(n(4).NativeTransportIframe)},function(e,t,n){"use strict";this&&this.__spreadArrays,Object.defineProperty(t,"__esModule",{value:!0}),t.makeEventStub=t.makeFunctionStub=void 0;var i={addListener:function(){},removeListener:function(){},notSupported:!0};function r(){}r.notSupported=!0,t.makeFunctionStub=function(e){return r},t.makeEventStub=function(e){return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStatisticsApi=void 0;var i=n(0),r=function(e){this.send=e};t.createStatisticsApi=function(){return i.yandexProxyFactory(i.getScope("statistics"),r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSoundApi=void 0;var i=n(0),r=function(e){this.playPushNotificationSound=e};t.createSoundApi=function(){return i.yandexProxyFactory(i.getScope("sound"),r)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(11),t),r(n(12),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTransportIframeClient=void 0;var i=n(3),r=function(){function e(e){var n=this;this.params=e,this.delayedMessages=[],this.isReady=!1,this.handleMessage=function(e){var t=e.data;if(t&&t.namespace===i.MESSAGES_NAMESPACE)switch(t.type){case"ready":n.listener.onReady();break;case"error":n.listener.onError();break;default:return}}}return e.prototype.create=function(e){var t=this;if(this.iframe)throw new Error("NativeTransportIframeClient already created");this.listener=e,this.iframe=document.createElement("iframe"),this.iframe.setAttribute("scrolling","no"),this.iframe.src=this.params.iframeUrl,this.iframe.style.visibility="hidden",this.iframe.style.position="absolute",this.iframe.style.border="none",this.iframe.style.height="0",this.iframe.style.width="0",this.iframe.style.top="-100000px",this.iframe.style.left="-100000px",this.origin=new URL(this.iframe.src).origin,window.addEventListener("message",this.handleMessage),this.iframe.onload=function(){t.isReady=!0,t.sendDelayedMessages()},this.iframe.onerror=function(){t.listener.onError()},document.body.append(this.iframe)},e.prototype.showChat=function(e){this.send("show-chat",e)},e.prototype.send=function(e,t){this.isReady?this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage({namespace:i.MESSAGES_NAMESPACE,type:e,payload:t},this.origin):this.delayedMessages.push({type:e,namespace:i.MESSAGES_NAMESPACE,payload:t})},e.prototype.sendDelayedMessages=function(){var t=this;this.delayedMessages.forEach(function(e){t.send(e.type,e.payload)}),this.delayedMessages=[]},e.prototype.destroy=function(){this.isReady=!1,this.delayedMessages=[],this.iframe&&(document.body.removeChild(this.iframe),this.iframe=void 0)},e}();t.NativeTransportIframeClient=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTransportIframe=void 0;var r=n(2),i=n(1),o=n(3),s=n(0),a=i.createMessengerApi(),u=r.createExperimentsApi(),c=function(){function e(){this.handleMessage=function(e){var t=e.data;if(t)switch(t.type){case"show-chat":a.sendEvent({id:s.guid(),from:"messenger:native_transport_iframe",type:"message",namespace:"messenger",to:i.YABRO_MESSENGER_WID,payload:{type:"iframe-open",payload:t.payload}})}},this.checkAvailability(),window.addEventListener("message",this.handleMessage)}return e.prototype.send=function(e,t){window.parent.postMessage({type:e,namespace:o.MESSAGES_NAMESPACE,payload:t},"*")},e.prototype.checkAvailability=function(){var i=this;Promise.all([new Promise(function(t){return a.isPanelEnabled(function(e){return t(e)})}),new Promise(function(n){r.getExperiment(u,"mssng",function(e){if(!e)return n(!1);var t=parseInt(e,10);n(t%2!=0&&t>=r.STABLE_MSSNG_EXP_VERSION)})})]).then(function(e){var t=e[0],n=e[1];t&&n?i.send("ready"):i.send("error")})},e}();t.NativeTransportIframe=c}])})</script></head><body></body></html>